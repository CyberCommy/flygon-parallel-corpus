- en: Sharpening the Saw
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A craftsman is only as good as his tools and tools need to be set up and maintained.
    Since you have an idea of what Kali Linux distro you are interested in installing,
    this chapter will help you set up and configure your personal versions of the
    platform. Kali Linux is versatile and can be used in several use cases.
  prefs: []
  type: TYPE_NORMAL
- en: When you first decided to use Kali Linux, you probably hadn't thought about
    the various common and uncommon uses. This chapter introduces you to ups that
    will work best for your Windows penetration testing requirements, the documentation
    tools that we use to make sure that the results of the tests are prepared and
    presented properly, and the details of Linux services that you need to operate
    these tools. Many books, including the first book Wolf Halton wrote about penetration
    testing, set its chapters in the order of the sub-menus in the Kali Security desktop.
    We found this to be less than intuitive. We have put all the setup at the beginning
    to reduce confusion for first-time Kali users, and because some things, such as
    the documentation tools, must be understood before you start using the other tools.
    The reason why the title of this chapter is *Sharpening the Saw* is because a
    poor workman, or an inexperienced hacker, blames his tools, a skilled craftsman
    spends a bit more time preparing tools so their work goes faster.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the Kali Gnome3 Desktop Menu, there is a sub-menu called **Favorites**,
    and on your first run these tools will be the tools that the creators of Kali
    Linux believe to be the most indispensable weapons for a working security analyst
    to understand. In this chapter, after installation and setup, we are going to
    show you the tools we use most. These may become your favorites. The following
    screenshot shows the Favorites menu at default. The defaults are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Firefox ESR**: A web browser'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Terminal**: A Bash Terminal emulator'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Files**: A file manager similar to Windows Explorer.exe'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**metasploit framework**: the gold standard of exploit frameworks'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**armitage**: A GUI front-end for metasploit'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**burpsuite**: A web-application attack proxy'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**beef xss framework**: A cross-site scripting tool'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**faraday IDE**: A multi-user pen testing environment with over 70 supported
    tools including Metasploit, Burpsuite, Terminal, and many others'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Leafpad**: Text editing application'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/c4135a04-dc0a-4b22-a487-faccef6d50f3.png)'
  prefs: []
  type: TYPE_IMG
- en: Many system services on Kali Linux are the same as those on Ubuntu and other
    Linux servers based upon the Debian platform, but because there are security tools
    that use a client/server model, there are services that will need to have their
    servers started early to run your tests successfully.
  prefs: []
  type: TYPE_NORMAL
- en: We will learn the following topics in this chapter
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali Linux to an encrypted USB drive
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Running Kali from the Live DVD
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing and configuring applications
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up and configuring OpenVAS
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reporting tests
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Running services on Kali Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Kali distro of your choice (Gnome, KDE, LXDE, or MATE)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A blank USB drive at least 16 GB in size.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A laptop or workstation with manual boot options
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Kali Linux to an encrypted USB drive
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Secure networking environments such as those found in most organizations that
    have IT departments present several challenges to you as a security engineer.
    The company probably has a specific list of approved applications. Antivirus applications
    are usually managed from a central location. Security tools are miscategorized
    as evil hacking tools or malware packages. Many companies have defensive rules
    against having any operating system that isn't Microsoft Windows installed on
    company computing hardware.
  prefs: []
  type: TYPE_NORMAL
- en: To add to the challenge, they prohibit non-corporate assets on the corporate
    network. The main problem you will find is that there are very few economical
    penetration testing tools written for Windows, and the few, such as **Metasploit**,
    that do have a Windows version, tend to fight with the lower-level operating system
    functions. Since most company laptops must have anti-virus software running on
    the system, you must do some serious exception voodoo on Metasploit's directories.
    The anti-virus software will quarantine all the viruses and the tools that come
    with Metasploit. Also, Local Intrusion Protection Software and local firewall
    rules will cause problems. These OS functions and security add-ons are designed
    to prevent hacking, and that is exactly what you are preparing to do.
  prefs: []
  type: TYPE_NORMAL
- en: The **Payment Card Industry Digital Security Standard** (PCI DSS 3.2.1) requires
    that any Windows machine that handles payment data or is on a network with any
    machine that handles payment data should be patched, run a firewall, and have
    anti-virus software installed on it. Further, many company IT security policies
    mandate that no end user can disable anti-virus protection without penalty.
  prefs: []
  type: TYPE_NORMAL
- en: Another issue with using a Windows machine as your penetration-testing machine
    is that you may do external testing from time to time. In order to do a proper
    external test the testing machine must be on the public internet. It is unwise
    to hang a Windows machine out on the public network with your all your security
    applications turned off. Such a configuration will probably be infected with worms
    within 20 minutes of putting it on the internet.
  prefs: []
  type: TYPE_NORMAL
- en: So what's the answer? An encrypted bootable USB drive loaded with Kali Linux.
    On Kali's install screen there is the option to install Kali to a USB drive with
    what is called **persistence**. This gives you the ability to install to a USB
    drive and have the ability to save files to the USB, but the drive is not encrypted.
    By mounting the USB drive with a Linux machine your files are there for the taking.
    This is fine for trying out Kali, but you don't want real test data floating around
    on a USB drive. By doing a normal full install of Kali to the USB drive, full
    disk encryption can be used on the disk. If the USB is compromised or lost, the
    data is still safe.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter we will install Kali to a 64 GB USB disk. You can use a smaller
    one but remember you will be gathering data from your testing and even on a small
    network this can amount to a lot of data. We do testing almost daily so we used
    a 1 TB USB 3.0 drive. The 64 GB drive is a good size for most testing.
  prefs: []
  type: TYPE_NORMAL
- en: Prerequisites for installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For this chapter you will need a 64 GB thumb drive, a copy of Kali burned to
    a DVD and a machine with a DVD player and USB capabilities on boot. You can download
    Kali at [https://www.kali.org/downloads/](https://www.kali.org/downloads/) and
    look for the link to download the version you want. The following screenshot shows
    part of the download page:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d54c751f-8152-4dbe-be12-320b1cf1fdc8.png)'
  prefs: []
  type: TYPE_IMG
- en: Since we showed you several distributions of Kali in [Chapter 1](b18fe074-058f-410f-86de-77499a727708.xhtml),
    *Choosing Your Distro*, the following screenshot shows what happens when you download
    all the available Kali Linux ISO files at one time.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3b8ead17-ade0-43c1-91a3-50122f010a8b.png)'
  prefs: []
  type: TYPE_IMG
- en: Booting up
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you are ready, insert your DVD and your USB drive into your machine.
  prefs: []
  type: TYPE_NORMAL
- en: Be sure and insert the USB *before* powering up the machine. You want the machine
    to see the USB on boot so the installer will see it during the install.
  prefs: []
  type: TYPE_NORMAL
- en: Now power up the machine and you'll get the following screen. Pick Graphical
    install from the menu.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/55759b88-f2bf-49cc-ae47-96d90bba7479.png)'
  prefs: []
  type: TYPE_IMG
- en: This installation will also work if you use the text installer found by picking
    the Install command on line six.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring the installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you have ever installed any distribution of Linux, the first section of the
    installation should seem very familiar. You will see a series of screens for setting
    the country, language, and keyboard. Set this up for your locale and language
    of choice. Normally the installer will discover the keyboard and you can click
    the one chosen. The default choices in the US are US standard English, and US
    standard keyboard mapping. Make appropriate changes then click the Continue button
    on each of these pages.
  prefs: []
  type: TYPE_NORMAL
- en: After these configurations you'll be given the window as follows to supply a
    **Hostname**. Give it a distinctive name and not the default. This will be helpful
    later when using saved data and screenshots. If you have several people using
    Kali and all the machines are named Kali it can be confusing as to exactly where
    the data came from.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6503b69c-e4bb-42aa-89b8-6d73ba803c20.png)'
  prefs: []
  type: TYPE_IMG
- en: The next screenshot asks for a domain name. Use a real domain name that you
    or your company controls. Do not use a bogus domain name, such as `.local` or
    `.localdomain`. If you are doing business on the internet, or are a student and
    want to be a security professional, please use a proper domain name. This makes
    tracing routes and tracking packets easier. Domains are cheap. If the domain belongs
    to your employer, and you cannot just use their domain name, request a subdomain
    such as `testing.mycompany.com`.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/5cae43e1-438d-45a3-afd8-81704cef0cad.png)'
  prefs: []
  type: TYPE_IMG
- en: In the next window you will be asked to provide a root password. Give this a
    *STRONG* password. The longer and more complex the password, the better. Remember,
    after a few tests the keys to your network will be on this device. Unlike most
    computer operations, during penetration testing you will be using the root account,
    and not a normal user account. You will need the ability to open and close ports
    and have full control of the network stack.
  prefs: []
  type: TYPE_NORMAL
- en: A standard Kali install does not offer you the chance to add a standard user.
    If you install Kali on the laptop itself, and use this laptop for other things
    besides testing, create a standard user and give it `sudoer` privileges. You never
    want to get into the habit of using your `root` account for browsing the World
    Wide Web and sending emails.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d5023e29-fc95-4d86-8af9-c093428f631b.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, you will be asked to choose your time-zone. Set up by your location on
    the graphical map, or pull-down menu, or pick your UTC offset. Many tools on Kali
    Linux output timestamps and these are legal evidence that you did what you said
    you did, when you said you did it.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up the drive
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The next step is setting up the drive, encrypting it, and partitioning the drive.
    The next dialog will ask you to select a type of partitioning for this install.
  prefs: []
  type: TYPE_NORMAL
- en: Pick Guided - use entire disk and set up encrypted LVM. This will fully encrypt
    the entire drive, as opposed to just encrypting the `/home` directory.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e37ff9d7-f685-479e-86d3-9099eb4c5c03.png)'
  prefs: []
  type: TYPE_IMG
- en: In the next window you will be asked to pick a disk upon which to install Kali
    Linux.
  prefs: []
  type: TYPE_NORMAL
- en: 'WARNING. Be careful to pick the USB disk and not your local drive. If you pick
    your local drive you will wipe the operating system from that drive. Note: in
    the window following you can see the USB drive and a VMware virtual disk. The
    virtual disk is the hard drive of the virtual machine being used for this demonstration.'
  prefs: []
  type: TYPE_NORMAL
- en: Pick the USB disk and click Continue.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5a3db1ce-5fdf-4700-9556-22c54e329e5c.png)'
  prefs: []
  type: TYPE_IMG
- en: In the next window you will be asked how to partition the drive. Choose the
    default and click Continue.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next you will be asked to save partitioning information, and this will start
    the partitioning process.
  prefs: []
  type: TYPE_NORMAL
- en: When you click Continue, here all data will be lost on the disk you are installing
    to. Click Yes and then Continue.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/beb651e7-c44c-4a88-9e08-881ce49ef4ee.png)'
  prefs: []
  type: TYPE_IMG
- en: This will start the disk encryption and partitioning process. First the drive
    is fully erased and encrypted. This will take a while. Get a cup of coffee or,
    better yet, go for a walk outside. A 1 TB drive will take about 30 hours to be
    encrypted. The 64 GB drive takes about 30 minutes.
  prefs: []
  type: TYPE_NORMAL
- en: In the next window, you will be asked to create a passphrase for the drive encryption.
    You will use this passphrase when booting up Kali. Note the term **passphrase**.
  prefs: []
  type: TYPE_NORMAL
- en: 'Use something long but easy to remember: a line from a song or a poem or quote!
    The longer the better! *Mary had a little lamb and walked it to town*. Even with
    no numbers in this phrase it would take John the Ripper over a month to crack
    this.'
  prefs: []
  type: TYPE_NORMAL
- en: Next you will be asked to confirm these changes. Pick **Finish partitioning
    and write changes to disk **and then click **Continue**.
  prefs: []
  type: TYPE_NORMAL
- en: Now the system will start the partitioning process.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c7c7ab9a-6e7b-4b0c-8257-f230667c3369.png)'
  prefs: []
  type: TYPE_IMG
- en: After the partitioning process, the system install will start. USB is a slow
    protocol, even compared to ATA hard drives, so it might be time to warm up your
    tea.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f517e49b-6a7b-4766-863a-c2e80aa84fe3.png)'
  prefs: []
  type: TYPE_IMG
- en: Next you will be asked if you want to use a Network Mirror. Click **Yes** on
    this! This will select repository mirrors close to your location and help speed
    up your updates later when you update your system.
  prefs: []
  type: TYPE_NORMAL
- en: Your installation process will now complete and you will be asked to reboot
    the system. Be sure and remove the install disk before rebooting.
  prefs: []
  type: TYPE_NORMAL
- en: Booting your new installation of Kali
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now we're ready to fire up Kali. Insert your Kali USB drive into your machine
    and power it up. In the beginning of the boot process you will be given the ability
    to manually select a boot drive. The specific keystroke will vary depending on
    the type and make of your machine. By whatever process your machine uses you will
    be given a menu of the available drives to boot from. Pick the USB drive and continue.
    When the system boots, you will be presented with a screen asking for your passphrase.
    This is the passphrase you chose earlier during the installation. This is not
    the root login password. Enter the passphrase and hit the *Enter* key.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6798339a-f6b8-492e-a3a2-47dfe6241bc1.png)'
  prefs: []
  type: TYPE_IMG
- en: This will start the actual boot process of the system from the now unencrypted
    drive. Once the system is booted up you will be a login screen as follows. The
    following screen is what you would see if you had installed the e17 flavor of
    Kali Linux.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/35d0a6e4-5ce5-478c-a393-7a069b88ec2d.png)'
  prefs: []
  type: TYPE_IMG
- en: In the e17 flavor, you log into the Terminal emulator screen with your root
    credentials, and then type `startx` to open the GUI.
  prefs: []
  type: TYPE_NORMAL
- en: The following screenshot is what you would see if you had installed the standard
    Gnome3 flavor.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the standard Gnome3 GUI installation, you will see a **GUI Desktop Manager**
    (**GDM**) login screenshot as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/9cd78881-f576-4a7b-94a1-363dd130f288.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Hacker trick**:'
  prefs: []
  type: TYPE_NORMAL
- en: Before we go any further we would advise you to use these tools only on systems
    you have written authorization to test, or systems that you personally own. Any
    use of these tools on a machine you do not have authorization to test is illegal
    under various Federal and State laws. When you get caught, you will go to jail.
    Sentences for hacking tend to be exorbitantly long.
  prefs: []
  type: TYPE_NORMAL
- en: Get a personal copy of the testing waiver that your company receives to allow
    them to test the client's network and systems. This document should contain the
    dates and times of testing and the IP addresses and/or networks to be tested.
    This is the scope of your testing. This document is your *Get out of jail free
    card*. Do not test without this.
  prefs: []
  type: TYPE_NORMAL
- en: Now with that said let's log in and continue our set up. The following screenshot
    shows the Gnome3 desktop.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f4d62260-4603-4b55-af62-0aa0b199d702.png)'
  prefs: []
  type: TYPE_IMG
- en: 'On your first login, check that everything is up to date. Since this is a rolling
    distribution, there will almost always be a few updates. There are a few ways
    to get to your terminal emulator:'
  prefs: []
  type: TYPE_NORMAL
- en: Pull up a terminal widow by clicking in the Applications menu bar in the upper
    left hand corner. Go to Applications | Usual applications | System tools | Terminal.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the same Applications menu, go to Applications | Favorites | Terminal.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You might notice that the Favorites menu is also displayed as a button bar on
    the left side of the desktop. Click the Terminal button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On a bare-metal install (as opposed to a virtual machine installation), you
    can hit *Alt* + *F2* to open a run dialog, then type `gnome-terminal`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Any of these should bring up the terminal or command line window. Type the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'This will refresh the update list and check for new updates. Next, run:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: This will run the upgrade process as the `-y` automatically answers yes to the
    upgrade. The system will run an upgrade of all applications. Reboot if necessary.
  prefs: []
  type: TYPE_NORMAL
- en: Running Kali from the Live DVD
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Running Kali Linux from Live Disk is best when you are doing forensics or recovery
    tasks. Live Disk doesn't write anything to the machine's hard drives. Some tools,
    such as **OpenVAS**, will not work at all, because they have to be configured
    and file updates must be saved. You can't do this from the DVD.
  prefs: []
  type: TYPE_NORMAL
- en: To run Kali from the DVD, just load the disk in the machine you are testing
    and boot from it. You will see the following screen. This is the screen from which
    you chose the Graphical Installer in an earlier section of this chapter. We will
    discuss the options now. Note that there are several options in boot live from
    the DVD.
  prefs: []
  type: TYPE_NORMAL
- en: Booting from the first option loads Kali complete with a working network stack.
    You can run a lot of the tools over the network with this option. One of the best
    uses for this mode is the recovery of a dead machine. It may allow you to resurrect
    a crashed machine after the OS drive dies. No matter what voodoo you do with fsck
    and other disk utilities it just will not come back up on its own. If you boot
    from the live DVD, you can then run fsck and most likely get the drive back up
    enough to copy data from it. You can then use Kali to copy the data from the drive
    to another machine on the network.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Booting from the second option will boot Kali with no running services and no
    network stack. This option is good when things really go bad with a system. Perhaps
    it was struck by lightning and the Network interface card is damaged. You can
    do the above operation and copy the data to a mounted USB drive in this mode.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The third option is Forensic Mode. When booted with this option it does its
    best not to touch the machine itself when booting. No drives are spun up and the
    memory is not fully flushed as with a normal boot up. This allows you to capture
    old memory from the last boot and allows you to do a forensic copy of any drives
    without actually touching the data. You do not have a working network stack or
    running services.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Booting from the fourth and fifth options requires you to install Kali onto
    a USB drive and run it from the USB drive. When you boot from the USB you will
    get the same screen but you will pick one of these options. For the USB with Persistence
    options, see the link listed ([http://kali.org/prst](http://kali.org/prst)) for
    an excellent tutorial.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you are comfortable with the Linux command line, you may want the sixth option.
    This is the **Debian Ncurses** installer. It has all the functions of the graphical
    installer, but is lacks the modern slick look of the graphical installer. You
    can also use this installer with the option for fully installing to an encrypted
    USB. The steps are all the same.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Graphical install** is for installing directly to a hard drive and, as in
    our demonstration, you can also use it to do a full install to a USB or Flash
    Drive.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/a1c3f81c-885b-4d53-bcc9-2c41f390b6d7.png)'
  prefs: []
  type: TYPE_IMG
- en: Installing and configuring applications
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Most of what you need comes preloaded on Kali. If you are working with Kali
    in specific areas, Kali provides a list of specific categories of tools in the
    [https://tools.kali.org/kali-metapackages](https://tools.kali.org/kali-metapackages)
    page, shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4962e68e-2e35-47ba-996a-27e95db07114.png)'
  prefs: []
  type: TYPE_IMG
- en: That is a useful data source, but it may complicate your life a little, by forcing
    you to make choices. There are a few applications we have found useful that are
    not loaded with the base install. We will also set up and configure OpenVAS for
    use as our vulnerability scanner.
  prefs: []
  type: TYPE_NORMAL
- en: Gedit – the Gnome Text Editor
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Kali comes with **Leafpad** as its default text editor. This is a very lightweight
    text editor. Kali''s desktop is Gnome-based and the Gnome text editor **Gedit**
    is a much better editor. To install:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Once installed, you will find it under Usual applications | Accessories.
  prefs: []
  type: TYPE_NORMAL
- en: Geany – the platform-agnostic code IDE
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Geany is Wolf''s favorite text editor/IDE. It has a lot of string editing capability,
    as well as automatic code-tag closures and highlighting. Finally, it works on
    any platform from Kali to Windows. It is a time-saver to have an editor that works
    the same on all the platforms you touch. Just a few more of the features from
    the Geany Project website ([https://www.geany.org/Main/About](https://www.geany.org/Main/About))
    are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Build system to compile and execute your code
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Code folding
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Code navigation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Construct completion/snippets
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Symbol name auto-completion
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Many supported file types including C, Java, PHP, HTML, Python, Perl, and many
    more
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Symbol lists
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Simple project management
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Plugin interface
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To install:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Once installed you will find it under Usual applications | Programming.
  prefs: []
  type: TYPE_NORMAL
- en: The following screenshot shows the implementation of Geany on Kali Linux. Note
    the code highlighting and the included terminal to show the output.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/db1b7e37-3b67-4f22-8059-ceece22f539b.png)'
  prefs: []
  type: TYPE_IMG
- en: Terminator – the Terminal emulator for multi-tasking
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This is Bo''s favorite terminal application. You can split the screen into
    several windows. This turns out to be a great help when running several SSH sessions
    at the same time. It also has a broadcast function where you can run the same
    string in all windows at the same time. Here are some more major features from
    the terminator website ([https://gnometerminator.blogspot.com/p/introduction.html](https://gnometerminator.blogspot.com/p/introduction.html)):'
  prefs: []
  type: TYPE_NORMAL
- en: Arrange terminals in a grid
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tabs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag and drop re-ordering of terminals
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Keyboard shortcuts
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GUI preferences editor that lets you save multiple layouts and profiles
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To install:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/6ace2493-4137-4685-a8a7-8a86dfcfe1a2.png)'
  prefs: []
  type: TYPE_IMG
- en: Etherape – the graphical protocol-analysis tool
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This is a great visual passive/active network sniffing tool. It works well for
    sniffing Wi-Fi networks. It shows you where the services are running and can also
    show you where users are doing suspicious bit-torrent downloads and other behaviors
    that are not approved on most corporate networks.
  prefs: []
  type: TYPE_NORMAL
- en: 'To install:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/ea29ab45-3dae-4af3-9d76-bcdf7e81e443.png)'
  prefs: []
  type: TYPE_IMG
- en: Setting up and configuring OpenVAS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Recon is everything, so a good vulnerability scanner is essential. Kali used
    to come with OpenVAS installed. Now you have to install OpenVAS.
  prefs: []
  type: TYPE_NORMAL
- en: 'To install:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: It must be configured and updated before use. Fortunately, Kali comes with a
    helpful script to set this up. This can be found under Applications | Vulnerability
    analysis | openvas initial setup. Clicking on this will open a Terminal window
    and run the script for you. This will set up self-signed certificates for SSL
    and download the latest vulnerability files and related data. It will also generate
    a password for the admin account on the system.
  prefs: []
  type: TYPE_NORMAL
- en: Be sure and save this password; you will need it to log in. You can change it
    after your first login.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e55b2b0a-cd7c-46d6-89c7-00e9aaa2ec9e.png)'
  prefs: []
  type: TYPE_IMG
- en: Kali also comes with a check set up script which will check the services and
    configuration. If an issue does come up it will give you help information on the
    issue. This script can be found at Applications | System Services | openvas check
    setup.
  prefs: []
  type: TYPE_NORMAL
- en: Click this and a Terminal window will open and run the script.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c5f0608a-2e64-4709-97a2-4ba714e9effc.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The script results are as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e699f663-7946-450e-8a2e-ab6fa31b73dd.png)'
  prefs: []
  type: TYPE_IMG
- en: Note this check shows the running ports for the services. The check shows a
    warning to the effect that these services are only running on the local interface.
    This is fine for your work. It may at some point be useful for you to run the
    OpenVAS server on some other machine to improve the speed of your scans.
  prefs: []
  type: TYPE_NORMAL
- en: Next we will log into the Greenbone web interface to check Openvas.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the browser and go to `https://localhost:9392`. You will be shown a security
    warning for a self-signed certificate; accept this and you will get a login screen,
    as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7ca0eabf-1bf7-4880-8dd7-132093d8a4ca.png)'
  prefs: []
  type: TYPE_IMG
- en: You will log in with the user name `admin` and the very long and complex password
    generated during the set up. Don't worry, we're going to change that once we get
    logged in. Once logged in you will see the following page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now go to the Administration | Users tab as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/03024b05-fe18-42d1-b450-ec08560462db.png)'
  prefs: []
  type: TYPE_IMG
- en: This will take you to the user administration page.
  prefs: []
  type: TYPE_NORMAL
- en: Click the wrench link to the right of the name `admin`; this will open the edit
    page for the admin user.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ba6d5c22-6d74-4507-98e5-d3375e82b71f.png)'
  prefs: []
  type: TYPE_IMG
- en: Change the radio button for Use existing value to the blank field; add your
    new password and click the Save button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/499c9aa8-48e1-4367-91fa-b908be5c496a.png)'
  prefs: []
  type: TYPE_IMG
- en: We've now finished setting up OpenVAS and we're ready to do some real work.
  prefs: []
  type: TYPE_NORMAL
- en: Reporting tests
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Clean and clear documentation helps you report your work. There are two documentation
    tools we use to keep documentation organized:'
  prefs: []
  type: TYPE_NORMAL
- en: KeepNote
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dradis
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A document organizer is a not just a glorified text editor or weak word processor.
    Proper documentation requires an organized filing structure. Certainly, a Windows
    security analyst could create a folder structure that lets them organize the documents
    in Kali Linux, just as they would on their Windows workstation. It is in-built
    in document organizing applications and using them reduces the chance of losing,
    or accidentally recursing, your folders. It is easier to keep track of your investigation's
    documentation. You can also create templates for the directory structure so you
    can standardize on a structure, which also makes your work easier.
  prefs: []
  type: TYPE_NORMAL
- en: KeepNote – stand-alone document organizer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**KeepNote** is a simpler tool, and quite sufficient if you are working alone.
    To find KeepNote, open the Application menu and click on Applications | Usual
    applications | Office | KeepNote. The following screenshot shows a KeepNote setup
    similar to the way you would record a short test.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/60e89dca-d3dd-447f-90c0-dd54ccbed480.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Hacker note**:'
  prefs: []
  type: TYPE_NORMAL
- en: 'To edit images, as shown in the preceding screenshot, open a terminal and type:'
  prefs: []
  type: TYPE_NORMAL
- en: '`**root@kalibook: ~# apt install gimp**`'
  prefs: []
  type: TYPE_NORMAL
- en: '`**Then drag the images from your working image directory into the keepnote
    directory.**`'
  prefs: []
  type: TYPE_NORMAL
- en: Dradis – web-based document organizer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Dradis** is a web application, and can be used to share documentation with
    a team. The default URL for Dradis is `https://127.0.0.1:3004`. The application
    can be hosted on a remote secure server, and that is the best feature about Dradis.
    The following screenshot comes from [http://dradisframework.org](http://dradisframework.org).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0dade2b6-e6ba-45ea-8b9f-29d7e8028076.png)'
  prefs: []
  type: TYPE_IMG
- en: Running services on Kali Linux
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are several services that you will want to turn on when you need them.
    The general use of services in Windows and Linux is to have them start when the
    computer boots up. Most administrators spend little time managing services unless
    something goes wrong. In the Kali system, you will tend to shut down the workstation
    when you are not actually doing security analysis tasks, and you certainly do
    not want security tools, such as OpenVAS or Metasploit, that you have on your
    workstation to be accessible over the internet. This means that you will want
    to start them when you need them and shut them down when you are not using them.
  prefs: []
  type: TYPE_NORMAL
- en: You can find the commands to start and stop Kali Services from the Applications
    menu—Applications | System Services
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3da5ca96-3a79-40a0-b829-fece3b0daac0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Another way to work with services is by using `systemctl` on the command line.
    As an example, consider HTTP (Apache2). There are several options for services:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Start**: This starts the Apache webserver and shows the **process ID** (**PID**)*.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Status**: Shows the status of the server. Is it up? Is it down? Is it stuck?'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Restart**: Takes the server down and restarts it on a different PID. Use
    this if the server is stuck or if you have changed the networking processes on
    which the server depends.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Reload**: Re-reads the configuration. Use this when you make minor changes
    to configurations.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Stop**: This shuts down the webserver.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The following screenshot shows A readout comparing `apache2ctl` and `systemctl`
    for a status request for the apache2 webserver. An entire book could probably
    be written about the powerful `systemctl` command.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0c869f80-c4d3-4377-9aa6-9ab958f99749.png)'
  prefs: []
  type: TYPE_IMG
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter shows you two ways to set up Kali Linux so that you can use your
    company-issued Windows laptop, or any other laptop, to get better performance
    out of Kali Linux and not to have requisition to a new machine just for Kali.
    Most enterprises do not allow you to dual-boot your computer, and running Kali
    on a VM throttles the resources for your Kali installation. Further, this chapter
    shows you the two reporting tools we use, and the situations where each of these
    tools makes the most sense. We show you how to set up OpenVAS for the first time.
    We also show you how to run services on Kali Linux.
  prefs: []
  type: TYPE_NORMAL
