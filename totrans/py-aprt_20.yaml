- en: Appendix C – Installing third-party packages
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Packaging in Python has had a troubled and confusing history. Thankfully, the
    situation has settled down and a tool called `pip` has emerged as the clear front-runner
    among package installation tools for general purpose Python use. For more specialist
    uses such as numerical or scientific computing which rely on the *Numpy* or *Scipy*
    packages you should consider *Anaconda* as a strong alternative to `pip`.
  prefs: []
  type: TYPE_NORMAL
- en: Introducing `pip`
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In this appendix we’ll focus on `pip`, as it is officially blessed by the core
    Python developers and comes with support out of the box. The `pip` tool is included
    and installed with Python since Python 3.4\. For older versions of Python 3, you’ll
    need to look up specific instructions on how to install `pip` for your platform,
    as you may need to use your operating system’s package manager, depending on how
    you originally installed Python. The best place to start is the [Python Packaging
    User Guide](https://packaging.python.org/tutorials/installing-packages/#install-pip-setuptools-and-wheel).
  prefs: []
  type: TYPE_NORMAL
- en: The `venv` module will also ensure that `pip` is installed into newly created
    environments.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `pip` tool is developed independently of the rest of the standard library,
    so there are often more recent versions available than the version that came packaged
    with your Python distribution. You can use `pip` to upgrade itself with:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: This is useful to do, to avoid repeated warning from `pip` about not being up-to-date.
    Bear in mind though, that this will only take effect in your current Python environment,
    which may be a virtual-environment.
  prefs: []
  type: TYPE_NORMAL
- en: The Python Package Index
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The `pip` tool can search for packages in a central repository — the *Python
    Package Index*, or *PyPI*, also known by the nickname “Cheeseshop” — and then
    download and install them along with their dependencies. You can browse the PyPI
    at [https://pypi.python.org/pypi](https://pypi.python.org/pypi). This is an extremely
    convenient way to install Python software, so it’s good to understand how to use
    it.
  prefs: []
  type: TYPE_NORMAL
- en: Installing with `pip`
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: We’ll demonstrate how to use `pip` by installing the `nose` testing tool. `nose`
    is a sort of power-tool for running `unittest` based tests such as those we developed
    in Chapter 10\. One really useful thing it can do is *discover* all of your tests
    and run them. This means that you don’t need to add `unittest.main()` into your
    code; you can just use nose to find and run your tests.
  prefs: []
  type: TYPE_NORMAL
- en: 'First though, we need to do some groundwork. Let’s create a virtual environment
    (see Appendix B) so we don’t inadvertently install into our system Python installation.
    Create a virtual environment using `pyenv`, and activate it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'As `pip` is updated much more frequently than Python itself, it’s good practice
    to upgrade `pip` in any new virtual environment, so let’s do that. Fortunately,
    `pip` is capable of updating itself:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: If you don’t upgrade `pip` it will give you warnings every time you use it,
    if a new version has become available since you last upgraded.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now let’s use `pip` to install `nose`. `pip` uses subcommands to decide what
    to do, and to install modules you use `pip install package-name`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'If this succeeds, `nose` is ready to use in our virtual environment. Let’s
    check that it’s available by trying to import it at the REPL and instrospecting
    the path at which it is installed:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'As well as installing a module, `nose` installs the `nosetests` program in
    the `bin` directory of the virtual environment. To really put the icing on the
    cake, let’s use `nosetests` to run the tests from `palindrome.py` from Chapter
    11:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Installing local packages with `pip`
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'You can also use `pip` to install from local packages in files rather than
    from the Python Package Index. To do this, pass the filename of the packaged distribution
    to `pip install`. For example, in Appendix B we showed how to build a so called
    source distribution using `distutils`. To install this using `pip`, do:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Uninstalling packages
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'A key advantage to installing packages with `pip` rather than directly invoking
    `setup.py` of the source distribution is that `pip` knows how to uninstall packages.
    To do so, use the `uninstall` subcommand:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
