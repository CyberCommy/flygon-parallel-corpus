- en: '*Chapter 2*: Setting Up the Development Environment'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you will install the tools that you'll need to use Node-RED.
    This extends not only to Node-RED itself, but to its runtime, Node.js, and how
    to update both Node-RED and Node.js.
  prefs: []
  type: TYPE_NORMAL
- en: Node-RED released its 1.0 milestone version in September 2019\. This reflects
    the maturity of the project, as it is already being widely used in production
    environments. It continues to be developed and keeps up to date by making changes
    to the underlying Node.js runtime. You can check the latest status of Node-RED's
    installation at [https://nodered.org/docs/getting-started/](https://nodered.org/docs/getting-started/).
  prefs: []
  type: TYPE_NORMAL
- en: There are a number of installation guides on the Node-RED official website,
    such as local, Raspberry Pi, Docker, and major cloud platforms.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, you will learn how to install Node-RED on your local computer,
    whether you are running it on Windows, Mac, or on a Raspberry Pi. We will cover
    the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Installing `npm` and Node.js for Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing `npm` and Node.js for Mac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing `npm` and Node.js for Raspberry Pi
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Node-RED for Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Node-RED for Mac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Node-RED for Raspberry Pi
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: By the end of this chapter, we'll have all the necessary tools installed and
    be ready to move on to building some basic flows with Node-RED.
  prefs: []
  type: TYPE_NORMAL
- en: For reference, the author's test operation environment is Windows 10 2004 18363.476,
    macOS Mojave 10.14.6 (18G5033), and Raspberry Pi OS 9.4 stretch.
  prefs: []
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You will need to install the following for this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Node.js (v12.18.1)*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: npm (v6.14.5)*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*LTS version at the time of writing for both.'
  prefs: []
  type: TYPE_NORMAL
- en: Installing npm and Node.js for Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you want to use Node-RED on Windows, you must install npm and Node.js via
    the following website:'
  prefs: []
  type: TYPE_NORMAL
- en: https://nodejs.org/en/#home-downloadhead.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can get the Windows Installer of Node.js directly there. After that, follow
    these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Access the original Node.js website and download the installer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You can choose both versions – **Recommended** or **Latest Features** – but
    in this book, you should use the **Recommended** version:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.1 – Choosing a Recommended version installer'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.1_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.1 – Choosing a Recommended version installer
  prefs: []
  type: TYPE_NORMAL
- en: Click the `msi` file you downloaded to start installing Node.js. It includes
    the current version of npm. Node-RED is running on the Node.js runtime, so it
    is needed.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Simply click the buttons of the dialog windows according to the installation
    wizard, though there are some points to bear in mind during the install.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, you need to accept the End-User License Agreement:![Figure 2.2 – End-User
    License Agreement window
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/Figure_2.2_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.2 – End-User License Agreement window
  prefs: []
  type: TYPE_NORMAL
- en: 'You can also change the install destination folder. In this book, the default
    folder (`C:/Program Files/nodejs/`) will be used:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.3 – Installing the destination folder'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.3_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.3 – Installing the destination folder
  prefs: []
  type: TYPE_NORMAL
- en: No custom setup is needed on the next screen. You can select **Next** with only
    the default features selected:![Figure 2.4 – No custom setup is needed
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/Figure_2.4_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.4 – No custom setup is needed
  prefs: []
  type: TYPE_NORMAL
- en: On the following screen, you can click **Next** without checking anything. However,
    it's OK to install the tools that can be selected here. This includes the installations
    and settings the path of these environments (Visual C++, windows-build-tools,
    and Python):![Figure 2.5 – Tools for Native Modules window
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/Figure_2.5_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.5 – Tools for Native Modules window
  prefs: []
  type: TYPE_NORMAL
- en: 'Check the versions of your tools with the following commands when the installation
    for Node.js has finished:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: When the installations of Node.js and npm are complete, you can check their
    version numbers. With this, you are prepared to install Node-RED.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: Depending on the project, it is common for the operation to be stable with the
    old Node.js version but for it not to work if you use a different version of Node.js.
    However, uninstalling your current version of Node.js and installing the desired
    version of Node.js every time you switch projects takes time. So, if you're using
    Windows, I recommend using a Node.js version management tool such as nodist ([https://github.com/nullivex/nodist](https://github.com/nullivex/nodist)).
    There are other kinds of version control tools for Node.js, so please try to find
    one that is easy for you to use.
  prefs: []
  type: TYPE_NORMAL
- en: Installing npm and Node.js for Mac
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you want to use Node-RED on macOS, you must install `npm` and Node.js via
    the following website:'
  prefs: []
  type: TYPE_NORMAL
- en: https://nodejs.org/en/#home-downloadhead
  prefs: []
  type: TYPE_NORMAL
- en: You can get the Mac Installer for Node.js directly there.
  prefs: []
  type: TYPE_NORMAL
- en: 'Access the original Node.js website and download the installer. You can choose
    either the recommended or latest features version, but for this book, you should
    use the recommended version:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.6 – Choosing a recommended version installer'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.6_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.6 – Choosing a recommended version installer
  prefs: []
  type: TYPE_NORMAL
- en: Click the `.pkg` file you downloaded to start installing Node.js. It includes
    the current version of `npm`. Node-RED is running on the Node.js runtime, so it
    is needed. Simply click according to the installation wizard, though there are
    some points in the installation to pay attention to.
  prefs: []
  type: TYPE_NORMAL
- en: 'You need to accept the End-User License Agreement:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.7 – End-User License Agreement window'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.7_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.7 – End-User License Agreement window
  prefs: []
  type: TYPE_NORMAL
- en: 'You can change the installation location. In this book, the default location
    (Macintosh HD) will be used:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.8 – Install location'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.8_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.8 – Install location
  prefs: []
  type: TYPE_NORMAL
- en: 'You can check the versions of your tools with the following commands when the
    installation for Node.js has finished. Once you have finished installing Node.js
    and `npm`, you can check their version numbers. You have already prepared to install
    Node-RED:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: Depending on the project, it is common for the operation to be stable with the
    old Node.js version, and that it will not work if you use a different version
    of Node.js. However, uninstalling the current Node.js version and installing the
    desired version of Node.js every time you switch projects takes time. So, if you're
    using macOS, I recommend using a Node.js version management tool such as Nodebrew
    ([https://github.com/hokaccha/nodebrew](https://github.com/hokaccha/nodebrew)).
    There are other kinds of version control tools for Node.js, so please try to find
    one that is easy for you to use.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have covered the installation processes for both Windows and Mac,
    let's learn how to install `npm` and Node.js for Raspberry Pi.
  prefs: []
  type: TYPE_NORMAL
- en: Installing npm and Node.js for Raspberry Pi
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you want to use Node-RED on Raspberry Pi, congratulations – you are already
    prepared to install Node-RED. This is because Node.js and npm are installed by
    default. You can use the existing installation script to install Node-RED, including
    Node.js and npm. This script will be described later in this chapter, in the *Installing
    Node-RED for Raspberry Pi* section, so you can skip this operation for now.
  prefs: []
  type: TYPE_NORMAL
- en: 'However, you should check your Node.js and npm versions on your Raspberry Pi.
    Please type in the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'If it is not the LTS version or stable version, you can update it via the CLI.
    Please type in and run the following commands to do this. In this command, on
    the last line, `lts` has been used, but you can also put `stable` instead of `lts`
    if you want to install the stable version:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Now that we have successfully checked the versions of Node.js and npm on our
    Raspberry Pi and updated them (if applicable), we will move on to installing Node-RED
    for Windows.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: The script the Node-RED project provides takes care of installing Node.js and
    `npm`. It is not generally recommended to use the versions that are provided by
    Raspberry Pi OS due to the strange ways they package them.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Node-RED for Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will explain how to set up Node-RED in a Windows environment.
    This procedure is for Windows 10, but it will work for Windows 7 and Windows Server
    2008 R2 and above as well. Windows 7 or earlier versions of Windows Server 2008
    R2 are not currently supported and are not recommended.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, installing Node-RED as a global module adds the `node-red` command
    to your system path. Run the following command in Command Prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have finished installing Node-RED, you can use Node-RED straight away.
    Please run the following command. After running this command, you will recognize
    the URL being used to access the Node-RED flow editor. Usually, localhost (127.0.0.1)
    with the default port 1880 will be allocated:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Let''s access Node-RED on a browser. For this, type in the URL you received
    from Command Prompt. I strongly recommend using Chrome or Firefox for running
    Node-RED:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.9 – Node-RED flow editor'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.9_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.9 – Node-RED flow editor
  prefs: []
  type: TYPE_NORMAL
- en: Now, you are ready to program in Node-RED. From [*Chapter 3*](B16353_03_ePub_AM.xhtml#_idTextAnchor044),
    *Understanding Node-RED Characteristics by Creating Basic Flows*, onward, we will
    learn how to actually build an application using Node-RED.
  prefs: []
  type: TYPE_NORMAL
- en: For now, let's move on to installing Node-RED in macOS.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Node-RED for Mac
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will explain how to set up Node-RED in a macOS environment.
    This procedure is for macOS Mojave. It will likely work for all versions of Mac
    OS X, but I strongly recommend that you use the current version of macOS.
  prefs: []
  type: TYPE_NORMAL
- en: 'For macOS, installing Node-RED as a global module adds the `node-red` command
    to your system path. Run the following command in the Terminal. You may need to
    add `sudo` at the front of the command, depending on your local settings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'You can also install Node-RED with other tools. This is mainly for Mac/Linux
    or the kinds of OS that support the following tools:'
  prefs: []
  type: TYPE_NORMAL
- en: Docker ([https://www.docker.com/](https://www.docker.com/)), if you have the
    environment for running Docker.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The current Node-RED 1.x repository on Docker Hub has been renamed "`nodered/node-red`".
  prefs: []
  type: TYPE_NORMAL
- en: Versions up to 0.20.x are available from [https://hub.docker.com/r/nodered/node-red-docker](https://hub.docker.com/r/nodered/node-red-docker).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Snap ([https://snapcraft.io/docs/installing-snapd](https://snapcraft.io/docs/installing-snapd))
    if your OS supports it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'If you install it as a Snap package, you can run it in a secure container that
    doesn''t have access to the external features you have to use, such as the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Access main system storage (only read/write to local home directory is allowed).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Gcc: Required to compile the binary components for the node you want to install.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Git: Required if you want to take advantage of project features.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Direct access to GPIO hardware.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Access to external commands, such as flows executed in Exec nodes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There's less security for containers, but you can also run them in **classic**
    mode, which gives you more access.
  prefs: []
  type: TYPE_NORMAL
- en: 'Run the following command to install Node-RED with Snap:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have finished installing Node-RED, you can use Node-RED immediately.
    Please run the following command. After running this command, you can find the
    URL for accessing the Node-RED flow editor. Usually, localhost (`127.0.0.1`) with
    the default port `1880` will be allocated:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Let''s access Node-RED on a browser. Type in the URL you received from Command
    Prompt. I strongly recommend using Chrome or Firefox for running Node-RED:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.10 – Node-RED flow editor'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.10_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.10 – Node-RED flow editor
  prefs: []
  type: TYPE_NORMAL
- en: Now, you are ready to program in Node-RED. In [*Chapter 3*](B16353_03_ePub_AM.xhtml#_idTextAnchor044),
    *Understanding Node-RED Characteristics by Creating Basic Flows,* we will learn
    how to actually build an application using Node-RED.
  prefs: []
  type: TYPE_NORMAL
- en: Our final installation will be for Node-RED on Raspberry Pi.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Node-RED for Raspberry Pi
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will explain how to set up Node-RED in a Raspberry environment.
    This procedure is for Raspberry Pi OS Buster (Debian 10.x), but it will work for
    Raspberry Pi OS Jessie (Debian 8.x) and above.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can check your version of Raspberry Pi OS easily. Just run the following
    command on your Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'If you want to also check the version of Debian you have, please run the following
    command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: You have now prepared to install Node-RED. The following script installs Node-RED,
    including Node.js and `npm`. This script can also be used for upgrading your application,
    which you have already installed.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: This instruction is subject to change, so it is recommended that you refer to
    the official documentation as needed.
  prefs: []
  type: TYPE_NORMAL
- en: 'This script works on Debian-based operating systems, including Ubuntu and Diet-Pi:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: You may need to run `sudo apt install build-essential git` to ensure that npm
    can build the binary components that need to be installed.
  prefs: []
  type: TYPE_NORMAL
- en: Node-RED is already packaged as a Raspberry Pi OS repository and is included
    in the *Recommended Software* list. It can be installed with the `apt-get install
    Node-RED` command, and it also contains a Raspberry Pi OS packaged version of
    Node.js, but npm is not included.
  prefs: []
  type: TYPE_NORMAL
- en: While using these packages may seem convenient at first glance, it is highly
    recommended to use the installation script instead.
  prefs: []
  type: TYPE_NORMAL
- en: 'After the installation, you can start Node-RED and access the Node-RED flow
    editor. We have two ways to start it, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Run with the CLI: If you want to run Node-RED locally, you can start Node-RED
    by using the `node-red` command in your Terminal. Then, you can stop it by pressing
    *Ctrl* + *C* or closing the Terminal window:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'Run via Programming menu: Once Node-RED has been installed, you can start it
    from the Raspberry Pi menu. Click **Menu | Programming | Node-RED** to open the
    Terminal and launch Node-RED. Once Node-RED has been launched, you can access
    the Node-RED flow editor from your browser, just as you would in the CLI:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.11 – Accessing Node-RED via the Raspberry Pi menu'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.11_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.11 – Accessing Node-RED via the Raspberry Pi menu
  prefs: []
  type: TYPE_NORMAL
- en: 'After launching Node-RED from the menu, you should check the Node-RED running
    process on your Terminal and find the URL of the Node-RED flow editor. It is usually
    the same URL as the one that can be launched via the CLI directly:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.12 – Checking the URL to access the Node-RED flow editor'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.12_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.12 – Checking the URL to access the Node-RED flow editor
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s access Node-RED on a browser. You can type in the URL you received from
    the Command Prompt to do this. If your Raspberry Pi default web browser is Chromium,
    then there should be no problems with using Node-RED. However, if you wish to
    use another browser, I strongly recommend installing Chromium for running Node-RED:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.13 – Node-RED flow editor'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_2.13_B16353.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.13 – Node-RED flow editor
  prefs: []
  type: TYPE_NORMAL
- en: And that's it! We have now covered all the installation options for each tool
    we'll need in order to start using Node-RED.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you've gotten your environment ready so that you can use the
    Node-RED flow editor. At this point, I believe that you can already access the
    Node-RED flow editor, so you'll want to learn how to use it. In the next chapter,
    we'll make a sample flow on it and learn about the major features of the Node-RED
    flow editor.
  prefs: []
  type: TYPE_NORMAL
