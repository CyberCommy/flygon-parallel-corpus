- en: Chapter 6. Interest Rate Derivatives with C++
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This chapter illustrates the application of C++ to the pricing of interest
    rate derivatives. We will consider two examples: the pricing of a plain vanilla
    **Interest Rate Swap** (**IRS**) (basic example) and the pricing of a Cap (advanced
    example). We provide the full working C++ implementation for both. Both the examples
    are solved using one factor **Libor Market Model** (**LMM**) and Monte Carlo simulation.
    A simpler C implementation (without the OO features) can be found in the accompanying
    book website. The LMM is described in "The Market Model of Interest Rate Dynamics".
    An excellent description of the Monte Carlo simulation can be found in "Efficient
    Methods for Valuing Interest Rate Derivatives".'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Basic example – plain vanilla IRS (IR1)
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Note that Monte Carlo simulation requires a random number generator to operate.
    We will take advantage of the random number generator, which we developed in [Chapter
    3](part0024_split_000.html#MSDG2-f9cfc61bea324a5db85ec5ea1673cdfd "Chapter 3. Numerical
    Methods"), *Numerical Methods*, to price equity derivatives (the Box-Muller algorithm).
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: We consider an example of a plain vanilla IRS on a notional of one million EUR.
    The length of the contract is one year and the frequency of payments is every
    three months. The floating rates are therefore indexed to EURIBOR3M. The fixed
    rate is 4 percent p.a.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: We use LMM with Monte Carlo simulation with 10,000 simulations. We assume an
    initial flat term structure of interest rates at 5 percent p.a. We also assume
    a volatility of 15 percent for the forward rates (this value is usually calibrated
    from observed swaptions in the market).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: The upcoming code snippets implement the algorithm from the Bento Box template.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '**Code 16 – IR1_main.cpp (IRS with Monte Carlo LMM)**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Code 17 – IR1_source.cpp (IRS with Monte Carlo LMM)**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the code snippet for `IR1_source.cpp` file:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Tip
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'To compute the basic example (IR1), you will have to compile and run code snippets
    16, 17, 18, 4, 5, and 13 (which include the header, matrix, and random functions).
    Afterwards, you should obtain the following screen:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '![Basic example – plain vanilla IRS (IR1)](img/00205.jpeg)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
- en: Basic example (IR1) screenshot with results
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: Advanced example – IRS with Cap (IR2)
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this second example, we consider the pricing of an IRS with a cap The details
    of the approach are shown in the following Bento Box template advanced example:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '![Advanced example – IRS with Cap (IR2)](img/00206.jpeg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
- en: Bento Box template for advanced example (IR2)
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: Our target is to compute the net present value of the swap as we did earlier.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: An IRS cap is just like a standard IRS but with one key difference—at each payment
    date, we compute the maximum between (a) the difference between the floating rate
    and the strike and (b) zero. With this difference, we compute the value of a caplet;
    the cap is simply the sum of the caplets contained in the IRS.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: The algorithm is shown in box 4 of the Bento Box template. The implementation
    of the algorithm in C++ is shown in code snippets 19 and 20\. Code snippet 19
    is the main code block, while code snippet 20 is its associated source.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '**Code 19 – IR2_main.cpp (cap with Monte Carlo LMM)**'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '**Code 20 – IR2_source.cpp (cap with Monte Carlo LMM)**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: We consider the example of an IRS having a cap with a strike 5 percent and a
    maturity of 2.5 years. We assume a flat term structure of 5 percent with a forward
    volatility of 15 percent. Payments are every six months and a notional of 1 EUR.
    The floating rate is EURIBOR6M.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: 'To compute the advanced example (IR2), you need to compile and run code snippets
    19, 20, 18, 4, 5, and 13 (which include the a header, matrix, and random functions).
    Afterwards, you should obtain the following screenshot:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: '![Advanced example – IRS with Cap (IR2)](img/00207.jpeg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
- en: Advanced example (IR2) screenshot with results
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we have solved two pricing problems in interest rate derivatives.
    We have seen a basic example (plain vanilla IRS) and an advanced example. For
    each, we have provided the complete C++ implementation.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们已经解决了利率衍生品中的两个定价问题。我们已经看到了一个基本示例（普通香草利率互换）和一个高级示例。对于每一个，我们都提供了完整的C++实现。
- en: We will now proceed to the last asset class, credit derivatives, in the next
    chapter.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将在下一章继续讨论最后一个资产类别，信用衍生品。
