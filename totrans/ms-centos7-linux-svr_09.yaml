- en: Chapter 9. Some Additional Tricks and Tools
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For daily Linux usage, most system administrators/users must master a few techniques
    to help them use their Linux machine to its full potential. It is like having
    a Swiss Army knife and using it to just cut vegetables. Linux hides many useful
    techniques for daily-life tasks, and CentOS 7 is one of the latest and most reliable
    OS that many users can use to solve tons of problems.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Through this chapter, we are going to show some of the most needed tools that
    we believe any system administrator should know how to use. We will be showing
    how to use these tricks and tools to better manage a CentOS 7 server infrastructure.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'Within this chapter, we are going to present the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to multiple Linux machines using SSH
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Securing SSH and root login configurations
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SSH key-based authentication
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installation and configuration of SpamAssassin
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up the Clamav antivirus
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configuration of Mytop for a MySQL database
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up Samba and NFS for file sharing
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction to some Linux system and network monitoring tools
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SSH for remote connection
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As we all know, SSH is the Secure Shell connection that we use to connect remotely
    to a Linux machine. It is the main tool used by system administrators for remote
    management of their infrastructure. It is one of the essential tools that we find
    in a basic installation of CentOS 7 and almost all Linux distributions by default.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Usually, SSH is only installed as a client, so you can only remotely connect
    to other machines; but this is not the case for a basic system installation. When
    installing the CentOS 7 server, it should already have the SSH server installed
    and running.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: 'To install the SSH server, we can just rely on the default package repository
    without adding any extra third-party repository:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'After having the SSH server installed, we should start the service and enable
    it for default system startup services:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For security, most machines have the default SSH port closed, so we need to
    open it from the default firewall manager:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: That's all we need to do to make a machine remotely accessible.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: 'To access this machine, we only need to type `ssh` followed by the username
    and the IP address or the hostname (if the machine is stored at the DNS server
    or listed at the local `/etc/hosts` file) of the machine desired to connect to:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Usually, if the server is running and the `sshd` service is listening, then
    there should be an exchange of public keys upon the first ever connection to that
    server using this machine. Otherwise, the server will just ask for the desired
    user password to allow the login.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: 'When we connect to a remote machine using SSH, it is like us having an open
    window to that machine, and we are kind of stuck to that, which is a network-consuming
    way of connecting if we are using it for a long period, and especially if we are
    just connected without really typing any commands. So we need to close the terminal
    window to leave the remote connection session and free the resources reserved.
    SSH offers some useful options such as `–t`. Through this option, we can send
    a command to be executed on the remote machine and send back the output:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This command will only show the containment of the `/etc/hosts` file without
    keeping the windows open.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'We can also use SSH to send files between two machines to or from a remote
    machine, using the `scp` command:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In the next section, we will show you how to secure SSH and manage a root login.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '![SSH for remote connection](img/B04674_09_15.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
- en: 'Source: [https://www.allegrosoft.com/](https://www.allegrosoft.com/)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: Securing SSH and the root login configuration
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For this section, we are going to show some basic and advanced ways to secure
    the SSH service to mitigate more threats. We will need to make some minor changes
    to the `/etc/ssh/sshd_config` file. We will explain every line as we change it
    gradually:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Uncomment the SSH version 2 line to use only the newer version of SSH, which
    is more secure and reliable. The line should look like the following:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'We can limit users'' access to restrict some users from accessing the server.
    We do this using SSH:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Then we can set up the time out for the SSH connection to always close the
    sessions that are not active for a defined period of time. We need to set the
    countdown to start from the moment the session became idle:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Then we can disable the root login using SSH:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'In addition, we can disable empty password usage, whereby users do not have
    the right to log in if they don''t have a password:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In addition to that, we can do the same thing for password authentication.
    We can force all logins to happen via generated keys:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Then a warning banner is always useful. So, if we need to create one, we should
    edit `/etc/issues` and add any kind of banner:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Then we should restart the service so that it can take effect:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Some servers are publicly accessible, so they may need an extra reinforcement
    to their SSH service. For this task, we will be installing a tool called **Fail2Ban**,
    which is a very reliable tool that helps protect many services from brute-force
    attacks. It basically scans the log file for the specific service and looks for
    failed login attempts in order to block them. To have it installed, we need to
    install the EPEL repository first:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Then we need to install it with **Rsyslog**, since it scans the log output
    taken from Rsyslog:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: To have it working fine, we can update it or update the SELinux policy.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: 'Then we go ahead to configure it in order to secure SSH. We need to create
    a file named `sshd.local` `in the jail` folder of `Fail2Ban`:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Then we add the following code inside it:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This will ban attacks for 48 hours. Then we start the service and enable it
    for system startup services:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: We can now say that we are done with securing SSH. Let's try to manage root
    login access. We have already shown how we can disable root login using SSH. Let's
    manage the Sudoers file a little to have a user execute `superuser` commands without
    the need to type in a password.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: First, we need to install `sudo` on the server. Usually, most CentOS 7 server
    installations have `sudo` installed.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: 'Then we can just use the group wheel. If needed, we can create a new one:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'And we go to the line describing the group wheel:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Here, we need to add a word to make the users under this group gain root access
    using `sudo`, and they don''t need to use passwords every time:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Note
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Some system administrators do not advise this option, because if there is an
    error that gets typed, there is no turning back. It is always a choice to take
    for this option depending on the need.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: SSH key-based authentication
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As we have noticed by using SSH every time, we need to type the password, which
    is not something recommended in many security policies. This is where we will
    use the SSH feature to use authentication by using public/private keys.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: 'SSH provides a tool for creating public/private keys to use for remote connection
    authentication, without the need to use a password. How do we do that? It''s simple.
    For this test example we are going to create a new RSA key, a little bit more
    secure than the usual (we can create different types of keys such as `dsa`, `ecdsa`,
    `ed25519`):'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Then we follow the steps presented by the command. For a default installation,
    we can just keep typing *Enter*. Otherwise, we can always add some kind of passphrase
    to make it more secure. We may need to specify the key file name so we can use
    it later.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: 'Then we need to copy the newly created keys file to the host that we want to
    connect to. There are two ways of doing this. The traditional way, which is to
    literally copy the key file into the server that we want to remote connect to
    without using a password. Where we need to put the file in the subfolder `.ssh`
    located at the current user folder. Or, we can simply use the `ssh-copy-id` command
    that does the same job without the pain:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Then we need to type the password for the last time.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: After that, any SSH remote connection or file transfer can be done without the
    need for a password.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '![SSH key-based authentication](img/B04674_09_16.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
- en: 'Source: [https://www.digitalocean.com/](https://www.digitalocean.com/)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: Installing and configuring SpamAssassin
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**SpamAssassin** is one of the most powerful spam filters that work with Postfix
    to filter all mails that may present a threat.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: We will use it to filter all Postfix mails on our mail server (as we described
    in [Chapter 4](ch04.html "Chapter 4. Mail Server with Postfix"), *Mail Server
    with Postfix,* about how to get one up and running).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we need to install it using the default package manager:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Then it is installed. Now we move on to the configuration part:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'We have some lines that we need to make sure are in the file. So, we''d rather
    write them or uncomment them if they are commented:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Next, we create a new user group and a user to manage the service:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Then we have our service well configured. We move on to the Postfix part, where
    we should make some minor changes to its master configuration file:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'We need to go to the line of the SMTPD configuration and add the following
    line:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Therefore, it should look like this:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'After that, we add the following line:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'We save the file and quit. Now we need to update the SpamAssassin rules by
    typing the following:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Now, to make the change in the `SpamAssassin` service and the Postfix server,
    we need to restart it and then we are done:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Setting up the Clamav antivirus
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Clamav** is an open source antivirus tool. Its basic usage is for detecting
    viruses, malware, and malicious software on Linux-based machines.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: 'To install Clamav, we need to install the EPEL repository:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Then we can install Clamav with all its useful tools:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Before we start configuring, we need to make sure that SELinux will let Clamav
    work without issues:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'To check whether the option is active, we need to type this:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Then we remove the example configuration, so we can make our own configuration:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE39]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'After removing the example lines, we need to do some modifications to define
    the TCP server type and to define the user root to execute the antivirus:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE40]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'We uncomment the following line:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE41]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'We add those two lines at the end of the file and save:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'To keep the Clamav database up to date, we need to enable a tool called **Freshclam**.
    Therefore, we need to create a backup file from its configuration file:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Again we remove the example lines:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Otherwise, if needed, we can adjust the options for a more personalized solution.
    We need to run Freshclam to update the database manually and to check whether
    the configuration is successfully set:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'We need to create the file that will act as the service file to run the **Freshclam**
    daemon:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Then we put the following code inside the file and save it:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Next, we should check whether the service is well configured by running it
    and checking its status:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'If everything is running fine and there is no problem, we add it to the system
    startup service:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE49]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Now we need to create the Clamav service file. We have an example service file
    that we need to copy into the system services folder. We need to change its name
    to something understandable. Then, we need to make some minor modifications to
    it:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Since we have changed the name, we need to change it at the file that uses
    this service as well:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE51]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'We change the first line by removing `@` to look like this:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE52]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'At the same location, we need to change the Clamd service file:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE53]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'We add the following lines at the end:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE54]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'And we remove `%i` from both the `Description` and `ExecStart` options. Then
    we change them to look like the following:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE55]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Before running any service, we need to check whether we have any errors. We
    will run Clamd manually:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE56]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Then, if everything goes fine, we start the services and add them to the system
    startup services:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE57]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'For a final verification of the Clamav services, we check its status:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE58]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'For a test scan of the current folder, we run the following command:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE59]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'This is the architecture how ClamAV should be located in our infrastructure:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up the Clamav antivirus](img/B04674_09_17.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
- en: Source [https://wiki.jenkins-ci.org/display/JENKINS/Home](https://wiki.jenkins-ci.org/display/JENKINS/Home)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
- en: 'The following figure shows a better description between the components of a
    mail server to explain how ClamAV help secure our mail service:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up the Clamav antivirus](img/B04674_09_18.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
- en: 'Source: [https://aphyr.com/](https://aphyr.com/)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
- en: Configuring Mytop for a MySQL database
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Mytop is an open source solution that helps monitor the MySQL database's activities
    and performance, or what we now know as MariaDB for CentOS 7\. It is a non-GUI
    monitoring tool. Therefore, it kind of provides an interphase through the shell
    command line.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
- en: 'To install Mytop, we should make sure that the installation is going to be
    at the same server where the MariaDB database server is installed. Then we add
    the EPEL repository, as follows:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Next, we execute the installation using `yum`:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE61]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'For the configuration, we only need to create a configuration file at the `root`
    folder:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE62]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Then we type the following text inside it:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE63]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: This is a personalized configuration that will be used during the execution
    of the program.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
- en: 'To run it, we need to type in the following command:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE64]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Then we need to type in the MariaDB root password. Otherwise, if we are accessing
    using a non-root user, we can always type this:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE65]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Or if we need one specific database, we have the following:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE66]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'To know that it is working fine, you should see the following interface:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: '![Configuring Mytop for a MySQL database](img/B04674_09_01.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
- en: 'For more information on how to interact with the Mytop GUI, you can always
    check out its manual:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE67]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '![Configuring Mytop for a MySQL database](img/B04674_09_19.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
- en: 'Source: [http://i.gzn.jp](http://i.gzn.jp)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
- en: Setting up Samba and NFS for file sharing
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Samba is an open source project with the goal of providing a secure and stable
    data and printer-sharing service across multiple operating systems (Windows, Linux,
    and Mac OS).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
- en: Samba works using the **Session Message Block** (**SMB**) protocol, which is
    a protocol supported by most Windows OS and Mac OS to serve those clients who
    have access to shared resources such as Linux storage media, printers, serial
    ports (hardware equipment).
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: For the tutorial, we are going to use a CentOS 7 Samba server and Mac OS machine
    to use the service to have access to a shared folder.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we will start by installing Samba on our CentOS 7 server:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE68]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'Before starting the configuration, we need to make some backup, environment
    creation, and firewall setup. So first, we need to create a backup for the Samba
    configuration file to make sure not to mess up the original configuration (this
    is useful in case of having many updated configurations). We better keep a backup
    of each stage in the update process:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE69]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Then we need to create the folder that we need to share, or prepare it to be
    shared if it is already there. We need to set the user permissions to grant everything
    to that folder:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE70]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Finally, we need to open the Samba service port at the server firewall:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE71]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'Now we can start making the necessary configuration to the Samba configuration
    file:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE72]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'We need to make sure that we set the appropriate workgroup (usually it is set
    as `WORKGROUP`):'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE73]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: And we define a shared folder.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE74]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'We save the file and create some Samba users:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE75]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Then we type in a password and retry typing it to create a new one.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: 'If we want some folders to be shared with a specific user, we need to add the
    following line to the folder definition and we need to disable guest login by
    changing `guest` `ok = yes` to `guest` `ok = no`:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE76]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'For the testing phase, we need to start the services:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE77]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Then we go to the client side and type this link at the server connection:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE78]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_02.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
- en: 'This test is used on a Mac machine. For a Windows machine, we type the following
    link at the Explorer address field:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE79]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Then we will have a login screen, where we need to type the Samba user ID and
    password, like this:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_03.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
- en: 'After typing the correct user ID and password, there should be a screen showing
    the possible folder that this user can have access to, as follows:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_04.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
- en: Then we will have our folder accessible with the rights as defined in the configuration
    folder. Since we have write permissions, we can create a folder and then check
    whether it did actually happen on the server.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_05.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
- en: We can run our server to verify whether the change made by the client has been
    applied.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_06.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
- en: 'If we ever need to change any of the folder-sharing configuration, we must
    restart the services to apply the change:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE80]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: Samba is good for multiple-environment file sharing, but we should not forget
    about Linux's most famous file-sharing solution—**Network File System** (**NFS**).
    NFS is a client-server tool used to share data between multiple Linux systems,
    via mounting many remote shared folders and drives across the network to directly
    access those files at the client side.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: We are going to establish an NFS client-server test on CentOS 7 to show how
    it works.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we need to install the service at the server:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE81]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Then we start the service responsible for ensuring the functionality of the
    service:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE82]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'We prepare a folder to be shared:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE83]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'Then, to export this folder and make it accessible to be mounted on the client,
    we go ahead and edit the `/etc/export` file:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE84]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'And we add the following line:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE85]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: This line means that we are exporting this folder to all IP addresses in the
    network. The `rw` option gives write permissions to the folder, `sync` makes sure
    that the folder is always in synchronization, `no_root_squash` gives root privileges
    for the folder at the client side, and finally, `no_all_squash` enables the user's
    authority.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: 'After every change to the export file, we need to restart the NFS server:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE86]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'Finally, we need to open the NFS services'' ports at the server firewall. Reload
    the firewall to apply the changes:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE87]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'With this step, we can say that we are done configuring the server. Now we
    move to the client. Just like the server, we need to install the NFS utilities:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE88]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Then start the appropriate services:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE89]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'Before mounting the network-shared folder, we need to make sure that there
    is a location to mount on:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE90]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'To test mount the folder, we can use the `mount` command or make the system
    mount it automatically by editing the `/etc/fstab` file:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE91]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'In addition, we insert the following line:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE92]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'For a faster connection, we can always use the fourth version of NFS by typing
    the following:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE93]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: NFS4 has more to offer than NFS3\. We would recommend it for an environment
    that has Linux servers that do support NFS4.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, if we need to check what we have mounted on a specific NFS client,
    we use mount:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE94]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: Introducing the Linux system and network monitoring tools
  id: totrans-260
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the final section of our chapter, we are going to present a number of very
    useful tools to monitor both systems and networks for our CentOS 7 server.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
- en: 'We will start by showing some system monitoring tools. We believe that most
    of these tools need the EPEL repository installed, so we can just install it before
    trying to install any of those tools:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE95]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'The first tool that we are going to talk about is Htop. It is kind of the same
    as the old `top` command, but it has a very user-friendly interface, wherein it
    is much more interactive with many shortcuts, a graphical colored presentation
    of the process, and the CPU, Memory, and SWAP Memory in a bar shaped way, to show
    how much of those are used. To install Htop, we just need to use Yum:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE96]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'And to run it, we simply need to type `htop`. There is no configuration needed:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE97]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'We should see this kind of interface:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_07.jpg)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
- en: 'The second system-monitoring tool on the list is Iotop. It does look like the
    old top command, but it specializes in showing the system available disk input
    and output access in real time. It shows each process activity, and how much it
    is using the hard disk (read/write speed and actual usage). To install it, we
    need to use YUM again, but usually it is installed on most CentOS 7 servers by
    default:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE98]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'To use it we need to type the name:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE99]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'We will have the following interface:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_08.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
- en: Just before going to the network monitoring tools, we should take a quick look
    at this tool that performs monitoring for both systems and networks. Monitorix
    is an open source, lightweight monitoring tool for systems and network monitoring.
    It collects system and network activities on a regular basis in order to show
    them in a well-presented graph through a web-based interface. It is very helpful
    for detecting bottlenecks and system failures for better management.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
- en: 'To install Monitorix, we need to install a few necessary packages first:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE100]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'Then we install Monitorix:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE101]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'It is kind of a service, so we need to start it and enable it for the login
    service startup:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE102]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'We may need to disable SELinux or set it to permissive to make our service
    work fine. In addition, since Monitorix serves at port 8080, we need to open that
    at the firewall, as follows:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE103]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Then we can start using it by using a browser. We type the following at the
    address section:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE104]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: 'Thus, we will have the following interface:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_09.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
- en: 'We will get to see a variety of graphs for multiple pieces of information,
    as follows:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_10.jpg)'
  id: totrans-290
  prefs: []
  type: TYPE_IMG
- en: 'This was about system load average usage and the next one is about the network
    status:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_12.jpg)'
  id: totrans-292
  prefs: []
  type: TYPE_IMG
- en: 'Now, let''s talk about some useful network monitoring tools. We will first
    talk about Netstat, which is one of the most common tools for monitoring a network''s
    incoming and outgoing traffic. It is very useful for network troubleshooting.
    It is usually installed on the system, so we only need to execute it:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE105]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'Then we will have this kind of output:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_11.jpg)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
- en: 'After this, we have IPTraf, which is a real-time network-monitoring tool. It
    gathers information about network traffic activity, such as TCP, UDP, IP, and
    ICMP statistics, and then presents them in its interface. To install it, we need
    to use YUM:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE106]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: Then we just type its name to run it.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_13.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
- en: 'Finally, there is IfTop, which is an open source tool that reports network
    activities in real time. It is very useful for troubleshooting connections with
    outside servers, since it uses the `Pcap` library to capture incoming and outgoing
    packages on the desired network interface. To install it, we use yum again:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE107]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'Then, to use it, we need to type the command with the desired interface to
    listen to:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE108]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_14.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
- en: References
  id: totrans-306
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Now, let''s have a look at the references used throughout the chapter:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
- en: 'OpenSSH website: [http://www.openssh.com](http://www.openssh.com)'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'SpamAssassin website: [http://spamassassin.apache.org/](http://spamassassin.apache.org/)'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Clamav website: [http://www.clamav.net/](http://www.clamav.net/)'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Mymap manual: [http://jeremy.zawodny.com/mysql/mytop/](http://jeremy.zawodny.com/mysql/mytop/)'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Samba website: [https://www.samba.org/](https://www.samba.org/)'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'NFS wiki: [http://nfs.sourceforge.net/nfs-howto/ar01s03.html](http://nfs.sourceforge.net/nfs-howto/ar01s03.html)'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Trafshow wiki: [https://www.freshports.org/net/trafshow/](https://www.freshports.org/net/trafshow/)'
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Trafshow维基：[https://www.freshports.org/net/trafshow/](https://www.freshports.org/net/trafshow/)
- en: 'Monitorix home page: [http://www.monitorix.org/](http://www.monitorix.org/)'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Monitorix主页：[http://www.monitorix.org/](http://www.monitorix.org/)
- en: Summary
  id: totrans-316
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter was a summary of topics that we believe should be mentioned to
    any system administrator willing to administrate CentOS 7\. We started by presenting
    a way to easily access multiple machines from one place. We saw how to protect
    services, and it is a kind of best practice to make sure that the server is configured
    and secured. Then we presented a way to share data across multiple servers, which
    is very useful for both the installation phase and daily usage. Finally, we covered
    how to monitor our services' activities on both the system and the network.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 本章是我们认为应该提到任何愿意管理CentOS 7的系统管理员的主题的总结。我们首先介绍了一种可以轻松访问多台机器的方法。我们看到了如何保护服务，这是确保服务器配置和安全的一种最佳实践。然后我们介绍了一种在多台服务器之间共享数据的方法，这对安装阶段和日常使用都非常有用。最后，我们介绍了如何监视我们的服务在系统和网络上的活动。
- en: The job of a system administrator varies from time to time. Sometimes it gets
    easier and sometimes it gets harder, especially during a new installation. So,
    we have covered those tools that help soften the hard times and make them more
    manageable.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 系统管理员的工作有时会有所不同。有时会变得更容易，有时会变得更困难，特别是在新安装时。因此，我们已经涵盖了那些有助于缓解困难时期并使其更易管理的工具。
- en: We believe that this book is equivalent to Mastering Red Hat or Scientific Linux,
    which are resources that are very much in demand in the field of Linux system
    administration. As system administrators and as open source users, we believe
    that mastering this field requires more than just reading the book. You need to
    explore the part that we talked about briefly on making your own scenarios of
    testing and try to make it more complex. After all, we always learn from the hard
    experiences in our careers and not from the easiest ones.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们认为这本书相当于精通红帽或科学Linux，这些资源在Linux系统管理领域非常受欢迎。作为系统管理员和开源用户，我们认为精通这个领域需要的不仅仅是阅读这本书。您需要探索我们简要讨论的部分，制定自己的测试场景并尝试使其更加复杂。毕竟，我们总是从职业生涯中的艰难经历中学到东西，而不是从容易的经历中学到东西。
