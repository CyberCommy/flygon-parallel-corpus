- en: Chapter 9. Putting It All Together
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The previous chapters have provided us with the foundation and elements to design
    and put together our entire domestic system, which we will study in this chapter.
    I hope that I've guided you through this journey in a fairly structured and logical
    way, so that you are ready to do that.
  prefs: []
  type: TYPE_NORMAL
- en: As a guide to building the whole system, in this chapter, we will guide you
    through how to integrate and give you some ideas to put everything together, and
    also give you the final details. You can then make your own projects with the
    ideas that we will mention in this final chapter.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Integrating the system - development projects
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Controlling access with a matrix keyboard
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Integrating the system control with relays and devices
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to set up the power supplies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Integrating the system - development projects
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapters, we have seen different projects on home automation
    and domestic that is control and monitor home appliances. In this chapter, we
    will give some ideas to develop some projects that they can be done in different
    areas using electronics, controlling and monitoring.
  prefs: []
  type: TYPE_NORMAL
- en: Getting into the details of light sensor
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As its name implies, the **Light Dependent Resistor (LDR)** is made from a piece
    of exposed semiconductor material, such as cadmium sulfide, that changes its electrical
    resistance from several thousand Ohms in the dark to only a few hundred Ohms when
    light falls upon it, by creating hole-electron pairs in the material. The net
    effect is an improvement in its conductivity, with a decrease in resistance for
    an increase in illumination. Also, photosensitive cells have a long response,
    time requiring many seconds to respond to a change in the light intensity.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this section, we will look at how to use a light sensor to control different
    devices:'
  prefs: []
  type: TYPE_NORMAL
- en: On/off lights when needed
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dimming the lamp when the sensor detects if there is light in the room or not
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Getting into the details of light sensor](graphics/B05170_09_01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: You can dim the lamp with the signal sensor; according to the measurement taken
    by the light sensor you can regulate the intensity of it.
  prefs: []
  type: TYPE_NORMAL
- en: '![Getting into the details of light sensor](graphics/B05170_09_02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Motion sensor
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A motion sensor detects body heat (infrared energy). Passive infrared sensors
    are the most widely used motion in home security systems. When your system is
    armed, your motion sensors are activated. Once the sensor warms up, it can detect
    heat and movement in the surrounding areas, creating a protective grid.
  prefs: []
  type: TYPE_NORMAL
- en: 'If a moving object blocks too many grid zones and the infrared energy levels
    change rapidly, the sensors are tripped. Using this sensor we can control lights
    when we want them turn on or turn off:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Motion sensor](graphics/B05170_09_03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'According to the distance the sensor measures, it can detect the object so
    you can control the lamp:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Motion sensor](graphics/B05170_09_04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Automatic light controller
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Sensors work when you are not home, or when you tell the system you are not
    there. Some security systems can be programmed to record events via a security
    camera when motion is detected. The main purpose of motion detection is to sense
    an intruder and send an alert to your control panel, which alerts your monitoring
    center:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Automatic light controller](graphics/B05170_09_05.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'The following circuit diagram show the connection for an automatic light control
    where we use all the elements used earlier like the LDR sensor, PIR sensor, and
    the relay module:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Automatic light controller](graphics/B05170_09_06.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Solar power monitor circuit
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Here we have another real project that shows a control panel that will monitor
    the energy of the solar panel using the Arduino board. The following diagram shows
    the connection of the sensors and solar panel to Arduino board:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Solar power monitor circuit](graphics/B05170_09_07.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Automatic irrigation system with a soil sensor
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In the following figure, we have another project; we are integrating the tools
    that were used before. In this case, we will control the watering when it is present
    or not, using a soil sensor:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Automatic irrigation system with a soil sensor](graphics/B05170_09_08.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Until now you have seen very interesting and valuable projects that can be applied
    to real situations, in different areas, such as domestic, home automation, and
    even in a garden. In the following sections we will look at more projects. Let's
    do it!
  prefs: []
  type: TYPE_NORMAL
- en: Arduino water-level controller
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this project, we will make an automatic level sensor to control the level
    of water using your Arduino board, as shown in the following diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Arduino water-level controller](graphics/B05170_09_09.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Bluetooth based home automation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will look at a project that can be used in home automation,
    to control the devices in a house, using a Bluetooth module to communicate, and
    a relay module and the integration of the hardware as software tools.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following diagram shows how to connect the relay module and the HC05 Bluetooth
    module to the Arduino board:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Bluetooth based home automation](graphics/B05170_09_10.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Controlling access with a matrix keyboard
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this section, we will look at how to control the access with a code using
    a matrix keyboard. In the following image, we can see the keyboard that we will
    use:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Controlling access with a matrix keyboard](graphics/B05170_09_11.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The keypad
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In the following diagram, we see the hardware connections to the Arduino board.
    They are connected to the digital pins:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The keypad](graphics/B05170_09_12.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Connecting an LCD screen to display the code
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In the following diagram, we show the hardware connections of the LCD screen
    to the Arduino board:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Connecting an LCD screen to display the code](graphics/B05170_09_13.jpg)'
  prefs: []
  type: TYPE_IMG
- en: We have looked at some interesting projects that you can develop by adding new
    sensor to control other devices. In the next section, we will look at a very interesting
    project. Get ready for the next step, this is a great goal.
  prefs: []
  type: TYPE_NORMAL
- en: Controlling the door lock with a keypad
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In the following image, we see a keypad with a lock. This section can be merged
    along with the last project. This device can be controlled from your Raspberry
    Pi Zero or your Arduino board:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Controlling the door lock with a keypad](graphics/B05170_09_14.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Code to access using the keypad
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'You can now either copy the code inside a file called Project_keyboard_Access_Control.ino,
    or just get the complete code from the folder for this project using the Arduino
    IDE:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'This function checks if the code that was typed is correct:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Integrating the system control with relays and devices
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In the following figure, we''re integrating important parts of the book. We
    will show the connections in a house using a relay, and how you will apply and
    control the real load using a lamp:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Integrating the system control with relays and devices](graphics/B05170_09_15.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Controlling multiple appliances
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In real life, we will see the devices connected and controlling the real world.
    In the following image, we can see the relay module that can control the loads
    with the electronics part:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Controlling multiple appliances](graphics/B05170_09_16.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The following image shows the final circuit. We see the real connections to
    the Arduino board, and how they control the real world.
  prefs: []
  type: TYPE_NORMAL
- en: '![Controlling multiple appliances](graphics/B05170_09_17.jpg)'
  prefs: []
  type: TYPE_IMG
- en: The complete system
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In the following figure, we see the final circuit for controlling real devices
    in a home automation system. This can be used in all areas of the home, in each
    room we can have a relay module, connected to each module communicating with control
    system:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The complete system](graphics/B05170_09_18.jpg)'
  prefs: []
  type: TYPE_IMG
- en: How to set up the power supplies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For our system, it is very important to set up the power supply that will be
    used in the system. First we need to ensure that the voltage for the Arduino is
    about *5V*. In the following diagram, we have shown how to configure the voltage
    to about 5 volts:'
  prefs: []
  type: TYPE_NORMAL
- en: '![How to set up the power supplies](graphics/B05170_09_19.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Power supply for AC loads
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'If we need to connect AC loads to the Arduino or Raspberry Pi Zero and make
    an industrial control system, we need to use a voltage of 24 V of DC, as you can
    see in the following circuit diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Power supply for AC loads](graphics/B05170_09_20.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Connecting a relay of 24 DC volts to the Arduino board
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In the following diagram, we have the circuit to control an AC load using a
    relay of 24 volts of DC:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Connecting a relay of 24 DC volts to the Arduino board](graphics/B05170_09_21.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'We have the final circuit, which represents the interface to control an AC
    load, connected to the output digital pin to the Raspberry Pi Zero or the Arduino
    board: this is not very common to see, but it''s necessary to learn how to connect
    a relay that can be energized with 24 volts of DC to the Arduino board:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Connecting a relay of 24 DC volts to the Arduino board](graphics/B05170_09_22.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Finally we have the final circuit in a board. We used a relay that has a coil,
    which has to energize with 24 volts. The digital output of the Arduino or Raspberry
    Pi can be connected to the relay module.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This is the last chapter of the book, *Internet of Things Programming with JavaScript*.
    In this chapter, you learned how to integrate all the elements that you need to
    take into consideration when you want to apply the tools of hardware and software
    in the projects that we showed you. This is going to help you to continue developing
    your own projects, following the basics and the knowledge shared in this book.
  prefs: []
  type: TYPE_NORMAL
