- en: Setting up Your Environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In the preceding chapter, you got familiarized with vulnerability assessments,
    penetration testing, and the Metasploit Framework in brief. Now, let''s get practically
    started with Metasploit by learning how to install and set up the framework on
    various platforms along with setting up a dedicated virtual test environment.
    In this chapter, you will learn about the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Using the Kali Linux virtual machine to instantly get started with Metasploit
    and supporting tools
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing the Metasploit Framework on Windows and Linux platforms
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up exploitable targets in a virtual environment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using the Kali Linux virtual machine - the easiest way
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Metasploit is a standalone application distributed by Rapid7\. It can be individually
    downloaded and installed on various operating system platforms such as Windows
    and Linux. However, at times, Metasploit requires quite a lot of supporting tools
    and utilities as well. It can be a bit exhausting to install the Metasploit Framework
    and all supporting tools individually on any given platform. To ease the process
    of setting up the Metasploit Framework along with the required tools, it is recommended
    to get a ready-to-use Kali Linux virtual machine.
  prefs: []
  type: TYPE_NORMAL
- en: 'Using this virtual machine will give the following benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: Plug and play Kali Linux--no installation required
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Metasploit comes pre-installed with the Kali VM
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All the supporting tools (discussed in this book) also come pre-installed with
    the Kali VM
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Save time and effort in setting up Metasploit and other supporting tools individually
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In order to use the Kali Linux virtual machine, you will first need to have
    either VirtualBox, VMPlayer, or VMware Workstation installed on your system.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the steps for getting started with Kali Linux VM:'
  prefs: []
  type: TYPE_NORMAL
- en: Download the Kali Linux virtual machine from [https://www.offensive-security.com/kali-linux-vmware-virtualbox-image-download/](https://www.offensive-security.com/kali-linux-vmware-virtualbox-image-download/).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select and download Kali Linux 64 bit VM or Kali Linux 32 bit VM PAE based
    on the type of your base operating system, as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f1b7585e-940a-4536-8020-6c5c15032330.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Once the VM is downloaded, extract it from the Zip file to any location of your
    choice.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Double click on the VMware virtual machine configuration file to open the virtual
    machine and then play the virtual machine. The following credentials can be used
    to log into the virtual machine:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'To start the Metasploit Framework, open the terminal and type `msfconsole`,
    as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a9c6362d-a70d-45f9-8bcd-b215b7f8b8a0.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Installing Metasploit on Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Metasploit Framework can be easily installed on a Windows based operating system.
    However, Windows is usually not the platform of choice for deploying Metasploit
    Framework, the reason being, that many of the supporting tools and utilities are
    not available for Windows platform. Hence it's strongly recommended to install
    the Metasploit Framework on Linux platform.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the steps for Metasploit Framework installation on Windows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Download the latest Metasploit Windows installer from: [https://github.com/rapid7/metasploit-framework/wiki/Downloads-by-Version](https://github.com/rapid7/metasploit-framework/wiki/Downloads-by-Version).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Double click and open the downloaded installer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click Next, as seen in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c5d0872f-39f0-41ab-9561-a04255989c71.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Accept the license agreement:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7bd98385-68a4-43ae-bcd7-c3b7719fac55.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the location where you wish to install the Metasploit Framework:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/818d5686-5287-4303-9603-c76824a942ce.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Click on Install to proceed further:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a0f33f65-653f-4ab9-be00-4592f5bc40f3.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'The Metasploit installer progresses by copying the required files to the destination
    folder:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ea6bc98d-f2df-40ae-ba73-b0d7a1b42b43.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Click on Finish to complete the Metasploit Framework installation:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/35d2dbc0-0e5e-430a-91e7-58564259a6ec.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Now that the installation is complete, lets try to access the Metasploit Framework
    through the command line interface:'
  prefs: []
  type: TYPE_NORMAL
- en: Press the *Windows Key* + *R.*
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type `cmd` and press *Enter*.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using `cd`, navigate to the folder/path where you installed the Metasploit Framework.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Type `msfconsole` and hit *Enter;* you should be able to see the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c7337bf2-a885-4e28-960e-0bf4e47473bf.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Installing Metasploit on Linux
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For the scope of this book, we will be installing the Metasploit Framework
    on Ubuntu (Debian based) system. Before we begin the installation, we first need
    to download the latest installer. This can be done using `wget` command as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open a terminal window and type:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/1c50fb00-0939-4cec-971c-05bc063c9384.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once the installer has been downloaded, we need to change the mode of the installer
    to be executable. This can be done as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For 64-bit systems: `chmod +x /path/to/metasploit-latest-linux-x64-installer.run`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For 32-bit systems: ``chmod +x /path/to/metasploit-latest-linux-installer.run``'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now we are ready to launch the installer using the following command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For 64-bit systems: `sudo /path/to/metasploit-latest-linux-x64-installer.run`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For 32-bit systems: `sudo /path/to/metasploit-latest-linux-installer.run`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We can see the following installer:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/4535441e-24d5-4442-9bc8-5d40c0256b96.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Accept the license agreement:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ca94682d-c194-4d00-bdf4-89bf26fcc229.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Choose the installation directory (It''s recommended to leave this *as-is*
    for default installation):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ff36940f-329a-40fe-8052-210950416f4e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select Yes to install Metasploit Framework as a service:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/afe8914a-b256-4bdc-880d-e0964652e130.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Ensure you disable any Antivirus or Firewall that might be already running
    on your system. Security products such as Antivirus and Firewall may block many
    of the Metasploit modules and exploits from functioning correctly:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/74368207-4712-4be3-b11e-070aac1e6467.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Enter the port number on which the Metasploit service will run. (It''s recommended
    to leave this *as-is* for default installation):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1a4b0d94-25b3-412d-a9ef-ea1b5d822c3e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Enter the host-name on which Metasploit Framework will run. (It''s recommended
    to leave this *as-is* for default installation):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c28f9dc0-9a15-4e75-b435-6bdca653498c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Click on Forward to proceed with the installation:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5b0242c9-a455-4e6b-96ba-e519d5945437.png)![](img/ea203a09-d89a-469a-928b-c503838ec823.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now that the Metasploit Framework installation is complete:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e156c530-63b8-498c-88b2-fa0db0ae2300.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let''s try to access it through command-line interface:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the terminal window, type the command `msfconsole` and hit *Enter.* You
    should get the following on your screen:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/59907327-dd88-4536-b94f-98ccf54f8078.png)'
  prefs: []
  type: TYPE_IMG
- en: Setting up exploitable targets in a virtual environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Metasploit is a powerful penetration testing framework which, if not used in
    a controlled manner, can cause potential damage to the target system. For the
    sake of learning and practicing Metasploit, we can certainly not use it on any
    live production system for which we don''t have any authorized permission. However,
    we can practice our newly acquired Metasploit skills in our own virtual environment
    which has been deliberately made vulnerable. This can be achieved through a Linux
    based system called *Metasploitable* which has many different trivial vulnerabilities
    ranging from OS level to Application level. Metasploitable is a ready-to-use virtual
    machine which can be downloaded from the following location: [https://sourceforge.net/projects/metasploitable/files/Metasploitable2/](https://sourceforge.net/projects/metasploitable/files/Metasploitable2/)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Once downloaded, in order to run the virtual machine, you need to have VMPlayer
    or VMware Workstation installed on your system. The installation steps along with
    screenshots are given below:'
  prefs: []
  type: TYPE_NORMAL
- en: VMPlayer can be obtained from [https://www.vmware.com/go/downloadplayer](https://www.vmware.com/go/downloadplayer)
    if not already installed
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to run the Metasploitable virtual machine, first let''s extract it
    from the zip file to any location of our choice:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7bedeea3-8048-404b-b9e9-af5d1e3383c9.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Double click on the Metasploitable VMware virtual machine configuration file
    to open the virtual machine. This would require prior installation of either VMPlayer
    or VMware Workstation:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/fd940f52-9911-4807-9682-2e542a37e9e3.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Click on the green `Play` icon to start the virtual machine:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/71fba7ea-2835-4cef-9a23-5e1112210f35.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Once the virtual machine boots up, you can login into the same using the following
    credentials:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: We can use this virtual machine later for practicing the skills that we learn
    in this book.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter we have learned how to quickly get started with the Metasploit
    Framework by installing it on various platforms. Having done with the installation
    part, we'll proceed further to the next chapter to get an overview of structure
    of Metasploit and component level details.
  prefs: []
  type: TYPE_NORMAL
- en: Exercises
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You can try the following exercises:'
  prefs: []
  type: TYPE_NORMAL
- en: Download Kali Linux virtual machine and play it in VMPlayer or VMware Workstation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Try installing the Metasploit Framework on Ubuntu
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
