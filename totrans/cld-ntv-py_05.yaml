- en: Building WebViews with React
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far, we have been building our microservices and making our backend services
    more responsive and efficient. Also, we have been trying out different database
    services which can secure and increase the performance of the storage and retrieval
    of data, which is of essence here.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will focus on building our frontend page using React and
    integrating these pages with the backend to form a complete application.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'The topics that we will cover in this chapter are as follows:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Setting up a React environment
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating a user authentication panel
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Integrating react with backend APIs
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understanding React
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In simpler terms, React is the UI layer of your application. It is a Javascript
    library to build fast and quick user interfaces. React, basically, helps you to
    create awesome webViews for each state of your application. So, we are going to
    use React for this purpose. But before we do that, let''s understand a few concepts/key
    points of React, which are listed next:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '**Components**: All your collections of HTML and JavaScript are called **components**.
    React, basically, provides hooks to render HTML pages with JavaScript enabled.
    The important thing here is that React works as a controller to render different
    web pages for each state of your application.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Props for static version in React**: Usually, in HTML, you need a lot of
    code for showing all the data on the frontend and, moreover, it''s repetitive.
    React props help you solve this problem. Props, basically, keep the state of data
    and pass values from the parent to the child.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Identifying the minimal state**: To build your app correctly, you first need
    to think of the minimal set of the mutable state that your app needs. Like, in
    our case, we need to keep the state of users always available during the different
    states of the application.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Identifying active state**: React is all about one-way data flow down the
    component hierarchy. We need to understand every component that renders something
    based on that state. Also, we need to understand how states change at the level
    of component hierarchy.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**React-DOM**: The react-dom is a combination of React and DOM. React contains
    the functionality utilized in web and mobile apps. The react-dom functionality
    is utilized only in web apps.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up the React environment
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In order to run React, we need to set up an initial environment, which includes
    installing a couple of libraries of `node.js`.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Installing node
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we start installing React and the package list, we need to have `node.js`
    installed on our system.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: In Linux (Debian-based system), the process of installation is pretty simple.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we need to add PPA from the `node.js` official website by using the
    following commands:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Once it is set up, we can install `node.js` with the following command:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now let''s check the `node` and `npm` versions, as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In our setup, we use the aforementioned version, but the node version around
    v7.x should be fine, and for npm, v4.x should work fine.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: Creating package.json
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This file is, basically, metadata for your application, which contains the complete
    libraries /dependencies that need to be installed for your application. Another
    real-world advantage is that it makes your build reproducible, which means that
    it's way easier to share it with other developers. There are different ways in
    which you can create your customized `package.json`.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the minimum information that needs to be provided in `packages.json`:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'In order to create the `package.json` template, you can use the following command:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: It will ask for values such as name, version, description, author, license,
    and so on; fill in the values, and it will generate `package.json`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: 'If you don''t want to fill the information in now, you can use the `--yes`
    or `-y` attribute to use the default values as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'For our application, I have generated `package.json`, which looks something
    like this:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now, that we have generated `package.json`, we need to install these dependencies
    on our workstation using the following command:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Please make sure that, when you execute the preceding command, `package.json`
    should be in the current working directory.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: Building webViews with React
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'First of all, we will create a home view from which React will be called. So,
    let''s create `index.html`, which has the following contents, in the template
    directory:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: As you can see in the preceding HTML page, we have defined `id ="react"`, which
    we will use to call the React main function based on the ID, and perform a certain
    operation.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: 'So, let''s create our `main.js`, which will send a response, with the following
    code:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now we have defined our basic structure of the React response. Since we are
    building an application with multiple views, we need a build tool which will help
    us put all our assets, including JavaScript, images, fonts, and CSS, under one
    package, and generate it into a single file.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: '**Webpack** is the tool which will help us solve this problem.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Webpack should already be available, as we defined the Webpack package as part
    of `package.json`, which we installed earlier.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: Webpack, basically, reads a single entry file, which could be the `.js` file,
    reads its child components, and then converts them into a single `.js` file.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: Since we have already defined it in `package.json`, it is already installed.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: In Webpack, we need to define a configuration which will help it to identify
    the entry file and the loader that is to be used to generate a single `.js` file.
    Also, you need to define the filename for the generated code.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: 'Our Webpack configuration would be something like this:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: You can extend the preceding configuration based on your use cases. Sometimes,
    developers try *.html as the entry point. In that case, you need to make appropriate
    changes.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s move on to build our first webView using the following command:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The `-d` attribute in the last command is used for debugging; it generates another
    file, `bundle.js.map`, which shows the activity of Webpack.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: Since we are going to build the application repeatedly, we can use another flag,
    `--watch` or `-w`, which will keep track of the changes in the `main.js` file.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: 'So, now our Webpack command should be something like the following:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now we have built our application. Remember to change your routes in `app.py`
    so that home should be navigated as follows:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Let's check what our home page looks like now.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00061.jpeg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
- en: You can also check whether we have React and react-dom running in the background
    in the inspect mode.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: This is a very basic structure to understand the workings of React. Let's move
    on to our use case, where we have created tweet webViews, and the user can view
    the old tweets as well.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: 'So, let''s create `Tweet.js`, which will have the basic structure of tweets,
    such as a textbox for contents, and a button to post tweets. Add the following
    code to `Tweet.js`:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Let''s call this function from `main.js`, so that it is loaded on the home
    page, by updating the `render` function as follows:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: If you load the page now, it will be pretty simple. Since we want to create
    a web application, which should be attractive, we will use a couple of CSS here
    to do so. In our case, we are using Materialize CSS ([http://materializecss.com/getting-started.html](http://materializecss.com/getting-started.html)).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the following block of code in `index.html`:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Let's try to add tweets, and send them across with state so that some tweets
    should be shown.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Main` class of `main.js`, add the following constructor function to
    initialize the state:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Now update the `render` function as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Let''s create another file, `TweetList.js`, which will show the tweets, with
    the following code:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Great! Now we have added this template. Let's check out our home page and see
    how the CSS works there. But before that, since we are using Webpack for building,
    make sure you add the following line to load `bundle.js` every time--this will
    run the webViews in the `index.html` file.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Awesome! The home page should look something like this:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00062.jpeg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: Let's move forward to post tweets--we should be able to add new tweets, and
    they should be updated in `TweetList.js` as well.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s update our `Tweet.js` code so that it sends the tweets to `main.js`
    to process them. Now, we need to send our tweets to `main.js`, in order to do
    so , we need to update our `Tweet.js` file with the following code:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Also, be sure to update the `render` function with the `form onSubmit` attribute
    as follows:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: So, after adding content into the text area, it should submit the tweet as well.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, let''s update the `render` function of `main.js` to add new tweets, as
    follows:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'We also need to add the `addTweet` function in the `Main` class, defined in
    the following:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Your page, after adding the new tweet, should look something like this:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00063.jpeg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
- en: Currently, we are using React to hold the data in an array. Since we have built
    our microservices to hold this kind of data, we should integrate our webView with
    the backend services.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Integrating webView with microservices
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In order to integrate our microservices with webViews, we will use AJAX to make
    API calls.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '[PRE26]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Similarly, we need to modify our `addTweet` function in our `main.js` as follows:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Since there will be multiple tweets which need to be iterated with a similar
    template of tweet, let''s create another component called `templatetweet.js` with
    the following code:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Remember, we have changed the field of props based on our database collection
    keys.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: 'Also, we need to update our `TweetList.js` to use the preceding template by
    adding it as follows:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Great! Your home page should look like this now:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00064.jpeg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
- en: User authentication
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: All our tweets are protected, and should react only to the audience which we
    want to showcase them to. Also, anonymous users should not be allowed to tweet.
    For that, we will create a database and web pages to enable new users to sign
    in and log in to the tweet webView as well. Remember, we will use Flask to authenticate
    users, and also to post data to the backend user.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: Login user
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Let''s create our login page template, where the existing users need to fill
    in their username and password to authenticate. The following is the code snippet:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: We will post the data to the login page, which we will define in the `app.py`
    file.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: 'But first, check if the session is present or not. If not, then you will be
    redirected to the login page. Add the following code to `app.py`, which will validate
    session details for the user:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Let's create the route for login, and validate the credentials to authenticate
    users to tweet.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is the code snippet:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Once you are done with this, your login page will appear at the root URL, and
    it should look something like this:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00065.jpeg)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
- en: As you can see, we have provided a link, Sign up now, to create an account for
    the new user.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: Remember, we are using APIs to authenticate the user from the user collection
    in our database.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: Sign up user
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let's move on to create our sign up page to help register new users so that
    they can tweet as well.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s create `signup.html`, which will ask for user details. Check the following
    code snippet for this:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: The preceding code is, basically, the template which needs the backend API to
    submit the data to the user.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '[PRE35]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Once the user has signed up, it will set the session, and redirect it to your
    home page.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: 'Your Sign up page should look something like this:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/00066.jpeg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
- en: We have authenticated the user, but what if he wants to update his/her personal
    information? Let's create a profile page, which will help them do so.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: User profile
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let's create a profile page (`profile.html`), which will be accessible by the
    user already logged in at the home page in the navigation panel.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个个人资料页面（`profile.html`），用户在主页登录后可以在导航面板中访问。
- en: 'Add the following code to `profile.html`:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 将以下代码添加到`profile.html`：
- en: '[PRE36]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Since we have created the profile, we need to create a route for the profile,
    which will read the database to get user details and POST back to the database
    as well.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们已经创建了个人资料，我们需要为个人资料创建一个路由，它将读取数据库以获取用户详细信息，并将POST回数据库。
- en: '[PRE37]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '[PRE38]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Once this last bit of code is added, your profile page should look something
    like this:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加了这最后一部分代码，您的个人资料页面应该看起来像这样：
- en: '![](img/00067.jpeg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00067.jpeg)'
- en: 'Also, we should add the profile link in `Tweet.js` in the navigation template
    by adding the following lines:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们应该在导航模板的`Tweet.js`中添加个人资料链接，添加以下几行：
- en: '[PRE39]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Now your home page will look something like this:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您的主页应该看起来像这样：
- en: '![](img/00068.jpeg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/00068.jpeg)'
- en: Log out users
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 登出用户
- en: '[PRE40]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '[PRE41]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Now our application is fully built-up, starting from the users logging in, to
    submitting their tweets, and then logging out.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们的应用程序已经完全构建起来，从用户登录，到提交他们的推文，然后退出登录。
- en: Testing the React webViews
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试React webViews
- en: Since we are building webViews, we need to test them to catch some of the bugs
    before they happen. Also, testing will help you build better code.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们正在构建webViews，我们需要测试它们以在发生之前捕捉一些错误。此外，测试将帮助您构建更好的代码。
- en: There are a number of UI-testing frameworks which could help you test your web
    apps. Two of them are discussed in the following section.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多UI测试框架可以帮助您测试Web应用程序。以下部分讨论了其中两个。
- en: Jest
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Jest
- en: Jest is a unit testing framework, which is provided by Facebook to test JavaScript.
    It is used to test individual components. It is simple, standard, and standalone.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: Jest是一个单元测试框架，由Facebook提供用于测试JavaScript。它用于测试单个组件。它简单、标准且独立。
- en: It tests your components based on fake DOM implementations, and runs different
    tests to check the functionalities. It automatically resolves dependencies. Also,
    you can run all the tests in parallel.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 它基于虚拟DOM实现测试组件，并运行不同的测试来检查功能。它会自动解决依赖关系。此外，您可以并行运行所有测试。
- en: 'You can refer to the following link, which could help you write test cases
    for your React application:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以参考以下链接，这可以帮助您为React应用编写测试用例：
- en: '[https://facebook.github.io/jest/docs/tutorial-react.html](https://facebook.github.io/jest/docs/tutorial-react.html)'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://facebook.github.io/jest/docs/tutorial-react.html](https://facebook.github.io/jest/docs/tutorial-react.html)'
- en: Selenium
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Selenium
- en: Selenium is an open source and portable automated software testing tool for
    testing web applications. It provides end-to-end testing, which means that it
    is a process of executing test scenarios against a real browser to test the entire
    stack of a multi-tiered application.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: Selenium是一个开源的、可移植的自动化软件测试工具，用于测试Web应用程序。它提供端到端测试，这意味着它是针对真实浏览器执行测试场景来测试多层应用程序堆栈的过程。
- en: 'It has the following different components:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 它具有以下不同的组件：
- en: '**IDE**: This helps you describe the testing workflow.'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IDE**：这可以帮助您描述测试工作流程。'
- en: '**Selenium WebDriver**: This automates browser testing. It sends commands directly
    to the browser and receives the results.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Selenium WebDriver**：这可以自动化浏览器测试。它直接发送命令到浏览器并接收结果。'
- en: '**Selenium RC**: This remote control helps you to create test cases.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Selenium RC**：这个远程控制器可以帮助您创建测试用例。'
- en: '**Grid**: This runs test cases across different browsers, and in parallel.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网格**：这在不同浏览器和并行运行测试用例。'
- en: This is one of the best tools you can use to test our web application, which
    I would recommend.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 这是您可以用来测试我们的Web应用程序的最佳工具之一，我强烈推荐使用。
- en: You can gather more about Selenium at [http://www.seleniumhq.org/docs/](http://www.seleniumhq.org/docs/).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[http://www.seleniumhq.org/docs/](http://www.seleniumhq.org/docs/)了解更多关于Selenium的信息。
- en: Summary
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, our focus was on creating frontend user webViews and how to
    improve them to attract consumers. You also learnt how React can help us to build
    these webViews and implement interactions with backend services. In the upcoming
    chapter, things will get more interesting, as we will play around with our frontend
    application, and will explain how we scale it using Flux to handle a large number
    of incoming requests from the internet.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们的重点是创建前端用户webViews以及如何改进它们以吸引消费者。您还学会了React如何帮助我们构建这些webViews并实现与后端服务的交互。在接下来的章节中，事情将变得更有趣，因为我们将玩转我们的前端应用程序，并解释如何使用Flux来处理来自互联网的大量请求。
