- en: Chapter 5. Spring Security with GWT
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter we will cover:'
  prefs: []
  type: TYPE_NORMAL
- en: Spring Security with GWT authentication using Spring Security Beans
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Form-based authentication with GWT and Spring Security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic authentication with GWT and Spring Security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Digest authentication with GWT and Spring Security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Database authentication with GWT and Spring Security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LDAP authentication with GWT and Spring Security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Google web development tool kit** (**GWT**)provides a standard framework
    for developing java web applications. GWT was developed to create rich Internet
    applications and will be a good option if you want to go for cross-browser compatibility.
    Modern browsers, for example, Mozilla and Chrome, provide GWT plugins which can
    be installed on all browsers. There are various plugins available for different
    IDEs including Eclipse, NetBeans, and many others. These plugins have increased
    the speed of development. The GWT plugin for Eclipse comes with an internal Jetty
    server on which applications are automatically deployed. GWT also reduces dependency
    on javascript developers since the GWT code is converted into all browser compatible
    javascript and HTML by the GWT compiler which comes with the GWT-SDK.'
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter we will demonstrate Spring Security with GWT integration using
    various approaches. Let's first do a basic setup for it. It's all about downloading
    the plugin and creating a sample GWT project.
  prefs: []
  type: TYPE_NORMAL
- en: Spring Security with GWT authentication using Spring Security Beans
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far in all our previous demonstrations we have been giving the configurations
    in the `applicationContext.xml` file. In the following recipe we will take a different
    approach. In this approach we will see how we can use the authentication provider
    interface and the authentication interface available in the Spring Security API
    to do the authentication.
  prefs: []
  type: TYPE_NORMAL
- en: GWT plugin by default will create a greetings application which will greet the
    user by accepting the user name. Our goal is to apply security on top of this.
    We would like to prompt the user with Spring Security login page on startup and
    then take the user into the application.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Download Eclipse Indigo from: [http://dl.google.com/eclipse/plugin/3.7](http://dl.google.com/eclipse/plugin/3.7).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If you are using a different one go for: [https://developers.google.com/eclipse/docs/download](https://developers.google.com/eclipse/docs/download).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create a GWT web project in Eclipse—this will generate a default GWT application
    that will greet the user.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In any GWT application you can see the following modules:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Configuration module**: This will have the `gwt.xml` file'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Client**: This will have two interfaces-async interface and another interface
    that extends *RemoteService* interface'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Server**: Will have the `Implementation` class which implements the client
    interface and extends the remote Service Servlet'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Shared**: This will have classes to check for data validation'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Test**: You can add your junit test cases here'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**War**: This will have the `web-inf` folder'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Run the application on the internal server. You will get a URL.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the URL in the Mozilla Firefox browser; you will get a prompt to download
    the GWT plugin and install it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You will be prompted to input a user name and, when entered, you will get a
    dialog box which will give the user details.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Our aim is to apply security on startup of the application, that is, we would
    like to identify the user who is accessing the GWT application.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create an `applicationContext.xml` file. It's mandatory to name it as `applicationContext`
    or else we will get error messages in the console.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file with spring listeners.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Make `sure` the `war/web-inf/lib` folder has the following JAR files:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gwt-servlet`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`spring-security-config-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`spring-security-core-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`spring-security-web-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.spring-framework.core-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.spring-framework.context.support-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.context-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.expression-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.aop-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.aspects-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.asm-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.web-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.web.servelet-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.instrument-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`org.springframework.instrument-tomcat-3.1.4.Release`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Update the `Web.xml` file with Spring Listener and Spring Filter:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: You can observe that we haven't configured the `<context-param>` as in our previous
    applications. Spring will automatically look out for the `applicationContext.xml`
    file.
  prefs: []
  type: TYPE_NORMAL
- en: 'Edit the `applicationContext.xml` file:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: This configuration will also give hints to the next steps. You can observe that
    we have not configured any `<login-page>` or its URL. We have only given URLs
    that need security. The `<authentication-provider>` is mapped with a custom class.
  prefs: []
  type: TYPE_NORMAL
- en: We have also configured two Beans that are the listener and authenticator.
  prefs: []
  type: TYPE_NORMAL
- en: Spring's context API allows us to create listeners to track events in the application.
    If you recall, we had also used listeners phase listener in our JSF application
    to track the security-related events and errors.
  prefs: []
  type: TYPE_NORMAL
- en: The `PacktGWTAuthenticator` implements the authentication provider interfaces.
  prefs: []
  type: TYPE_NORMAL
- en: 'Create an authenticator using the Spring authentication provider:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Here, `authenticate ()` and `supports ()` are the authentication provider-interface
    methods. The User class will load the users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Create a `User` class to load the users:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The above class has few getters and setters. And a method to load users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Implementing the Spring authentication class to get the user information:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Authentication interface handles the user details, principal, and credentials.
    The authentication provider uses this class to pass the role information.
  prefs: []
  type: TYPE_NORMAL
- en: 'Implement the interfaces declared in the GWT client package:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: The `authenticate Server` method implementation is found in this class. This
    will print the debug statements to check whether the user has logged in or not.
    If logged in, then we will have to get the principal and user details.
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the Spring listeners to track events:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: This class implements the Springs application listener which is of the type
    `AbstractAuthenticationEvent`. We are capturing the authentication event and printing
    it out in the console; you can also use logger to track such events.
  prefs: []
  type: TYPE_NORMAL
- en: 'Update the GWT class on `ModuleLoad()`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Add this code in the end of the `onModuleLoad` method. This is similar to registering
    our service on load.
  prefs: []
  type: TYPE_NORMAL
- en: 'Edit the `PacktAuthenticationService` class:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the following URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://127.0.0.1:8888/Xyz.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: The user will be redirected to the Spring Security internal login page. When
    the user enters the **User** and **Password** input and hits submit, the `PacktGWTAuthenticator`
    class loads the users from the `Users` class and the inputs are compared. If the
    map has the same credentials as the one the user has provided, authorization is
    initiated and, on success, the user is directed to the GWT application. The example
    has used Spring Security's `Authentication Provider` and `Authenticator Bean`
    classes explicitly by implementing the interfaces and the `application-context.xml`
    invokes the `PacktGWTAuthenticator` and `PacktGWTAuthentication implementation`
    classes to do authentication and authorization.
  prefs: []
  type: TYPE_NORMAL
- en: '![How it works...](img/7525OS_05_01.jpg)![How it works...](img/7525OS_05_02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: You will see the previous image on a successful login.
  prefs: []
  type: TYPE_NORMAL
- en: 'Listener generated output in the Eclipse console:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'On a login failure the following image is displayed:'
  prefs: []
  type: TYPE_NORMAL
- en: '![How it works...](img/7525OS_05_03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Form-based authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Basic authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Digest authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Database authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *LDAP authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Form-based authentication with GWT and Spring Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We will demonstrate Form-based authentication in GWT. It's very similar to the
    authentication that we have done in our previous recipes. We will be editing the
    `applicationContext.xml`.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a sample GWT project.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-related JARs in the build path.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Spring Security-related JARs.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the `applicationContext.xml` file.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file as shown in the previous section.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Also add the spring-related JARs in the `web-inf lib` folder.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Edit the `applicationContext.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: This configuration invokes the internal Spring Security login form. The idea
    is to show another scenario where we don't specify an authentication mechanism
    and spring, by default, uses its login form page to authenticate the user.
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the following URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://127.0.0.1:8888/Basicgwtauth.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: '![How it works...](img/7525OS_05_01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Enter the login username and password; you will be taken to the GWT page. This
    is also a mechanism to invoke spring's internal login jsp page if the developer
    doesn't want to create their own customized jsp. It still reads the authentication
    provider details provided to authenticate and authorize the user.
  prefs: []
  type: TYPE_NORMAL
- en: In a similar way you can authenticate using database and LDAP as well as just
    by editing the authentication manager configurations.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Basic authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Digest authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Database authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *LDAP authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic authentication with GWT and Spring Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We will demonstrate Basic authentication in GWT. It's very similar to the basic
    authentication that we are going doing in later recipes. We will be editing the
    `applicationContext.xml`.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a sample GWT project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring related JARs in the build path
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Spring Security related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the `applicationContext.xml` file
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file as shown in the previous section
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Also add the spring related JARs in the `web-inf lib` folder
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Edit the `applicationContext.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: Here we are specifying the authentication mechanism as basic.
  prefs: []
  type: TYPE_NORMAL
- en: How it works..
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://127.0.0.1:8888/Basicgwtauth.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: Spring security will interrupt the user from accessing the GWT application.
    The security mechanism will be read from the `application-context.xml` file. For
    this application the security mechanism is basic. Spring Security will pop up
    a dialogue box asking for user name and password. The login username and password
    that the user enters will be authenticated and authorized and the user will be
    taken to the GWT page.
  prefs: []
  type: TYPE_NORMAL
- en: '![How it works..](img/7525OS_05_04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Enter the login username and password and you will be taken to the GWT page.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Digest authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Database authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *LDAP authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Digest authentication with GWT and Spring Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We will now demonstrate Digest authentication in GWT. It's very similar to the
    basic authentication that we are doing in our previous recipes. We will be editing
    the `applicationContext.xml`. We will be hashing the password. The setup remains
    the same, the only change is the `applicationcontext.xml`.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a sample GWT project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-related JARs in the build path
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Spring Security-related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the `applicationContext.xml` file
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file as shown in the previous section
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Also add the spring-related JARs in the `web-inf lib` folder
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Edit the `applicationContext.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Here we are specifying the authentication mechanism as basic and have given
    the hashed password here. To hash the password, use the `jacksum jar`. This has
    already been demonstrated in [Chapter 2](ch02.html "Chapter 2. Spring Security
    with Struts 2"), *Spring Security with Sturts2*.
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the following URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://127.0.0.1:8888/Basicgwtauth.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: The user should be redirected to the GWT application by accessing this URL.
    But the Spring framework interrupts this to check if the user is authorized to
    see the application. It pops up a login screen. Enter the login username and password
    and you will be taken to the GWT page.
  prefs: []
  type: TYPE_NORMAL
- en: Your password will be decoded for authentication based on the algorithm mentioned
    in the configuration file. The algorithm mentioned here is *Sha*. So the password
    will be encrypted and decrypted using *Sha algorithm*.
  prefs: []
  type: TYPE_NORMAL
- en: '![How it works...](img/7525OS_05_04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Enter the login username and password and you will be taken to the GWT page.
    Your password will be decoded for authentication based on the algorithm mentioned
    in the configuration file.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Database authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *LDAP authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Database authentication with GWT and Spring Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We will demonstrate database authentication in GWT. The setup remains the same.
    In all our previous examples we were using `applicationContext.xml` which was
    easily recognized by the Spring framework since it has the default file name.
    In this current example we will give a new file name to this and see how the application
    responds. Also, we need to add the `spring-jdbc.xml`.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a sample GWT project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-related JARs in the build path
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Spring Security-related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the `spring-security.xml` file
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-jdbc-related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file as shown in the previous section
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Also add the spring-related JARs in the `web-inf lib` folder
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Edit the `spring-security.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: Add this above in the beans tag of the `xml` file. Here we are specifying the
    authentication mechanism as basic and the user information is stored the database.
  prefs: []
  type: TYPE_NORMAL
- en: 'Edit the `spring-jdbc.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: We are giving the database information.
  prefs: []
  type: TYPE_NORMAL
- en: 'Edit the `web.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: We have to configure the `springsecurityFilterchain`, as shown in the previous
    examples, and under that, add the above section.
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the following URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`http://127.0.0.1:8888/springgwtdbsecurity.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: Enter the login username and password and you will be taken to the GWT page.
    A database connection will be created and a query will be executed. The user-entered
    values will be checked with retrieved values for authentication. With this we
    can see that GWT seamlessly integrates with Spring Security.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *LDAP authentication with GWT and Spring Security* recipe
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LDAP authentication with GWT and Spring Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We will demonstrate LDAP authentication in GWT. The setup remains the same:
    The user has to create groups and users.'
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a sample GWT project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-related JARs in the build path
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Spring Security-related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the `spring-security.xml` file
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the spring-LDAP-related JARs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Edit the `web.xml` file as shown in the previous section
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Also add the spring-related JARs in the `web-inf lib` folder
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Edit the `spring-security.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: Add this code in the `beans` tag of the xml. Here we are specifying the authentication
    mechanism as basic and the user information is stored the LDAP server.
  prefs: []
  type: TYPE_NORMAL
- en: 'Edit the `web.xml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: We have to configure `springsecurityFilterchain` as shown in the previous examples.
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now access the following URL:'
  prefs: []
  type: TYPE_NORMAL
- en: '`27.0.0.1:8888/springgwtldapsecurity.html?gwt.codesvr=127.0.0.1:9997`'
  prefs: []
  type: TYPE_NORMAL
- en: Enter the login username and password and you will be taken to the GWT page.
    Spring will use the details provided in `<ldap-server>` tag to gain access to
    open LDAP. Spring Security LDAP will talk to open LDAP and the user-entered values
    will be checked with retrieved values for authentication. On success, the user
    is redirected to the application. With this, we can see that GWT seamlessly integrates
    with Spring Security.
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There is an active project on google `code-gwtsecurity` package, which is meant
    for Spring Security integration with the GWT application. It offers login via
    GWT pop-up window. On authentication failure, it gives the error message to the
    user on the GWT window. The file `Spring4GWT jar` works by intercepting the error
    message in the RPC.
  prefs: []
  type: TYPE_NORMAL
- en: Let's see how Spring integrates with Vaadin in the next chapter.
  prefs: []
  type: TYPE_NORMAL
