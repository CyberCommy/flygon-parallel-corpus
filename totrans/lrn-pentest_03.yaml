- en: Getting Started with Kali Linux
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we will dive into Kali Linux as our penetration testing platform of
    choice. Kali Linux has a variety of installation options, so we will explore what
    options exist and examine how to use them. After demonstrating the installation
    process, there are some initial tasks that need to be done on Kali Linux, so we
    will work through the initial setup to ensure that we are ready to start working
    with Kali Linux. Scripting should already be part of your arsenal, so we will
    dive into basic scripting and then start exploring some of the common tools that
    are available on Kali Linux.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: 'As you progress through this chapter, you will learn about the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to Kali Linux
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing and configuring Kali Linux
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic commands in Kali Linux
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scripting in Kali Linux
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The essential tools of Kali Linux
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The technical requirements for this chapter are as follows:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: Any hypervisor, such as VMware, Hyper-V, or VirtualBox
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows 10 Professional or Enterprise
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kali Linux 2019.1
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: An introduction to Kali Linux
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For this book, Kali Linux will be our platform of choice. Kali Linux is a free
    penetration testing distribution platform that offers a vast range of tools, such
    as Metasploit for network penetration testing, Nmap for port and vulnerability
    scanning, Aircrack-Ng for wireless network testing, the **Social engineering toolkit** (**SET**)
    for social engineering attacks, and many more.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: Kali Linux is a maintained distribution; this means that it's constantly updated
    and maintained. At the time of writing, the current version of Kali Linux is 2019.1.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Version 2019.1 introduced a massive update to Metasploit (Metasploit will be
    covered in [Chapter 5](8c5306b6-5c1e-4554-a839-5b2422286120.xhtml), *Diving into
    the Metasploit Framework*), including bug fixes, kernel updates, and more.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Kali Linux version 2019.1 is used in this book; note that some of the exercises
    may differ if they are performed on different versions of Kali Linux.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: 'Kali Linux can be downloaded at [https://www.kali.org/downloads](https://www.kali.org/downloads),
    and there are a number of options available for downloading the platform. You
    can choose to download a 32-bit or 64-bit `.iso` of the latest version of Kali
    Linux, as shown in *Figure 1*:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/16b992ab-ade0-4921-a4f1-fcba7037a701.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
- en: 'Figure 1: Kali Linux''s download options'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: 'There are also prebuilt virtual machines for VMware and VirtualBox, which are
    available to download from Offensive Security; these can be found at [https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/](https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/),
    as shown in *Figure 2*:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/d7bd41aa-ff91-4b74-aa6e-133d92d259ef.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
- en: Figure 2: Kali Linux's prebuilt virtual machines
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: 'Kali has the ability to run either as an installed operating system or as a
    live version, as shown in *Figure 3*. With the live version, you will need to
    set up persistent storage on a USB drive—that is, if you want to keep any of the
    data that is collected while using Kali in live mode:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6f37d6cd-007e-478b-a0c7-ae7f1c097471.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
- en: Figure 3: Different boot options for Kali Linux
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: As you will know, there are various ways to get Kali Linux up and running. For
    instance, you can leverage a USB disk with Kali Linux for portability. This means
    that you have the ability to plug it into any PC in order to get Kali up and running.
    Additionally, some users might prefer having a prebuilt virtual machine—this takes
    the effort out of installing the operating system from scratch. Alternatively,
    other users prefer to customize Kali Linux during installation and will want to
    install Kali Linux directly using the `.iso` file.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Installing and configuring Kali Linux
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you have downloaded Kali Linux, we need to get it installed and ready.
    You will notice that there are few options for installing Kali Linux; I will be
    using a prebuilt virtual machine, which is currently version 2019.1.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Installation
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you leverage the Kali Linux prebuilt virtual machine, all you have to do
    is open it with VMware or VirtualBox. The VMware prebuilt machines will need to
    be extracted, but you can use 7zip to extract the virtual machine.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Leveraging the prebuilt virtual machines saves you the time of installing Kali
    Linux manually. Note that if you are prompted when opening a prebuilt virtual
    machine, then you can simply select `"I copied it"`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: 7Zip can be downloaded from [https://www.7-zip.org/download.html](https://www.7-zip.org/download.html).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali Linux on macOS
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you want to install Kali Linux from scratch on macOS using VMware Fusion,
    you can perform the following steps:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: 'In VMware Fusion, press *Ctrl *+ *N* or *Command* + *N* for macOS; this will
    bring up the new virtual machine dialog box, as shown in *Figure 4*:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/263d90cb-f031-497f-8566-8c52c8d5ba95.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
- en: Figure 4: Different options for the installation of a VM in VMware Fusion
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: 'Drag the Kali Linux `.iso` file into the window and click on Continue. Next,
    select Linux as the operating system, followed by Debian 9.x 64-bit, and then
    click on Continue, as shown in *Figure 5*:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/25369b06-fe42-44db-8636-1bbb37c0a854.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
- en: Figure 5: Options for guest operating systems
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the boot firmware as UEFI, and then click on Continue, as shown in *Figure
    6*:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/132853e1-2d18-4973-822d-226b7a99ca3a.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
- en: Figure 6: Options for Firmware Type of VM OS
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: 'Click on Customize to make some changes to the RAM and CPUs that are allocated
    to the virtual machines. You can adjust this as you see fit; in my configuration,
    I will use two CPUs and 2 GB of RAM, as shown in *Figure 7*:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1f35b92b-fa02-4066-a59d-9dc2b1b7b514.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
- en: Figure 7: Settings for the VM
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you boot the virtual machine, select Start installer and follow the prompts
    until the installation is complete as shown in *Figure 8*:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/633d771f-9365-4b6b-b634-a4a75a428fa9.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
- en: Figure 8: Different boot options for Kali Linux
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: Once you have completed the installation steps, you will see that Kali Linux
    has been freshly installed, as shown in the preceding screenshot (*Figure 8*).
    You are now ready to move on to the configuration phase.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali Linux using the Windows Subsystem for Linux (WSL)
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Kali Linux is able to run natively in Windows using WSL and **Windows Store
    Apps**. The following installation steps need to be performed in order to get
    Kali up and running with the necessary tools installed:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: First, install WSL; in order to do this, press the Windows key + *r*, type in
    `appwiz.cpl`, and then click on OK.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select the Windows Subsystem for Linux checkbox, as shown in *Figure 9*. Note
    that once it has installed, your computer will require a reboot:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/3fa670f5-1d96-4967-873e-3baf5124bda4.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
- en: Figure 9: Select Windows Subsystem for Linux
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: 'In the Windows Store, search for `Kali Linux Windows Store App`, and then install
    the app. Once you have opened the application, it will perform some initial steps,
    such as creating a new root user account. Once this is complete, you can go ahead
    and update Kali Linux using the `sudo apt-get update` command, as shown in *Figure
    10*:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a51ef0f4-9ebf-4fb9-b22c-3a2e3ae130a8.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
- en: Figure 10: Updating Kali Linux in WSL
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to view a complete list of available packages, use the `sudo apt-cache
    search kali-linux` command. You will notice that the packages are split into specific
    fields of penetration testing, such as forensics, as shown in *Figure 11*:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/48194628-f92a-4f78-9e5f-8064087a8504.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
- en: Figure 11: The list of Kali Linux packages in WSL
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: Note that the sizes of the packages will vary; for example, at the time of writing,
    the `kali-linux-top10` package has a size of 2.9 GB. You will need to ensure that
    your antivirus software on Windows 10 has an exclusion for the Kali Linux package.
    The path for the package is
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '`C:\Users\[username]\AppData\Local\Packages\`. Also, note that `[username]`
    denotes your logged-in user.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: Another way in which to use Kali Linux tools in Windows is through the **Ubuntu
    Windows Store App** with a tool such as **Katoolin**.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: To do so, repeat the previously mentioned steps from 1 to 2; however, instead
    of installing the Kali Linux application from the Windows Store, install the Ubuntu
    app.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the app is installed, you can proceed with the following steps:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: 'Open **Ubuntu Windows Store App** and perform an update and upgrade of the
    application using the following commands:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Once Ubuntu is updated, you will need to install Python version 2.7; this can
    be done using the following command:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'You can also use a tool such as `katoolin`, which can be cloned using the following
    command:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'You can run the **Katoolin** tool using the `sudo katoolin` command, which
    will present you with a menu that you can use to add the Kali repositories and
    install the various tools that are listed in Categories, as shown in *Figure 12*:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/702abece-c440-4925-ae39-750b577c020f.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
- en: Figure 12: Katoolin installed in Ubuntu in WSL
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: This book will make use of Kali Linux installed either on a virtual machine
    or a physical host. The scope of this book does not cover using Kali Linux in
    WSL.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali Linux using VirtualBox
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: VirtualBox is a cross-platform hypervisor; importing a prebuilt Kali Linux virtual
    machine in both Windows and macOS is the same process.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you have downloaded the prebuilt virtual machine, it will be in the `.ova` format.
    This can be imported into VirtualBox using the following steps:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: Open VirtualBox and click on Import if you are using the macOS version; alternatively,
    click on File *| *Import if you are using the Windows version.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to where you have downloaded the prebuilt virtual machine and select
    the `.ova` file. Then, click on the Next button.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You will now be presented with the settings and storage location of the virtual
    machine. You can either customize this or leave it in its default settings.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, click on Import.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the import is completed, you can start the Kali Linux virtual machine.
    You might receive an error related to the USB hardware, but VirtualBox will mention
    what you can install in order to resolve this.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Configuring Kali Linux
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After you have Kali Linux up and running, there are a few more steps that you
    need to perform.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: 'If you did a manual install of Kali Linux, you will be prompted to provide
    a username and password for the root account. Alternatively, if you are using
    a prebuilt virtual machine, then the default username is `root` and the password
    is `toor`. In order to change your password, you can use the `passwd` utility,
    as shown in *Figure 13*:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/159f7d38-9811-4c0f-a06a-5d71ddfbde32.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
- en: Figure 13: Changing the root password in Kali Linux
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: Most of the tools within Kali Linux require root-level privileges in order to
    run. However, there are risks to using a root-level account all the time; for
    example, consider that you are browsing the internet for exploits and happen to
    land on a malicious website. This malicious website could contain a dropper that
    drops a remote shell onto Kali Linux. Since the account used is a root-level account,
    the attacker will have a remote shell with root privileges on your system.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to provide an additional layer of security, you will need to create
    a normal account that does not have root-level privileges. This can be done by
    performing the following steps:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: Use the `adduser [username]` command.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Follow the prompts to complete the user''s details, as shown in *Figure 14*:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/bda9d9e8-e0a4-4d38-b43d-2c4f2744d174.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
- en: Figure 14: Adding a non-root user
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: 'If you do not add the user to the correct group, then the newly created user
    will not be able to elevate to root-level privileges, as shown in *Figure 15*:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/dccd7c17-930c-44ab-91dd-c16ddd76e6ae.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
- en: Figure 15: The user is not in the sudo group
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to add the user to the correct group, you will need to enter the following
    command:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Here, `-a` means append, and `-G` specifies the group.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you add the user to the `sudo` group, you need to allow the user to leverage
    the `bash` shell. This is done using the following command:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `chsh` command is used to change the login shell, while the `-s` switch
    is used to specify the shell.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the user is added to the `sudo` group and the login shell has changed,
    the user can be elevated to root-level privileges, as shown in the following screenshot
    (*Figure 16*):'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/9accc3a2-36af-41f0-9ff8-0c10fccc9a86.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
- en: Figure 16: The user is now elevated to root-level privileges
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: Next, we need to ensure that we are able to update Kali Linux. The first thing
    we need to check is the `sources.list` file; this file can be found at `/etc/apt/sources.list`.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: 'There are a few repositories that you can use; the standard one that is defined
    on Kali Linux''s website is as follows:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Kali Linux lists their official repositories on their website, which can be
    found here:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: '[https://docs.kali.org/general-use/kali-linux-sources-list-repositories](https://docs.kali.org/general-use/kali-linux-sources-list-repositories).'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: 'You can confirm that your repository is not commented out by running the `more
    /etc/apt/source.list` or `cat /etc/apt/sources.list` commands, as shown in the
    following screenshot (*Figure 17*):'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8db053a7-60d2-46cd-8dc3-164a6cdb2352.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
- en: Figure 17: Listing the sources.list file in Kali Linux
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: If you need to edit the `sources.list` file, then you can do so by using Leafpad,
    Nano, or your favorite text editor.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: Additionally, you will need to perform updates on Kali Linux to ensure that
    you have the latest version of tools and system files.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: 'The command to perform an update is `apt update`, and the command to perform
    an upgrade is `apt upgrade`**<q>. </q>**These commands can be issued together
    to save time; the combined command is `apt update && apt upgrade`. Additionally,
    you can also use `apt update && apt full-upgrade`to include a distribution upgrade,
    as shown in the following screenshot (*Figure 18*):'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/43c786ea-1217-4fc1-8656-50432289c8c5.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
- en: Figure 18: Updating and upgrading Kali Linux
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: By default, there are services that do not start automatically when Kali Linux
    boots up. Kali Linux contains services such as `ssh`, `http`, and more. If these
    services are set to automatically start up, they will expose ports, which will
    lead to Kali Linux being exposed and vulnerable.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: If you want to enable specific services, you will need to use the `systemctl`
    `start [service name]`. For example, if you want to enable the `ssh` server, you
    could use the `systemctl` command to start `ssh`. On the other hand, if you want
    it to automatically start during boot, you can use the `systemctl` command to
    enable `ssh`.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot (*Figure 19*) shows that the `ssh` service is not
    started by default and demonstrates how to enable it:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e580bb3c-fd7c-496a-ada5-0168a9f5c770.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
- en: Figure 19: Enabling the ssh service
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have Kali Linux installed and updated, let's move on to some of
    its basic commands.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: Basic commands in Kali Linux
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'There are some basic commands in Kali Linux that are very useful to know. Some
    of these useful basic commands include `locate`, `chmod`, `find`, `ls`, `cd`,
    and `pwd`:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: '`locate`: I use this command often; it can be used to easily locate a specific
    file. Before using the `locate` command, you need to perform a database update
    using`updatedb`, as shown in the following screenshot (*Figure 20*):'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/43cb536c-3b97-461d-8631-008bbcb6b7a5.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
- en: Figure 20: Using the locate command
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: '`chmod`: This command is useful if you need to control the permissions of a
    file. Some tools, when downloaded, will require you to modify the permissions
    so that you are able to execute them. For example, `chmod 600` sets the file so
    that only the owner can read and write, as shown in *Figure 21*:'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/490a9a56-cd30-48c5-90cd-f7bc79acbacf.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
- en: Figure 21: Using the chmod command
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: '`find`:This command is a more intense search tool than the `locate` command;
    here, `find` searches any given path as shown in *Figure 22*:'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/e8ec67c6-62d4-49f7-82fc-9c1775c0e511.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
- en: Figure 22: Using the find command
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: '`ls`: This command is used to list the contents of the current directory. Using
    the `-a` switch will display hidden files and folders.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`cd`: This command is used to change the current working directory. It is also
    known as the `chdir` command.'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`pwd`: This command prints the working directory, which simply displays the
    name of the current directory that you are working in.'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All of these listed commands are a good starting point to get you familiar with
    the core functions in Kali Linux. If you are looking for a complete A-Z list of
    commands, these can be found easily using your favorite search engine.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: Scripting in Kali Linux
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Kali Linux is relatively verbose—you can leverage bash scripting to create complex
    scripts, which you can then leverage for penetration testing.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: 'A sample script that performs a `Nmap` scan is as follows:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'In this script, we are telling the system to print out the `read -p "Target
    IP/Range:` text, which we tie to the variable of `$targetIP`. In the next line,
    we are displaying the IP range using the `echo` command, which is passed as an
    argument. In the last line, we perform a simple `Nmap` scan, using the switches
    of `-sS`,which performs a TCP SYN port scan; the `-O`, which performs remote operating
    system detection; and `-v`**, **which increases the verbosity level, as shown
    in *Figure 23*:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/de5a4f71-344e-41b1-b32c-9d9c2b63d798.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
- en: Figure 23: A sample Nmap script
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
- en: During the course of this book, we will explore additional scripts (for example,
    in [Chapter 3](96db9b59-1985-4390-aa0c-ba91c0b0e9cf.xhtml), *Performing Information
    Gathering*, using a script to search Shodan, and more). As you progress on your
    penetration testing journey, you will likely develop your own useful list of scripts.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: The essential tools of Kali Linux
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Kali Linux contains hundreds of tools that are used for penetration testing,
    forensics, and much more. Navigating through the tools that are built-in, along
    with the additional tools that are available on the internet, can be a challenging
    and overwhelming task.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we will discuss the essential tools that you are likely to
    use frequently. As you progress through this book, you will learn about additional
    tools that are either built-in or need to be downloaded. The following list is
    just a drop in the ocean, so to speak; you can expect to see more of these tool
    throughout the book.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: Nmap
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Nmap has been around for many years; it is one of the most used network mapper
    tools and it''s free. Additionally, it comes in a command-line and graphical version.
    The graphical version is known as Zenmap. The main features of Nmap are as follows:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: '**Host discovery**: This is useful for detecting hosts within the network'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**OS detection**: This can be used to determine the operating system of the
    target device'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Application version detection**: This provides an insight into the application
    version and the name of the target device'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Port scanning**: This allows you to enumerate what ports are exposed to the
    host'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scripting**: This leverages the **Nmap scripting engine** (**NSE**), which
    allows you to write custom scripts that provide speed and efficiency when using
    Nmap'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There are a number of cheat sheets available on the internet for Nmap. An example
    can be found at [https://pen-testing.sans.org/blog/2013/10/08/nmap-cheat-sheet-1-0/](https://pen-testing.sans.org/blog/2013/10/08/nmap-cheat-sheet-1-0/).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 3](96db9b59-1985-4390-aa0c-ba91c0b0e9cf.xhtml), *Performing Information
    Gathering*, we will work with Nmap in greater depth and use some of its features,
    such as the NSE.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
- en: Aircrack-ng
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Aircrack-ng is a wireless security suite, which contains a packet analyzer,
    WPA and WPA2 auditing tools, and much more. The main features of Aircrack-ng are
    as follows:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
- en: '**Wired equivalent privacy** (**WEP**) and **Wi-Fi protected access** (**WPA**)
    password decryption'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Packet injection
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Support for WPA and WPA2-PSK password decryption
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Exporting captured data to files for further processing
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Replaying attacks, de-authentication, and more
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Aircrack-ng will be used and explained in more detail in [Chapter 9](297a1e63-5c9b-4871-a46b-e4f2b25da48c.xhtml),
    *Getting Started with Wireless Attacks*.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
- en: John the Ripper (JTR) and Hydra
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'JTR is a cryptography tool that allows you to perform brute force attacks against
    passwords. JTR supports a vast array of encryption algorithms such as SHA-1, DES,
    Windows'' LM/NTLM hashes, and more. Some of the main features of JTR are as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
- en: It performs dictionary attacks and brute force capabilities
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It has the ability to run as a cron job
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It offers customization of brute force rules and dictionary attack lists
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Hydra, which is commonly used alongside JTR, provides support for a wide range
    of network protocols. Hydra is an online password cracker, whereas JTR is an offline
    password cracker. Some of the main features of Hydra are as follows:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
- en: It supports a wide range of protocols
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It performs dictionary attacks and brute force capabilities
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It has the ability to add modules to extend functionality
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In [Chapter 6](72d35b3e-36f2-487f-b143-d228b9e3c77f.xhtml), *Understanding Password
    Attacks*, we will begin using JTR and Hydra to perform password attacks.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
- en: SET
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: SET provides a variety of ways for you to conduct social engineering attacks.
    It is based on Python and is open source. Some of the attacks that SET is capable
    of include WiFi AP-based attacks, email-based attacks, web-based attacks, SMS-based
    attacks, and involve creating payloads.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
- en: SET is able to integrate with third-party modules, support Powershell attack
    vectors, generate phishing attacks, and much more.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
- en: Burp Suite
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Burp Suite is used for web application penetration testing; it is a powerful
    tool that can be used to cover every aspect of web application testing. Some of
    the main features of Burp Suite include the following:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
- en: '**Interception proxy**: This is used to inspect and modify the requests and
    responses that your browser makes towards the targeted web application'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Spider**: This can be used to list all the directories on a web server'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Intruder**: This is used to create and perform customized attacks'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Repeater**: This is used to replay requests'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kali Linux contains a wealth of useful tools, and what we have covered here
    is just a drop in the ocean. From [Chapter 3](96db9b59-1985-4390-aa0c-ba91c0b0e9cf.xhtml), *Performing
    Information Gathering*, onward, we will be working with a lot more tools within
    Kali Linux.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-192
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we looked at our penetration testing platform of choice, which
    is Kali Linux. We explored the installation, configuration, and initial setup.
    We then began working with basic bash scripts and commonly used commands. To conclude
    the chapter, we looked at some of the essential tools that are included within
    Kali Linux.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
- en: You now have the ability to install Kali Linux from scratch, you know where
    to download a prebuilt virtual machine, and you have learned how to install Kali
    Linux in WSL. In addition to this, you have learned how to perform the initial
    configuration of Kali Linux such as updating, upgrading, and adding new user accounts.
    We also explored how to compile basic scripts within the bash environment. You
    should now have a good understanding of some basic commands and the uses of them,
    as well as some of the common tools and their main features within Kali Linux.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在有能力从头开始安装Kali Linux，知道从哪里下载预构建的虚拟机，并且已经学会了如何在WSL中安装Kali Linux。除此之外，您还学会了如何执行Kali
    Linux的初始配置，如更新、升级和添加新用户账户。我们还探讨了如何在bash环境中编译基本脚本。您现在应该对一些基本命令及其用途有了很好的理解，以及Kali
    Linux中一些常见工具及其主要特性。
- en: In [Chapter 3](96db9b59-1985-4390-aa0c-ba91c0b0e9cf.xhtml), *Performing Information
    Gathering*, we will explore the different types of information gathering and the
    tools that you can use to perform this. We will begin by using the tools in Kali
    Linux to perform various types of information gathering.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第3章](96db9b59-1985-4390-aa0c-ba91c0b0e9cf.xhtml)中，*执行信息收集*，我们将探讨不同类型的信息收集和您可以使用的工具来执行此操作。我们将首先使用Kali
    Linux中的工具来执行各种类型的信息收集。
- en: Questions
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Why is Kali Linux one of the preferred distributions for penetration testers?
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么Kali Linux是渗透测试人员首选的发行版之一？
- en: What install options exist for Kali Linux?
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Kali Linux有哪些安装选项？
- en: What commands are used to update Kali Linux?
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用于更新Kali Linux的命令是什么？
- en: How do you start specific services within Kali?
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在Kali中启动特定服务？
- en: Name at least three essential tools in Kali.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 至少列举三种Kali中的基本工具。
