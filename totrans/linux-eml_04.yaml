- en: Chapter 4. Providing Webmail Access
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You learned how to set up and configure an e-mail server in the previous chapters.
    Now that your e-mail server is ready to serve, how will your users access it?
    In this chapter, you will learn about the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The benefits and disadvantages of a webmail access solution
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The SquirrelMail webmail package
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up and configuring SquirrelMail
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What SquirrelMail plugins are and what they can do
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to make SquirrelMail more secure
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the next section, we will introduce the SquirrelMail software package and
    examine the pros and cons of this and other webmail access solutions. After that,
    we will follow the installation and configuration of SquirrelMail step by step.
    Next, we will examine the installation of plugins and include a reference of useful
    plugins. Finally, we'll include some tips on how to secure SquirrelMail.
  prefs: []
  type: TYPE_NORMAL
- en: The webmail solution
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A **webmail solution** is a program or a series of scripts that is run on a
    server, is accessible over the web, and provides access to e-mail functions similar
    to a conventional mail client. It is used by Yahoo! Mail, Microsoft Hotmail, Microsoft
    Outlook Web Access, and Gmail as the primary interface to their e-mail solutions.
    You may already be familiar with various forms of webmail.
  prefs: []
  type: TYPE_NORMAL
- en: Though we will be examining the SquirrelMail webmail solution specifically,
    the benefits and drawbacks of SquirrelMail apply to most webmail systems in the
    market. From this point of view, we will approach the issue from a general perspective,
    and then in detail for the SquirrelMail package.
  prefs: []
  type: TYPE_NORMAL
- en: The benefits
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section will focus on the advantages offered by installing and maintaining
    a webmail solution. As with any list, it is not entirely comprehensive. Many benefits
    will be specific to a particular case; it is important to carefully examine and
    consider how the following qualities impact your individual situation.
  prefs: []
  type: TYPE_NORMAL
- en: 'The main benefits we will explore in this section are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Easy and quick access with little or no setup
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Easy remote access
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: No need to maintain client software or configuration
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Provision of a user interface to configure mail server options
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Possible security benefits
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Easy and quick access
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Although well suited to certain situations, traditional mail access solutions
    can often be difficult to set up and maintain. Generally, this involves installing
    software on a client's local computer and configuring it. This can be difficult,
    especially in cases where users need to set up the software themselves. Configuration
    can often be even more problematic as some users may not be competent enough to
    follow even a very detailed set of instructions. These instructions also need
    to be provided and maintained for many different mail clients on many different
    platforms.
  prefs: []
  type: TYPE_NORMAL
- en: However, a webmail solution does not have most of these problems. All of the
    user's settings can be configured on the server as the application itself resides
    on the server. This translates to almost zero set up time for the user. Once they
    have received their login credentials, they can visit the webmail site and instantly
    have access to all of their mail. The user is able to access the site instantly
    to send and receive e-mail.
  prefs: []
  type: TYPE_NORMAL
- en: As the Internet is so common now, many users will be familiar with webmail sites
    such as Google Mail and Windows Live Hotmail, which offer free e-mail services.
    However, the user interface provided by an open source package may be more primitive
    and lack some visual features. Squirrelmail provides access to e-mail, including
    the ability to send and receive attachments, and offers a good user interface.
  prefs: []
  type: TYPE_NORMAL
- en: It is also worth mentioning that a webmail solution can offer what certain traditional
    mail clients call **groupware** features. These features let groups communicate
    and coordinate in ways that complement e-mail communication. Examples of groupware
    components are private calendars, shared calendars, meeting scheduling, To-do
    lists, and other similar tools.
  prefs: []
  type: TYPE_NORMAL
- en: These applications can be preconfigured so that a user can instantly begin using
    them without having to configure them on their own. Several SquirrelMail plugins
    which implement these features are available from the SquirrelMail website.
  prefs: []
  type: TYPE_NORMAL
- en: Easy remote access
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Another problem with traditional mail access software is that it is not portable,
    as an e-mail client needs to be installed and configured on a computer. Once it
    has been downloaded, installed, and configured on a particular computer, it is
    accessible only on that computer. Without webmail, users on the road will not
    be able to access e-mail from friends' computers, mobile devices, or Internet
    booths at airports.
  prefs: []
  type: TYPE_NORMAL
- en: However, in a webmail solution, e-mail can be accessed from any location with
    an Internet connection. Employees can access their work e-mail from any computer
    with an Internet connection and a suitable browser.
  prefs: []
  type: TYPE_NORMAL
- en: As the administrator, you can choose to permit or deny users from accessing
    e-mail in insecure situations. By requiring the connection to be encrypted, you
    can ensure that when a user is in a remote location, their communication with
    the server is secure.
  prefs: []
  type: TYPE_NORMAL
- en: No need to maintain clients
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Even if software mail clients have been installed and properly configured, they
    must be maintained. When a new version is released, all clients must be updated.
    This is not necessarily an easy task. Software that does not work as expected
    can result in a large number of support-desk calls.
  prefs: []
  type: TYPE_NORMAL
- en: Updating the software on each client can be a very large administrative burden.
    In fact, many expensive software packages are designed for the specific purpose
    of updating software on individual machines automatically. Despite this, problems
    specific to each local machine often arise and must be solved individually. It
    may also be difficult to convey instructions or notifications to remote branch
    locations or remote workers. With a webmail solution, this is not necessary.
  prefs: []
  type: TYPE_NORMAL
- en: In contrast to this, a webmail solution is centrally maintained and administered.
    The webmail application resides on the server. With webmail, only the web server
    and the webmail package need to be upgraded. Any exceptions or problems that arise
    can be dealt with before or during the upgrade. The software upgrade itself can
    be run through on a test system before it is deployed on a live system. Although
    changes in settings are rare with SquirrelMail, it is possible to update a user's
    settings to make them compatible with the changes introduced in an updated version.
  prefs: []
  type: TYPE_NORMAL
- en: Additionally, while upgrading or changing a mail server platform, testing effort
    can be greatly reduced as only supported browser versions need to be tested. It
    is advisable to mandate particular browser versions for corporate computers. In
    contrast with e-mail clients, there is no need to test on all of the possible
    clients and software platforms.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring mail server interface via the user interface
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Many traditional desktop e-mail clients provide only e-mail functionality and
    nothing more. Often there is no support for other essential tasks (such as changing
    the access password) that are performed on behalf of a mail user. Certain configuration
    options that reside on the server may require additional software applications
    or external solutions to provide for these needs. Examples of mail server options
    that may need to be configured include each user's password and junk mail filtering
    settings.
  prefs: []
  type: TYPE_NORMAL
- en: In the case of the SquirrelMail webmail application, many plugins have been
    developed that provide these features. For example, a user is able to change his/her
    password directly from the webmail interface. Also, there are plugins and systems
    that allow users to easily sign up without any direct human intervention. This
    may be useful if you are interested in providing a service where users can sign
    up without needing an administrative overhead.
  prefs: []
  type: TYPE_NORMAL
- en: Possible security benefits
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This issue can be seen in two different ways—it is for this reason that the
    title is listed as *"Possible" security benefits*. Nonetheless, this is still
    an interesting point to examine.
  prefs: []
  type: TYPE_NORMAL
- en: In the software client access model, e-mail is traditionally downloaded onto
    the local user's computer, being stored in one or more personal folders. From
    a security perspective, this may be a bad thing. Users of the system may not be
    as conscientious or knowledgeable about computer security as a trained computer
    administrator might be. It is often much easier to gain unauthorized access to
    an end user's computer than a properly configured and secured server. The implication
    is that someone who stole a company laptop might be able to access all the e-mail
    stored on that computer.
  prefs: []
  type: TYPE_NORMAL
- en: There is one more disadvantage associated with the client access model. Even
    if an employee is terminated, he/she may still have access to all of the e-mail
    that resides on his/her local office computer. It may take a certain amount of
    time before important information may be secured. A disgruntled worker might easily
    connect an external storage source to their local office computer and download
    any data they desire.
  prefs: []
  type: TYPE_NORMAL
- en: It is also worth noting that in a webmail model, all e-mail is centrally stored.
    If an attacker were to gain access to the central e-mail server, he/she might
    access all the e-mail stored on that server. However, it is possible that an attacker
    will gain access to all the e-mail if the central mail server is compromised even
    if a webmail system is not used.
  prefs: []
  type: TYPE_NORMAL
- en: The disadvantages
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This section focuses on the disadvantages resulting from providing and supporting
    a webmail solution. The warning given in the previous section applies: This list
    is not entirely comprehensive. Each situation is unique, and may bring its unique
    disadvantages.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We will go over the following disadvantages of a webmail solution:'
  prefs: []
  type: TYPE_NORMAL
- en: Performance issues
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compatibility with large e-mail volumes
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compatibility with e-mail attachments
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Security issues
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Performance
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The traditional e-mail client is designed in the client-server model. One mail
    server accepts and delivers e-mail to and from other mail servers. However, a
    desktop mail client can offer many additional productivity-enhancing features
    such as message sorting, searching, contact list management, attachment handling,
    along with more recent ones such as spam filtering and message encryption.
  prefs: []
  type: TYPE_NORMAL
- en: Each of these features may require a certain amount of processing power. The
    required level of processing power may be negligible when it comes to storing
    one user's e-mail on a desktop computer, but providing these features may be problematic
    when applied on a larger scale to a single server.
  prefs: []
  type: TYPE_NORMAL
- en: When examining the performance issue, it is important to consider the number
    of potential users that will access the webmail application and size a server
    accordingly. A single server may be able to easily handle something like 300 users,
    but if the number of users increases significantly, server load may become an
    issue.
  prefs: []
  type: TYPE_NORMAL
- en: For example, searching through several years' archived mail may take a few seconds
    on a client's computer. When one user performs this task using webmail, the load
    will be similar. However, if many clients request this operation at short intervals
    or concurrently, it may be difficult for the server to process all the requests
    in a timely manner. This may result in pages being served at a slower rate or,
    in extreme circumstances, the server failing to respond.
  prefs: []
  type: TYPE_NORMAL
- en: Optimally, load testing in the appropriate conditions should be performed if
    there is any concern that a server may not be able to handle a particular load
    of users.
  prefs: []
  type: TYPE_NORMAL
- en: Compatibility with large e-mail volumes
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The webmail solution is not well suited to large mail volumes. This disadvantage
    is related to the previous one, but is more related to the amount of data sent.
    Even with a relatively low number of users, a large volume of e-mails may be difficult
    to manage in a webmail application. There are mainly the following two reasons
    for this:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, every e-mail viewed and every folder listed must be sent from the server
    each time. With a traditional e-mail client, the client software can manage e-mail
    messages, creating lists and views to suit the user. However, with a webmail solution,
    this is performed on the server. So, if there are many users, this overhead may
    use a significant proportion of the server's resources.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Secondly, each interaction with the webmail application requires a **Hypertext
    Transfer Protocol** (**HTTP**) request and response. These messages will typically
    be larger than those between an e-mail server and a desktop e-mail client. There
    may also be less parallelism when using a webmail client, in other words, fewer
    things going on at the same time. A desktop e-mail client may be able to check
    for new e-mails in several folders at the same time, but a webmail client will
    typically perform these tasks one after the other, if they occur automatically
    at all.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compatibility with e-mail attachments
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The webmail solution is not well suited to e-mail attachments. By virtue of
    the fact that a webmail application resides on a remote server, any and all e-mail
    attachments must first be uploaded onto that server. For a couple of reasons,
    it may be difficult or impossible to accomplish this operation with too many attachments
    or with attachments that are large in size.
  prefs: []
  type: TYPE_NORMAL
- en: Difficulties uploading large attachments may arise due to limited storage space
    on the webmail server. Large attachments may take a long time to upload over the
    HTTP protocol and even longer over HTTPS. Additionally, many file size limits
    may be imposed on uploaded files. PHP, the programming language used with SquirrelMail,
    imposes a 2MB limit on uploaded files in its default configuration.
  prefs: []
  type: TYPE_NORMAL
- en: The solution to the above problem may lie in the nature of the webmail access
    solution—e-mail and the mail access software reside on the server. In a traditional
    mail client, e-mail is often downloaded before the user is aware of the contents
    or size of the particular e-mail message. As opposed to this, in the case of webmail,
    the user is able to view e-mail with large attachments without downloading the
    attachments—a particular benefit to those without high-speed internet connections.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, downloading and uploading large e-mail attachments from the server
    may cause a performance issue with the user interface. Many users are frustrated
    by an attachment's upload time in the webmail application, especially as the message
    cannot be sent until the attachment is uploaded. In a traditional mail client,
    the attachment is attached instantly, while the message takes time to send.
  prefs: []
  type: TYPE_NORMAL
- en: Security issues
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The last issue we will examine is the potential for security shortcomings. One
    important feature of a webmail access solution also creates a potential problem.
    The benefit of remote access gives way to the potential insecurity of the local
    machines upon which the user accesses his/her mail.
  prefs: []
  type: TYPE_NORMAL
- en: A computer that is not directly under your control may be controlled by a third-party
    intent on accessing your information. Normally, a computer does not record a user's
    individual keystrokes. Internet cafes and kiosks, and even the home computers
    of employee's could be running malicious software. This malicious software may
    monitor keystrokes and websites visited. A user must type in his/her password
    or login credentials to gain access to the system. When these credentials are
    captured and stored on the computer with malicious software, they can be intercepted
    and used by third parties for unauthorized access.
  prefs: []
  type: TYPE_NORMAL
- en: Even if we take malicious intent out of the picture, there are still certain
    situations that may prove to pose security risks. For example, many modern web
    browsers offer the option of saving a password whenever it is entered. This password
    is stored on the local computer where the website is visited. If a user logs in
    to the webmail application and accidentally saves their password on the local
    computer, this password may be accessible to any user with access to that local
    computer.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, users may inadvertently leave themselves logged in to the webmail application.
    Without logging out, any user with access to that specific computer might be able
    to gain access to the user's mail account.
  prefs: []
  type: TYPE_NORMAL
- en: The SquirrelMail webmail package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following screenshot shows the SquirrelMail login screen:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The SquirrelMail webmail package](img/8648_04_1.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'SquirrelMail was chosen based on the combination of the following features
    it provides:'
  prefs: []
  type: TYPE_NORMAL
- en: It is a proven, stable, and mature webmail platform.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It has been downloaded over two million times.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It is standards-based and renders pages in pure HTML 4.0 without requiring the
    use of JavaScript.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'SquirrelMail also includes the following features (and many more, via the flexible
    plugin system):'
  prefs: []
  type: TYPE_NORMAL
- en: Strong MIME support
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Address book functionality
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A spell checker
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Support for sending and receiving HTML e-mail
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Template and theme support
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Virtual host support
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following screenshot shows an inbox where you can see some of these features:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The SquirrelMail webmail package](img/8648_04_2.jpg)'
  prefs: []
  type: TYPE_IMG
- en: SquirrelMail installation and configuration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: SquirrelMail installation and configuration may seem daunting if you are not
    familiar with installing web applications. But by following the instructions to
    be discussed next, SquirrelMail can be installed without difficulty.
  prefs: []
  type: TYPE_NORMAL
- en: Prerequisites to installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: SquirrelMail requires both PHP and a web server that supports PHP scripts to
    be installed before proceeding. In our case, we will be using the Apache2 web
    server, although others will work as well.
  prefs: []
  type: TYPE_NORMAL
- en: First, we will go over the basic requirements, and what to do if you do not
    meet them. Then, we will go over some more advanced requirements that may impact
    on certain features within SquirrelMail.
  prefs: []
  type: TYPE_NORMAL
- en: Basic requirements
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: At the time of writing, the most current stable version of SquirrelMail available
    is 1.4.19\. The following instructions apply to this version. There are two basic
    requirements for a SquirrelMail installation.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Apache2
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Any modern version of Apache that supports PHP, either the 1.x or 2.x series,
    will do the trick. Here we provide instructions for using Apache2\. To query for
    an Apache installation on an RPM package management-based system, issue the following
    command at the prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: If, as in the example just seen, a version of Apache is returned, then the Apache
    web server is installed on your system.
  prefs: []
  type: TYPE_NORMAL
- en: 'To query for an Apache installation on a Debian package management-based system,
    issue the following command at the prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Similar commands are available for other distributions using other package management
    systems.
  prefs: []
  type: TYPE_NORMAL
- en: If you do not have an Apache installation present, it is best to first look
    into your distribution for a copy of Apache—such as on your operating system installation
    CDs or using an online package repository. Alternatively, you may visit the home
    page for the Apache foundation at [http://www.apache.org](http://www.apache.org).
  prefs: []
  type: TYPE_NORMAL
- en: PHP
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The PHP programming language (version 4.1.0 or greater, including all PHP 5
    versions) is required in order to install SquirrelMail. To check if your system
    has PHP installed, simply attempt to run it with the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: If the command succeeds, you will see a message describing the version of PHP
    that is installed. If PHP version 4.1.0 or higher is present, then your system
    has the required software. Otherwise, you will need to install or upgrade your
    current installation. As with Apache, it is best to look to your distribution
    for a copy to install. Alternatively, you may also visit [http://www.php.net](http://www.php.net).
  prefs: []
  type: TYPE_NORMAL
- en: Perl
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The Perl programming environment is not required for SquirrelMail, but having
    it available makes configuration of SquirrelMail much simpler. In this chapter,
    we assume that you will have Perl accessible to enable easy configuration of SquirrelMail.
  prefs: []
  type: TYPE_NORMAL
- en: 'To query for a Perl installation on an RPM-based system, simply attempt to
    run it with the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: If the command succeeds, you will see a message describing the version of Perl
    that is installed.
  prefs: []
  type: TYPE_NORMAL
- en: If any version of Perl is present, your system has the required software. Otherwise,
    you will need to install or upgrade your current installation. As with Apache,
    it is best to look into your distribution for a copy to install. Alternatively,
    you may also visit [http://www.perl.com/get.html](http://www.perl.com/get.html).
  prefs: []
  type: TYPE_NORMAL
- en: Review configuration
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You will need to review the PHP configuration file `php.ini` to ensure that
    settings are correct. On most Linux systems, this file may be found at `/etc/php.ini`.
  prefs: []
  type: TYPE_NORMAL
- en: '`php.ini` is a text file and can be edited with a text editor such as Emacs
    or vi. Firstly, if you want users to be able to upload attachments, make sure
    that the option `file_uploads` is set to `On:`'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: The next option within the `php.ini` file you may want to change is `upload_max_filesize`.
    This setting applies to uploaded attachments and determines the maximum file size
    of an uploaded file. It may be helpful to change this to something reasonable,
    such as `10M`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Installing SquirrelMail
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: SquirrelMail may be installed either though a package or directly from source.
    While no source code compilation takes place in either method, upgrades are made
    easier using the packages.
  prefs: []
  type: TYPE_NORMAL
- en: Many of the various Linux and Unix distributions include the SquirrelMail package.
    Install the appropriate package from your distribution to use the binary method.
    On many Linux distributions, this may be an RPM file that begins with `squirrelmail…`.
  prefs: []
  type: TYPE_NORMAL
- en: However, an updated version of SquirrelMail may not be included or available
    for your specific distribution.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the advantages of using the version of SquirrelMail provided
    with a Linux distribution:'
  prefs: []
  type: TYPE_NORMAL
- en: It will be very simple to install SquirrelMail.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It will require much less configuration as it will be configured to use the
    standard locations chosen by your Linux distributer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Updates will be very easy to apply, and migration issues may be dealt with by
    the package management system.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following are the disadvantages of using the version of SquirrelMail provided
    with a Linux distribution:'
  prefs: []
  type: TYPE_NORMAL
- en: It may not be the latest version. For example, a more recent version that may
    fix a security vulnerability may have been released, but Linux distributors may
    not have created a new package yet.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sometimes Linux distributions alter packages by applying patches. These patches
    may affect the operation of the package, and may make getting support or help
    more difficult.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Source installation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you do not install SquirrelMail through your distribution, you will need
    to obtain the appropriate tarball. To do so, visit the SquirrelMail website at
    [http://www.squirrelmail.org](http://www.squirrelmail.org), and click **download
    it here**. At the time of writing, this link is[http://www.squirrelmail.org/download.php](http://www.squirrelmail.org/download.php).
  prefs: []
  type: TYPE_NORMAL
- en: There are two versions available for download, a **stable version** and a **development
    version**. Unless you have specific reasons for choosing otherwise, it is generally
    best to choose the stable version. Download and save this file to an intermediate
    location.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, unpack the tarball (`.tar.gz`) file. You may use the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Move the folder just created to your web root folder. This is the directory
    from which Apache serves pages. In this case, we will assume that `/var/www/html`
    is your web root. We will also rename the clumsy `squirrelmail-1.4.3a` folder
    to a more simple `mail` folder. You will need to have superuser `root` privileges
    in order to do this on most systems.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Here we have used the name `mail`, so the URL that users will use will be `http://www.sitename.com/mail`.
    You can choose another name, such as `webmail`, and use that directory name instead
    of `mail` in the commands that you enter.
  prefs: []
  type: TYPE_NORMAL
- en: It is also useful and secure to create a `data` directory for SquirrelMail that
    is outside the main web root, so that this folder will be inaccessible from the
    Web.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: It is important to make this newly created folder writable by the web server.
    To be able to do this, you must know the user and group that your web server runs
    under. This may be `nobody` and `nobody, apache` and `apache`, or something else.
    You will want to verify this; it will be listed in your `httpd.conf` file as the
    `User` and `Group` entries.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'Finally, we will create a directory to store attachments. This directory is
    special in that, although the web server should have write access to write the
    attachments, it should not have read access. We create this directory and assign
    the correct permissions with the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: SquirrelMail has now been properly installed. All of the folders have been set
    up with correct permissions that will secure intermediate files from prying eyes.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If a user aborts a message that contains an uploaded attachment, the attachment
    file on the web server will not be removed. It is a good practice to create a
    cron job on the server that erases excess files from the attachment directory.
    For example, create a file called `remove_orphaned_attachments` and place it in
    the `/etc/cron.daily` directory. Edit the file to have these lines:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: This will run daily and search the SquirrelMail attachments directory for files
    which are orphaned, and delete them.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring SquirrelMail
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: SquirrelMail is configured through the `config.php` file. To aid the configuration,
    a `conf.pl` Perl script has also been provided. These files are located within
    the `config/` directory in the base installation directory.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have run this command, you should see the following menu:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Configuring SquirrelMail](img/8648_04_3.jpg)'
  prefs: []
  type: TYPE_IMG
- en: To select an item from the menu, enter the appropriate letter or number, followed
    by the *Enter* key. As SquirrelMail has been developed, it has been noticed that
    IMAP servers don't always behave in the same way. To get the most out of your
    setup, you should tell SquirrelMail which IMAP server you are using. To load a
    default configuration for your IMAP server, enter the **D** option and type the
    name of the IMAP server that you have installed. This book covers the Courier
    IMAP server, so you should choose that. Press *Enter* again, and you will return
    to the main menu.
  prefs: []
  type: TYPE_NORMAL
- en: We will be moving through the various subsections of the menu and configuring
    the appropriate options.
  prefs: []
  type: TYPE_NORMAL
- en: Type 1 and then press *Enter* to select the **Organization Preferences**. You
    will get a list of items you can change. You may wish to edit the **Organization
    Name, Organization Logo**, and **Organization Title** fields. Once you have modified
    these to your satisfaction, enter R to return to the main menu.
  prefs: []
  type: TYPE_NORMAL
- en: After this, type 2 to visit the **Server Settings**. This allows you to set
    the IMAP server settings. It is important that you update the **Domain** field
    to the proper value.
  prefs: []
  type: TYPE_NORMAL
- en: In our case, the **Update IMAP Settings** and **Update SMTP Settings** values
    should be correct. If you would like to use an IMAP or SMTP server that is located
    on a different machine, you may wish to update these values.
  prefs: []
  type: TYPE_NORMAL
- en: Press R followed by the *Enter* key to return to the main menu.
  prefs: []
  type: TYPE_NORMAL
- en: Next, type 4 to visit the **General Options**. You will need to modify two options
    in this section.
  prefs: []
  type: TYPE_NORMAL
- en: Data Directory to be `/var/www/sqmdata`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Attachment Directory to be `/var/www/sqmdata/attachments`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Type in R followed by the *Enter* key to return to the main menu. Enter S followed
    by the *Enter* key twice to save the settings to the configuration file. Finally,
    enter Q followed by the *Enter* key to exit the configuration application.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We have finished configuring the SquirrelMail settings needed for basic operation.
    You may return to this script at any time to update any settings you have set.
    There are many other options to set, including those regarding themes and plugins.
  prefs: []
  type: TYPE_NORMAL
- en: SquirrelMail plugins
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Plugins are pieces of software that extend or add functionality to a software
    package. SquirrelMail was designed from the ground up to be very extensible, and
    includes a powerful plugin system. Currently, there are over 200 different plugins
    available on the SquirrelMail website. They may be obtained at [http://www.squirrelmail.org/plugins.php](http://www.squirrelmail.org/plugins.php).
  prefs: []
  type: TYPE_NORMAL
- en: The functionality they provide includes administration tools, visual additions,
    user interface tweaks, security enhancements, and even weather forecasts. In the
    following section, we will first go over how to install and configure a plugin.
    After that, we'll go over some useful plugins, what they do, how to install them,
    and more.
  prefs: []
  type: TYPE_NORMAL
- en: Installing plugins
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'These SquirrelMail additions were designed to be simple to set up and configure.
    In fact, the majority of them follow exactly the same installation procedure.
    However, a few require custom setup instructions. For all plugins, the installation
    process is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Download and unpack the plugin.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Perform custom installation if needed.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enable the plugin in `conf.pl`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Example plugin installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section, we will go over the installation of the **Compatibility plugin.**
    This plugin is required in order to install plugins created for older versions
    of SquirrelMail. No matter how bare-bones your installation, the Compatibility
    plugin will most likely be part of your setup.
  prefs: []
  type: TYPE_NORMAL
- en: Downloading and unpacking the plugin
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: All available plugins for SquirrelMail are listed on the SquirrelMail website
    at [http://www.squirrelmail.org/plugins.php](http://www.squirrelmail.org/plugins.php).
  prefs: []
  type: TYPE_NORMAL
- en: Certain plugins may require a specific version of SquirrelMail. Verify that
    you have this version installed. Once you have located a plugin, download it to
    the `plugins/` directory within the SquirrelMail root folder.
  prefs: []
  type: TYPE_NORMAL
- en: You may locate the Compatibility plugin by clicking on the **Miscellaneous**
    category in the plugins page on the SquirrelMail plugins web page. This page has
    a list of plugins in the **Miscellaneous** category. Locate Compatibility and
    click on **Details and downloads**, and then download the latest version.
  prefs: []
  type: TYPE_NORMAL
- en: '![Downloading and unpacking the plugin](img/8648_04_4.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Download tarball to your SquirrelMail plugin directory.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'Once you have downloaded the plugin to the `plugins` directory, unpack it using
    the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If a plugin of the same name has already been installed, its files may be overwritten.
    Verify that you either do not have a plugin of the same name, or save the files
    before you unpack the tarball.
  prefs: []
  type: TYPE_NORMAL
- en: Performing custom installation
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The current version of the Compatibility plugin does not require any additional
    configuration. However, you should always check the documentation for a plugin,
    as certain other plugins may require custom installation. Once you have unpacked
    the plugin package, the installation instructions will be listed in the `INSTALL`
    file within the newly created `plugin` directory. It is advisable to check the
    installation instructions before enabling the plugin in the configuration manager,
    as some plugins may require custom configuration.
  prefs: []
  type: TYPE_NORMAL
- en: Enabling the plugin in conf.pl
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Within the main menu of the configuration editor, option number 8 is used to
    configure and enable plugins. Start `conf.pl` and select option **8**.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: 'You should get the following display when you select this option for the first
    time:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Enabling the plugin in conf.pl](img/8648_04_5.jpg)'
  prefs: []
  type: TYPE_IMG
- en: All the plugins that have been installed and enabled are listed under the **Installed
    Plugins** list. All the plugins that have been installed but not enabled are listed
    under the **Available Plugins** list.
  prefs: []
  type: TYPE_NORMAL
- en: Once you have unpacked a plugin within the `plugins/` directory, it will show
    up under **Available Plugins**. As you can see in the previous figure, there are
    a number of installed plugins, but none of them are enabled. As a malfunctioning
    or wrongly configured plugin can cause SquirrelMail to stop functioning properly,
    it is advisable to enable plugins one by one, and verify that SquirrelMail works
    after each one. To enable the Compatibility plugin, locate it in the list **Available
    Plugins** (in this case, number **4)** and press the *Enter* key. The Compatibility
    plugin is now installed. Plugins can be disabled by locating them in the **Installed
    Plugins** list and entering their number and pressing *Enter*.
  prefs: []
  type: TYPE_NORMAL
- en: Useful plugins
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We'll now see some useful SquirrelMail plugins that you may consider installing.
  prefs: []
  type: TYPE_NORMAL
- en: 'The information has been compiled to provide a helpful reference while deciding
    whether to install a plugin. Each plugin contains four specific categories:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Category:** The category in which the plugin is listed on the SquirrelMail
    site'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Authors:** Authors who wrote the plugin, in chronological order'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description:** A short description of the plugin''s functionality'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Requirement:** A list of prerequisites for the plugin''s successful installation'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '| Plugin name | Category | Author(s) | Description | Requirement |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| Compatibility plugin | Miscellaneous | Paul Lesneiwski | This plugin allows
    any other plugin access to the functions and special variables needed to make
    it backward (and forward) compatible with most versions of SM in wide use. This
    eliminates the need for duplication of certain functions throughout many plugins.
    It also provides functionality that helps in checking whether the plugins have
    been installed and set up correctly. | Nothing |'
  prefs: []
  type: TYPE_TB
- en: '| Secure login | Logging in | Graham Norbury, Paul Lesneiwski | This plugin
    automatically enables a secure HTTPS/SSL-encrypted connection for the SquirrelMail
    login page if it hasn''t already been requested by the referring hyperlink or
    bookmark. Optionally, the secure connection can be turned off again after successful
    login. | SquirrelMail version 1.2.8 or above, HTTPS/SSL-capable web server with
    encryption already working on your SquirrelMail installation. |'
  prefs: []
  type: TYPE_TB
- en: '| HTTP authentication | Logging in | Tyler Akins, Paul Lesniewski | If you
    keep SquirrelMail behind a password-protected directory on your web server and
    if PHP has access to the username and password used by the web server, this plugin
    will bypass the login screen and use that username/password pair. | SquirrelMail
    >= 1.4.0 |'
  prefs: []
  type: TYPE_TB
- en: '| Password forget | Logging in | Tyler Akins, Paul Lesneiwski | This plugin
    provides a workaround for the potential vulnerability of browsers, automatically
    storing usernames and passwords entered into web pages. | SquirrelMail >= 1.0.1
    |'
  prefs: []
  type: TYPE_TB
- en: '| HTML mail | Compose | Paul Lesneiwski | This plugin allows users with IE
    5.5 (and up) and newer Mozilla (Gecko-based browsers such as Firefox) browsers
    to compose and send their e-mail in HTML format. | SquirrelMail >= 1.4.0 |'
  prefs: []
  type: TYPE_TB
- en: '| Quick save | Compose | Ray Black III, Paul Lesneiwski | This plugin automatically
    saves messages as they are being composed, in order to prevent accidental loss
    of message content due to having browsed away from the compose screen or more
    serious problems such as browser or computer crashes. | SquirrelMail >= 1.2.9,
    the Compatibility plugin, JavaScript-capable browser |'
  prefs: []
  type: TYPE_TB
- en: '| Check quota usage (v) | Visual additions | Kerem Erkan | This plugin will
    check and display users'' mail quota status. | SquirrelMail 1.4.0+; Compatibility
    plugin, version 2.0.7+, UNIX, IMAP or cPanel quotas installed and configured |'
  prefs: []
  type: TYPE_TB
- en: '| Sent confirmation | Miscellaneous | Paul Lesneiwski | Displays a confirmation
    message after a message is successfully sent, as well as other features. | SquirrelMail
    >= 1.2.0, the Compatibility plugin |'
  prefs: []
  type: TYPE_TB
- en: '| Timeout user | Miscellaneous | Ray Black III, Paul Lesneiwski | Automatically
    logs out a user if they are idle for a specified amount of time. | The Compatibility
    plugin |'
  prefs: []
  type: TYPE_TB
- en: '| E-mail footer | Miscellaneous | Ray Black III, Paul Lesneiwski | This plugin
    automatically appends a custom footer onto the end of messages sent using SquirrelMail.
    | SquirrelMail >= 1.4.2 |'
  prefs: []
  type: TYPE_TB
- en: '| Change password | Change password | Tyler Akins, Seth E. Randall | Allows
    a user to change their password using PAM or Courier authentication modules. |
    SquirrelMail >= 1.4.0 |'
  prefs: []
  type: TYPE_TB
- en: '| Address book import-export | Address book | Lewis Bergman, Dustin Anders,
    Christian Sauer, Tomas Kuliavas | Allows the importing of address books from a
    **CSV (comma separated values)** file. | SquirrelMail >= 1.4.4 |'
  prefs: []
  type: TYPE_TB
- en: '| Plugin updates (v0.7) | Administrator''s Relief | Jimmy Conner | Checks for
    updates to your currently running plugins. | SquirrelMail >= 1.4.2 |'
  prefs: []
  type: TYPE_TB
- en: Many other plugins exist that handle vacation messages, calendars, shared calendars,
    notes, to-do lists, exchange server integration, bookmarks, weather information,
    and much more. Check the **Plugins** section in the SquirrelMail website for all
    of the available plugins.
  prefs: []
  type: TYPE_NORMAL
- en: Securing SquirrelMail
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The SquirrelMail package, in and of itself, is fairly secure. It is well written
    and does not require JavaScript to function. However, there are a few precautions
    that may be taken to allow SquirrelMail to run as a secured mail handling solution.
  prefs: []
  type: TYPE_NORMAL
- en: '**Have an SSL connection:** By using an SSL connection, you may be certain
    that all communications will be encrypted, and so usernames, passwords, and confidential
    data cannot be intercepted during transmission. This may be accomplished through
    the installation of the **Secure Login plugin**. Obviously a web server configured
    for secure SSL access will also be required; certificates will most likely need
    to be generated or acquired.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Time out inactive users:** Users may leave themselves logged in and neglect
    to log out once they are finished. To fight this, inactive users should be logged
    out after a certain amount of time. The **Timeout User plug-in** accomplishes
    this.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Fight "Remembered Passwords":** Many modern-day browsers offer to remember
    a user''s password. Although a convenience, this may be a large security vulnerability,
    especially if the user is located at a public terminal. To fight this, install
    the **Password Forget plugin**. This plugin will change the names in the username
    and password input fields, to make it more difficult for a browser to suggest
    them to future users.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Do not install security-compromising plugins:** Plugins such as **Quick Save,
    HTML Mail**, and **View As HTML** may compromise security.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you've finished this chapter, you should have a working SquirrelMail
    installation as well as a greater understanding of the benefits and disadvantages
    of a webmail solution. You should be familiar with the benefits and drawbacks
    of a webmail solution. The benefits include remote access, a single central point
    to be maintained, and simpler testing; while disadvantages include potential performance
    problems and the security risk of allowing remote access from potentially compromised
    computers.
  prefs: []
  type: TYPE_NORMAL
- en: You are now aware of the main features of SquirrelMail, including its flexibility
    and the availability of plugins, along with what the prerequisites for installing
    SquirrelMail are, and how to identify if they are already installed.
  prefs: []
  type: TYPE_NORMAL
- en: You also have learned how to configure SquirrelMail, including locating, installing,
    and configuring plugins. You have been walked through the installation of a key
    plugin; the Compatibility plugin. Several other useful plugins have also been
    introduced. Finally, you have learned about some ways to improve the security
    of SquirrelMail, including web server configuration and some appropriate plugins.
  prefs: []
  type: TYPE_NORMAL
