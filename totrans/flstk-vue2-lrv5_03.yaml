- en: Setting Up a Laravel Development Environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the first two chapters of the book, we introduced Vue.js. You should now
    be pretty comfortable with its basic features. In this chapter, we'll get a Laravel
    development environment up and running as we prepare to build the Vuebnb backend.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: 'Topics covered in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: A brief introduction to Laravel
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up the Homestead virtual development environment
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configuring Homestead to host Vuebnb
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Laravel
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Laravel is an open source MVC framework for PHP that is used to build robust
    web applications. Laravel is currently at version 5.5 and is among the most popular
    PHP frameworks, beloved for its elegant syntax and powerful features.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: 'Laravel is suitable for creating a variety of web-based projects, such as the
    following:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Websites with user authentication, such as a customer portal or a social network
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web applications, such as an image cropper or a monitoring dashboard
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web services, such as RESTful APIs
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this book, I'm assuming a basic knowledge of Laravel. You should be comfortable
    with installing and setting up Laravel and be familiar with its core features,
    such as routing, views, and middleware.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: If you're new to Laravel or think you might need to brush up a bit, you should
    take an hour or two to read through Laravel's excellent documentation before continuing
    with this book: [https://laravel.com/docs/5.5/](https://laravel.com/docs/5.5/).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Laravel and Vue
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Laravel may seem like a monolithic framework because it includes features for
    building almost any kind of web application. Under the hood, though, Laravel is
    a collection of many separate modules, some developed as part of the Laravel project
    and some from third-party authors. Part of what makes Laravel great is its careful
    curation and seamless connection of these constituent modules.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: 'Since Laravel version 5.3, Vue.js has been the default frontend framework included
    in a Laravel installation. There''s no official reason why Vue was chosen over
    other worthy options, such as React, but my guess is that it''s because Vue and
    Laravel share the same philosophy: simplicity and an emphasis on the developer
    experience.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Whatever the reason, Vue and Laravel offer an immensely powerful and flexible
    full-stack framework for developing web applications.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: Environment
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We''ll be using Laravel 5.5 for the backend of Vuebnb. This version of Laravel
    requires PHP 7, several PHP extensions, and the following software:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Composer
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A web server, such as Apache or Nginx
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A database, such as MySQL or MariaDB
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'A complete list of requirements for Laravel can be found in the installation
    guide: [https://laravel.com/docs/5.5#installation](https://laravel.com/docs/5.5#installation).'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Rather than manually installing the Laravel requirements on your computer, I
    strongly recommend you use the *Homestead* development environment, which has
    everything you need pre-installed.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: Homestead
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Laravel Homestead is a virtual web application environment which runs on Vagrant
    and VirtualBox and can be run on any Windows, Mac, or Linux system.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: Using Homestead will save you the headache of setting up an development environment
    from scratch. It will also ensure you have an identical environment to the one
    I'm using, which will make it easier for you to follow along with this book.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: If you don't have Homestead installed on your computer, follow the directions
    in the Laravel documentation: [https://laravel.com/docs/5.5/homestead](https://laravel.com/docs/5.5/homestead).
    Use the default configuration options.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: Once you've installed Homestead and launched the Vagrant box with the `vagrant
    up` command, you're ready to continue.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Vuebnb
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In [Chapter 2](b381aa06-e15c-4cb9-9b8b-4b9421ed73db.xhtml), *Prototyping Vuebnb,
    Your First Vue.js Project*, we made a prototype of the frontend of Vuebnb. The
    prototype was created from a single HTML file that we loaded directly from the
    browser.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Now we'll start working on the full-stack Vuebnb project, of which the prototype
    will soon be a critical part. This main project will be a full Laravel installation
    with a web server and database.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: Project code
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you haven't already, you'll need to download the code base to your computer
    by cloning it from GitHub. Instructions are given in the *Code base* section in
    [Chapter 1](29c092e4-bc60-42f4-892f-fb74440d3765.xhtml), *Hello Vue - An Introduction
    to Vue.js*.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: 'The `vuebnb` folder within the code base has the project code that we now want
    to work with. Change into this folder and list the content:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The folder contents should look like this:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/ae64ccdf-f60f-4333-b560-70d02ca66d37.png)Figure 3.1\. vuebnb project
    files'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: Shared folders
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The `folders` property of the `Homestead.yaml` file lists all of the folders
    you want to share between your computer and the Homestead environment.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Ensure the code base is shared with Homestead so that we can serve Vuebnb from
    Homestead's web server later in the chapter.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '`~/Homestead/Homestead.yaml`*:*'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Terminal commands
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: All further Terminal commands in the book will be given relative to the project
    directory, that is, *vuebnb*, unless otherwise specified.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: However, as the project directory is shared between your host computer and Homestead,
    Terminal commands can be run from either of these environments.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: 'Homestead saves you from having to install any software on your host computer.
    But if you don''t, many Terminal commands may not work, or may not work correctly,
    in the host environment. For example, if you don''t have PHP installed on your
    host computer, you can''t run Artisan commands from it:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'If this is the case for you, you''ll need to run these commands from within
    Homestead environment by connecting first via SSH:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Change, then, to the project directory within the OS and the same Terminal
    command will now work:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The only downside to running commands from Homestead is that they're slower
    due to the SSH connection. I'll leave it up to you to decide which you'd rather
    use.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: Environment variables
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'A Laravel project requires certain environment variables to be set in a `.env` file.
    Create one now by copying the environment file sample:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Generate an app key by running this command:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: I've preset most other relevant environment variables so you shouldn't have
    to change anything unless you've configured Homestead differently to me.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: Composer install
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To complete the installation process, we must run `composer install` to download
    all the required packages:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Database
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We'll be using a relational database to persist data in our backend application.
    Homestead has MySQL running out of the box; you just have to provide configuration
    in the `.env` file to use it with Laravel. The default configuration will work
    without any further changes.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '`.env`:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Whatever name you choose for your database (that is, the value of `DB_DATABASE`),
    make sure it's added to the `databases` array in your `Homestead.yaml` file.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '`~/Homestead/Homestead.yaml`:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Serving the project
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The main Vuebnb project is now installed. Let's get the web server to serve
    it at the local development domain `vuebnb.test`.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: In the Homestead configuration file, map `vuebnb.test` to the project's `public` folder.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: '`~/Homestead/Homestead.yaml`:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Local DNS entry
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We also need to update our computer's host file so it understands the mapping
    between `vuebnb.test`, and the IP of the web server. The web server is in the
    Homestead box, which has the IP `192.168.10.10` by default.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: 'To configure this on a Mac, open your host file, `/etc/hosts`, in a text editor
    and add this entry:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The hosts file can normally be found at `C:\Windows\System32\Drivers\etc\hosts` on
    a Windows system.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Accessing the project
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'With all the configuration complete, we can now run `vagrant provision` from
    within the `Homestead` directory to complete the setup:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'When the provisioning process completes, we should be able to see our site
    running when we navigate our browser to `http://vuebnb.test`:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/a6d139d3-da0b-4ba3-8c5d-18e0b9e26642.png)Figure 3.2\. Laravel welcome
    view'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/a6d139d3-da0b-4ba3-8c5d-18e0b9e26642.png)图3.2. Laravel欢迎视图'
- en: Now we're ready to start developing Vuebnb!
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们准备开始开发Vuebnb！
- en: Summary
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this brief chapter, we discussed the requirements for developing a Laravel
    project. We then installed and configured the Homestead virtual development environment
    to host our main project, Vuebnb.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个简短的章节中，我们讨论了开发Laravel项目的要求。然后安装并配置了Homestead虚拟开发环境来托管我们的主要项目Vuebnb。
- en: In the next chapter, we will begin work on our main project by building a web
    service to supply data to the frontend of Vuebnb.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过构建一个Web服务来为Vuebnb的前端提供数据，开始我们的主要项目工作。
