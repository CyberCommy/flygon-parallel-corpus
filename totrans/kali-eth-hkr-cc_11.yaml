- en: Kali in Your Pocket – NetHunters and Raspberries
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following recipes:'
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali on Raspberry Pi
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing NetHunter
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Superman typing — HID attacks
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Can I charge my phone?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up an evil access point
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In some cases, while doing pentest, a client may ask us to do a proper red team
    attack. In such cases, walking into an office with a laptop in hand may look suspicious,
    which is why this chapter comes in handy. We can perform a red teaming using a
    small device such as a cell phone or Raspberry Pi and carry out pentest effectively
    using them. In this chapter, we will talk about setting up Kali Linux on Raspberry
    Pi and compatible cell phones and using it to perform some cool attacks on the
    network.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Kali on Raspberry Pi
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Raspberry Pi is an affordable ARM computer. It is extremely small in size which
    makes it portable, and because of which it's best suited for Kali Linux-like systems
    to perform pentesting with portable devices.
  prefs: []
  type: TYPE_NORMAL
- en: In this recipe, you will learn about installing a Kali Linux image on a Raspberry
    Pi.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Raspberry Pi supports SD cards. The best way to set up Kali on Raspberry Pi
    is to create a bootable SD card and insert it into Pi.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To install Kali on Raspberry Pi follow the given steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'We will first download the image from Offensive Security''s website at [https://www.offensive-security.com/kali-linux-arm-images/](https://www.offensive-security.com/kali-linux-arm-images/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/cfdac0f3-db3e-47b7-a35a-b2276416746c.png)'
  prefs: []
  type: TYPE_IMG
- en: Once the image is downloaded, we can use different ways to write this image
    into our memory card.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On Linux/macOS, it can be done using the `dd` utility. The `dd` utility can
    be used using the following command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Once this process completes, we can plug the SD card into the Pi and power it
    on.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will see our Kali boot up:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/2dfd262a-fd28-409f-bb78-133065942415.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We can refer to this link for a more detailed guide: [https://docs.kali.org/downloading/kali-linux-live-usb-install](https://docs.kali.org/downloading/kali-linux-live-usb-install).'
  prefs: []
  type: TYPE_NORMAL
- en: Installing NetHunter
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As described by Offensive Security''s official wiki:'
  prefs: []
  type: TYPE_NORMAL
- en: '"The Kali NetHunter is an Android ROM overlay that includes a robust **Mobile
    Penetration Testing Platform**. The overlay includes a custom kernel, a Kali Linux
    chroot, and an accompanying Android application, which allows for easier interaction
    with various security tools and attacks. Beyond the penetration testing tools
    arsenal within Kali Linux, NetHunter also supports several additional classes,
    such as **HID Keyboard Attacks**, **BadUSB attacks**, **Evil AP MANA attacks**,
    and much more. For more information about the moving parts that make up NetHunter,
    check out our NetHunter Components page. NetHunter is an open source project developed
    by Offensive Security and the community."'
  prefs: []
  type: TYPE_NORMAL
- en: In this recipe, you will learn how to install and configure NetHunter on an
    Android device and perform attacks using it. We can find a list of supported hardware
    at [https://github.com/offensive-security/kali-NetHunter/wiki](https://github.com/offensive-security/kali-nethunter/wiki).
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we start, we need the device to be rooted with Team Win Recovery Project
    installed as a custom recovery.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To install NetHunter follow the given steps:'
  prefs: []
  type: TYPE_NORMAL
- en: We download the NetHunter ZIP file and copy it to the SD card, and then we reboot
    the phone into the recovery mode. We are using OnePlus One with Cyanogenmod 12.1.
    Recovery mode can be booted by pressing the power and volume down button simultaneously.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once it is in the recovery mode, we choose to install on the screen and select
    the ZIP file. We can download the ZIP from [https://www.offensive-security.com/kali-linux-NetHunter-download](https://www.offensive-security.com/kali-linux-nethunter-download):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b5d6967b-66de-4c68-b315-968da0c484b9.png)'
  prefs: []
  type: TYPE_IMG
- en: When it's done, we reboot the phone and we should see NetHunter in our application
    menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'But before we start, we need to install BusyBox on the phone from Play Store:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7737d945-b9df-43cd-818a-1d8550792597.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once this is done, we run the app and click on Install:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/4937c08d-42c4-4bae-8b44-00bccab15efb.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Next, we open NetHunter, and from the menu, we choose Kali Chroot Manager:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/26de7fde-d27a-4dc7-9486-a9cbd4893e5e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We click on ADD METAPACKAGES and we will be all set for the next recipe:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/267e5afc-ae24-477b-b3f1-fa7bde81109e.png)'
  prefs: []
  type: TYPE_IMG
- en: Superman typing – HID attacks
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: NetHunter has a feature that allows us to turn our device and OTG cable to behave
    as a keyboard and hence type any given commands on any connected PC. This allows
    us to perform HID attacks.
  prefs: []
  type: TYPE_NORMAL
- en: '"HID (human interface device) attack vector is a remarkable combination of
    customized hardware and restriction bypass via keyboard emulation. So, when we
    insert the device, it will be detected as a keyboard, and using the microprocessor
    and onboard flash memory storage, you can send a very fast set of keystrokes to
    the target''s machine and completely compromise it."'
  prefs: []
  type: TYPE_NORMAL
- en: – https://www.safaribooksonline.com/library/view/metasploit/9781593272883/
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To perform HID attacks follow the given steps:'
  prefs: []
  type: TYPE_NORMAL
- en: We can perform them by opening the NetHunter app.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the menu, we choose HID attacks:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a458fd73-32e6-4201-b3f7-74f0a464d2ab.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We will see two tabs: PowerSploit and Windows CMD:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/83a24814-f368-47f4-b147-e753dd4abae7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let''s try the Windows CMD; in the Edit source box, we can type the command
    we want to be executed. We can even choose UAC Bypass from the options to make
    the command run as admin on different versions of Windows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/92c6b823-d331-4bab-aa8d-ec2f87cdd54e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We choose Windows 10 from the UAC Bypass menu and then we type a simple command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/b84b1f49-97fb-476e-8f20-f1088ace13f7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Then, we connect our phone to a Windows 10 device and select Execute Attack
    from the menu:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/875d98b8-8196-4f7a-adbe-e8806fbd39a4.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We will see the command being executed:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1bfe0cbd-8d94-4460-943e-20e0966813d5.png)'
  prefs: []
  type: TYPE_IMG
- en: For more information, visit [https://github.com/offensive-security/kali-NetHunter/wiki/NetHunter-HID-Attacks](https://github.com/offensive-security/kali-nethunter/wiki/NetHunter-HID-Attacks).
  prefs: []
  type: TYPE_NORMAL
- en: Can I charge my phone?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this recipe, we will look at a different type of HID attack, known as DuckHunter
    HID. This allows us to convert infamous USB Rubber Ducky scripts into NetHunter
    HID attacks.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To perform DuckHunter HID attacks follow the given steps:'
  prefs: []
  type: TYPE_NORMAL
- en: We can perform them by opening the NetHunter app.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the menu, we choose DuckHunter HID attacks.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The Convert tab is where we can type or load our scripts for execution:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d15cac69-980b-450b-9400-8e5209b004eb.png)'
  prefs: []
  type: TYPE_IMG
- en: Let's start by using a simple `Hello world!` script.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We open a text editor on any device and then we connect our device and click
    on the play button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will see that this is automatically typed in the editor:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/11ac900d-44c1-4e80-9c35-5b9b58ac556a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'There are multiple scripts available on the internet that can be used to perform
    multiple attacks using NetHunter:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b81408b9-dae7-4cdf-914f-c4563ebbddc4.png)'
  prefs: []
  type: TYPE_IMG
- en: These can be downloaded and loaded into NetHunter and then later used to exploit
    a victim's PC; the list can be found at [https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads](https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: More information can be found at [https://github.com/hak5darren/USB-Rubber-Ducky/wiki](https://github.com/hak5darren/USB-Rubber-Ducky/wiki).
  prefs: []
  type: TYPE_NORMAL
- en: Setting up an evil access point
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The MANA toolkit is an evil access point implementation kit created by SensePost,
    which can be used to perform Wi-Fi, AP, and MITM attacks. Once a victim connects
    to our access point, we will be able to perform multiple actions, which you will
    learn about in this recipe.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To set up an evil access point follow the given steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'It''s easy to use. In the NetHunter menu, we choose Mana Wireless Toolkit:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/fdbda1f9-6f53-4510-94d1-ad10caba6118.png)'
  prefs: []
  type: TYPE_IMG
- en: 'It opens up in the General Settings tab. Here, we can choose the interface
    and other options, such as capturing cookies. This can be used to perform a wireless
    attack by performing an evil twin attack using an external wireless card supported
    by NetHunter:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/6ed7c12e-6e1c-4b6e-801a-caee4cff87a3.png)'
  prefs: []
  type: TYPE_IMG
- en: You learned about responder in the previous chapters. We can use responder via
    this toolkit to capture network hashes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: First, we connect to the network we want to perform the attack on.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, we switch to the Responder Settings tab and check on the attacks we wish
    to perform. We choose wlan0 as our interface:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d27a833a-883d-4c18-9d16-82a0fbd1c704.png)'
  prefs: []
  type: TYPE_IMG
- en: 'To change the interface we want to listen to, we switch to the General Settings
    tab and choose from the list of interfaces from the drop-down list:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/128f70c5-96dc-4844-8cea-1be090cf2ef0.png)'
  prefs: []
  type: TYPE_IMG
- en: Now we click on the Start mitm attack from the options menu on the right-hand
    side.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will see a Terminal window open and our attack will be performed. We will
    see the host info as well as password hashes captured by the attack:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e2354787-8e39-46b9-b99b-09889079f494.png)'
  prefs: []
  type: TYPE_IMG
- en: Similarly, there are other attacks, such as Nmap scans, generating Metasploit
    payloads, and so on.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For more information, visit [https://github.com/offensive-security/kali-NetHunter/wiki](https://github.com/offensive-security/kali-NetHunter/wiki).
  prefs: []
  type: TYPE_NORMAL
