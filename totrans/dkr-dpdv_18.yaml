- en: '16: Tools for the enterprise'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this chapter, we’ll look at some of the enterprise-grade tools provided by
    Docker, Inc. We’ll see how to install them, configure them, back them up, and
    restore.
  prefs: []
  type: TYPE_NORMAL
- en: This will be quite a long chapter with a lot of step-by-step technical detail.
    I’ll try and keep it interesting, but it’ll be hard :-D
  prefs: []
  type: TYPE_NORMAL
- en: Other tools exist, but we’ll be concentrating on the ones from Docker, Inc.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s dive straight in.
  prefs: []
  type: TYPE_NORMAL
- en: Tools for the enterprise - The TLDR
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Docker and containers have taken the application development world by storm
    — building, shipping, and running applications has never been easier. So it’s
    no surprise that enterprises want in on the action. But enterprises have a much
    stricter set of requirements than the typical bleeding-edge developer.
  prefs: []
  type: TYPE_NORMAL
- en: Enterprises need Docker packaged in a way they can consume. This usually means
    an on-premises solution that they own and manage themselves. It also means roles
    and security features that allow it to fit their internal structure and be *blessed*
    by the security department. And it means having everything backed by a meaningful
    support contract.
  prefs: []
  type: TYPE_NORMAL
- en: This is where Docker Enterprise Edition (EE) comes into play!
  prefs: []
  type: TYPE_NORMAL
- en: Docker EE is *Docker for the enterprise*. It’s a suit of products that includes
    a hardened engine, an Operations UI, and a secure private registry. You can deploy
    it on-premises and it’s wrapped in a support contract.
  prefs: []
  type: TYPE_NORMAL
- en: The high-level stack is shown in Figure 16.1.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 16.1 Docker EE](images/figure16-1.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 16.1 Docker EE
  prefs: []
  type: TYPE_NORMAL
- en: Tools for the enterprise - The Deep Dive
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'We’ll divide the rest of the chapter as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Docker EE Engine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Docker Universal Control Plane (UCP)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Docker Trusted Registry (DTR)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We’ll see how to install each, and where applicable, configure HA, and perform
    backup and restore jobs.
  prefs: []
  type: TYPE_NORMAL
- en: Docker EE engine
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The *Docker engine* provides all of the core Docker features. Things like image
    and container management, networks, volumes, clustering, secrets, and more. At
    the time of writing, there are two versions:'
  prefs: []
  type: TYPE_NORMAL
- en: Community Edition (CE)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Enterprise Edition (EE)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The two biggest differences, as far as we’re concerned, are the release cycles
    and support.
  prefs: []
  type: TYPE_NORMAL
- en: Docker EE is on a quarterly release cycle, and uses a time-based versioning
    scheme. For example, the June 2018 release of Docker EE will be `18.06.x-ee`.
    Docker, Inc. guarantees 1 year of support and patches for each version.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Docker EE
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Installing Docker EE is simple. However, there are slight differences between
    platforms. We’ll show you how to do it on Ubuntu 16.04, but doing it on other
    platforms is just as easy.
  prefs: []
  type: TYPE_NORMAL
- en: Docker EE is a subscription-based service, so you’ll need a Docker ID and an
    active subscription. This gives you access to a unique personalized Docker EE
    repository that we’ll configure and use in the next steps. [Trial licenses](https://store.docker.com/editions/enterprise/docker-ee-trial)
    are usually available.
  prefs: []
  type: TYPE_NORMAL
- en: '**Note:** Docker on Windows Server always installs Docker EE. See Chapter 3
    for information on how to install Docker EE on Windows Server 2016.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: You may need to prefix the following commands with `sudo`.
  prefs: []
  type: TYPE_NORMAL
- en: Make sure you’ve got the latest package lists.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Install the packages needed to access the Docker EE repo over HTTPS.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Log in to the [Docker Store](https://store.docker.com/) and copy your
    unique Docker EE repository URL.'
  prefs: []
  type: TYPE_NORMAL
- en: Point your web browser to store.docker.com. Click your username at the top right
    and select `My Content`. Select `Setup` under one of your active Docker EE subscriptions.
  prefs: []
  type: TYPE_NORMAL
- en: '![](images/figure16-2.png)'
  prefs: []
  type: TYPE_IMG
- en: Copy your repository URL from under the `Resources` pane.
  prefs: []
  type: TYPE_NORMAL
- en: Download your license as well.
  prefs: []
  type: TYPE_NORMAL
- en: '![](images/figure16-3.png)'
  prefs: []
  type: TYPE_IMG
- en: We’re demonstrating how to setup the repo for Ubuntu. However, this Docker Store
    page contains instructions on how to do the setup for other flavors of Linux.
  prefs: []
  type: TYPE_NORMAL
- en: Add you unique Docker EE repository URL to an environment variable.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Add the official Docker GPG key to all your keyrings.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Setup the latest stable repository. You may have to substitute the value
    on the last line with the latest stable release.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Run another `apt-get update` to pull the latest package lists from your
    newly added Docker EE repo.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Uninstall previous versions of Docker.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Install Docker EE'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '`*   Check that the installation worked.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8][PRE9][PRE10]'
  prefs: []
  type: TYPE_NORMAL
