- en: Using MySQL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following recipes:'
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to MySQL using the command-line client
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating databases
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating tables
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Inserting, updating, and deleting rows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Loading sample data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sorting results
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Grouping results (aggregate functions)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Granting and revoking access to users
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selecting data into a file and table
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Loading data into a table
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Joining tables
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Stored procedures
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Functions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Triggers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Views
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Events
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting information about databases and tables
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We are going to learn a lot of things in the following recipes. Let's take a
    look at each one in detail.
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to MySQL using the command-line client
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So far, you have learned how to install MySQL 8.0 on various platforms. Along
    with the installation, you will get the command-line client utility called `mysql`,
    which we use to connect to any MySQL server.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: First you need to know to which server you need to connect. If you have the
    MySQL server installed on one host and you are trying to connect to the server
    from a different host (usually called client), you should specify the hostname
    or IP address of the server and the `mysql-client` package should be installed
    on the client. In the previous chapter, you installed both MySQL server and client
    packages. If you are already on the server (through SSH), you can specify `localhost`, `127.0.0.1`,
    or `::1`.
  prefs: []
  type: TYPE_NORMAL
- en: Second, since you are connected to the server, the next thing you need to specify
    is to which port you want to connect on the server. By default, MySQL runs on
    port `3306`. So, you should specify `3306`.
  prefs: []
  type: TYPE_NORMAL
- en: Now you know where to connect. The next obvious thing is the username and password
    to log in to the server. You have not created any users yet, so use the root user
    to connect. While installing, you would have supplied a password, use that to
    connect. In case you changed it, use the new password.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Connecting to the MySQL client can be done with any of the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'It is highly recommended not to give the password in the command line, instead
    you can leave the field blank; you will be prompted for a password:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The `-P` argument (in uppercase) is passed for specifying the port.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The `-p` argument (in lowercase) is passed for specifying the password.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There is no space after the `-p` argument.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For the password, there is no space after `=`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: By default, the host is taken as `localhost`, the port is taken as `3306`, and
    the user is taken as the current shell user.
  prefs: []
  type: TYPE_NORMAL
- en: 'To know the current user:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'To disconnect, press *Ctrl *+ *D* or type `exit`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Or use:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'After connecting to the `mysql` prompt, you can execute statements followed
    by the delimiter. The default delimiter is a semicolon (`;`):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'To cancel a command, press *Ctrl *+ *C* or type `\c`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Connecting to MySQL using the root user is not recommended. You can create users
    and restrict the user by granting appropriate privileges, which will be discussed
    in the *Creating Users* and *Granting and revoking access to users* sections.
    Till then, you can use the root user to connect to MySQL.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'After connecting, you might have noticed a warning:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: To learn about the secure ways of connecting, refer to [Chapter 14](part0498.html#EQTO40-faa69fe6f4c04957afca3568dcd9cd83),
    *Security.*
  prefs: []
  type: TYPE_NORMAL
- en: Once you are connected to the command-line prompt, you can execute the SQL statements,
    which can be terminated by `;`, `\g`, or `\G`.
  prefs: []
  type: TYPE_NORMAL
- en: '`;` or `\g`—output is displayed horizontally, `\G`—output is displayed vertically.'
  prefs: []
  type: TYPE_NORMAL
- en: Creating databases
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Well, you have installed MySQL 8.0 and connected to it. Now it is time to store
    some data in it, that's what the database is meant for, after all. In any **r****elational
    database management system** (**RDBMS**), data is stored in rows, which is the
    basic building block of the database. Rows contain columns in which we can store
    several set of values.
  prefs: []
  type: TYPE_NORMAL
- en: For example, if you want to store information about your customers in a database.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is the dataset:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: You should save them as rows: `(1, 'Mike', 'Christensen', 'USA')`, `(2, 'Andy',
    'Hollands', 'Australia')`, `(3, 'Ravi', 'Vedantam', 'India')`, `(4, 'Rajiv', 'Perera',
    'Sri Lanka')`. For this dataset, there are four rows described by three columns
    `(id, first_name, last_name and country)`, which are stored in a table. The number
    of columns that a table can hold should be defined at the time of the creation
    of the table, which is the major limitation of RDBMS. However, we can alter the
    definition of the table any time, but the full table should be rebuilt while doing
    so. In some cases, the table will be unavailable while doing an alter. Altering
    a table will be discussed in detail in [Chapter 9](part0312.html#99HFG0-faa69fe6f4c04957afca3568dcd9cd83),
    *Table Maintenance*.
  prefs: []
  type: TYPE_NORMAL
- en: 'A database is a collection of many tables, and a database server can hold many
    of these databases. The flow is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Database Server —> Databases —> Tables (defined by columns) —> Rows
  prefs: []
  type: TYPE_NORMAL
- en: Databases and tables are referred to as database objects. Any operation, such
    as creating, modifying, or deleting database objects, is called **Data Definition
    Language** (**DDL**).
  prefs: []
  type: TYPE_NORMAL
- en: The organization of data as a blueprint of how the database is constructed (divided
    into database and tables) is called a **schema**.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Connect to the MySQL server:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: The back tick character ([PRE12]
  prefs: []
  type: TYPE_NORMAL
- en: mysql> USE company
  prefs: []
  type: TYPE_NORMAL
- en: mysql> USE `my.contacts`
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: shell> mysql -u root -p company
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT DATABASE();
  prefs: []
  type: TYPE_NORMAL
- en: +------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| DATABASE() |'
  prefs: []
  type: TYPE_TB
- en: +------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| company    |'
  prefs: []
  type: TYPE_TB
- en: +------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW DATABASES;
  prefs: []
  type: TYPE_NORMAL
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Database           |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| company            |'
  prefs: []
  type: TYPE_TB
- en: '| my.contacts        |'
  prefs: []
  type: TYPE_TB
- en: '| information_schema |'
  prefs: []
  type: TYPE_TB
- en: '| mysql              |'
  prefs: []
  type: TYPE_TB
- en: '| performance_schema |'
  prefs: []
  type: TYPE_TB
- en: '| sys                |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 6 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW VARIABLES LIKE 'datadir';
  prefs: []
  type: TYPE_NORMAL
- en: +---------------+------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Variable_name | Value                  |'
  prefs: []
  type: TYPE_TB
- en: +---------------+------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| datadir       | /usr/local/mysql/data/ |'
  prefs: []
  type: TYPE_TB
- en: +---------------+------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo ls -lhtr /usr/local/mysql/data/
  prefs: []
  type: TYPE_NORMAL
- en: total 185M
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql   56 Jun  2 16:57 auto.cnf
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  257 Jun  2 16:57 performance_sche_3.SDI
  prefs: []
  type: TYPE_NORMAL
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 performance_schema
  prefs: []
  type: TYPE_NORMAL
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 mysql
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  242 Jun  2 16:57 sys_4.SDI
  prefs: []
  type: TYPE_NORMAL
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  2 16:57 sys
  prefs: []
  type: TYPE_NORMAL
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 ca-key.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 ca.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 server-key.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 server-cert.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 client-key.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r--r-- 1 mysql root  1.1K Jun  2 16:58 client-cert.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw------- 1 mysql root  1.7K Jun  2 16:58 private_key.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r--r-- 1 mysql root   451 Jun  2 16:58 public_key.pem
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql 1.4K Jun  2 17:46 ib_buffer_pool
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql    5 Jun  2 17:46 server1.pid
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  247 Jun  3 13:55 company_5.SDI
  prefs: []
  type: TYPE_NORMAL
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  4 08:13 company
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  12K Jun  4 18:58 server1.err
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  249 Jun  5 16:17 employees_8.SDI
  prefs: []
  type: TYPE_NORMAL
- en: drwxr-x--- 2 mysql mysql 4.0K Jun  5 16:17 employees
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  76M Jun  5 16:18 ibdata1
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile1
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  48M Jun  5 16:18 ib_logfile0
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql  12M Jun 10 10:29 ibtmp1
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE IF NOT EXISTS `company`.`customers` (
  prefs: []
  type: TYPE_NORMAL
- en: '`id` int unsigned AUTO_INCREMENT PRIMARY KEY,'
  prefs: []
  type: TYPE_NORMAL
- en: '`first_name` varchar(20),'
  prefs: []
  type: TYPE_NORMAL
- en: '`last_name` varchar(20),'
  prefs: []
  type: TYPE_NORMAL
- en: '`country` varchar(20)'
  prefs: []
  type: TYPE_NORMAL
- en: ) ENGINE=InnoDB;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW ENGINES\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: MRG_MYISAM'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Collection of identical MyISAM tables'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 2\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: FEDERATED'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Federated MySQL storage engine'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 3\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: InnoDB'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: DEFAULT'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Supports transactions, row-level locking, and foreign keys'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: YES'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 4\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: BLACKHOLE'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: /dev/null storage engine (anything you write to it disappears)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 5\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: CSV'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: CSV storage engine'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 6\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: MEMORY'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Hash based, stored in memory, useful for temporary tables'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 7\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: PERFORMANCE_SCHEMA'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Performance Schema'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 8\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: ARCHIVE'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: Archive storage engine'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 9\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Engine: MyISAM'
  prefs: []
  type: TYPE_NORMAL
- en: 'Support: YES'
  prefs: []
  type: TYPE_NORMAL
- en: 'Comment: MyISAM storage engine'
  prefs: []
  type: TYPE_NORMAL
- en: 'Transactions: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'XA: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Savepoints: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 9 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE `company`.`payments`(
  prefs: []
  type: TYPE_NORMAL
- en: '`customer_name` varchar(20) PRIMARY KEY,'
  prefs: []
  type: TYPE_NORMAL
- en: '`payment` float'
  prefs: []
  type: TYPE_NORMAL
- en: );
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW TABLES;
  prefs: []
  type: TYPE_NORMAL
- en: +-------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Tables_in_company |'
  prefs: []
  type: TYPE_TB
- en: +-------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| customers         |'
  prefs: []
  type: TYPE_TB
- en: '| payments          |'
  prefs: []
  type: TYPE_TB
- en: +-------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW CREATE TABLE customers\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table: customers'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create Table: CREATE TABLE `customers` ('
  prefs: []
  type: TYPE_NORMAL
- en: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT,'
  prefs: []
  type: TYPE_NORMAL
- en: '`first_name` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: '`last_name` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: '`country` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: PRIMARY KEY (`id`)
  prefs: []
  type: TYPE_NORMAL
- en: ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
- en: mysql> DESC customers;
  prefs: []
  type: TYPE_NORMAL
- en: +------------+------------------+------+-----+---------+----------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Field      | Type             | Null | Key | Default | Extra          |'
  prefs: []
  type: TYPE_TB
- en: +------------+------------------+------+-----+---------+----------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| id         | int(10) unsigned | NO   | PRI | NULL    | auto_increment |'
  prefs: []
  type: TYPE_TB
- en: '| first_name | varchar(20)      | YES  |     | NULL    |                |'
  prefs: []
  type: TYPE_TB
- en: '| last_name  | varchar(20)      | YES  |     | NULL    |                |'
  prefs: []
  type: TYPE_TB
- en: '| country    | varchar(20)      | YES  |     | NULL    |                |'
  prefs: []
  type: TYPE_TB
- en: +------------+------------------+------+-----+---------+----------------+
  prefs: []
  type: TYPE_NORMAL
- en: 4 rows in set (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo ls -lhtr /usr/local/mysql/data/company
  prefs: []
  type: TYPE_NORMAL
- en: total 256K
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql 128K Jun 4 07:36 customers.ibd
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql 128K Jun 4 08:24 payments.ibd
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE new_customers LIKE customers;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.05 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW CREATE TABLE new_customers\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table: new_customers'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create Table: CREATE TABLE `new_customers` ('
  prefs: []
  type: TYPE_NORMAL
- en: '`id` int(10) unsigned NOT NULL AUTO_INCREMENT,'
  prefs: []
  type: TYPE_NORMAL
- en: '`first_name` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: '`last_name` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: '`country` varchar(20) DEFAULT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: PRIMARY KEY (`id`)
  prefs: []
  type: TYPE_NORMAL
- en: ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT IGNORE INTO `company`.`customers`(first_name, last_name,country)
  prefs: []
  type: TYPE_NORMAL
- en: VALUES
  prefs: []
  type: TYPE_NORMAL
- en: ('Mike', 'Christensen', 'USA'),
  prefs: []
  type: TYPE_NORMAL
- en: ('Andy', 'Hollands', 'Australia'),
  prefs: []
  type: TYPE_NORMAL
- en: ('Ravi', 'Vedantam', 'India'),
  prefs: []
  type: TYPE_NORMAL
- en: ('Rajiv', 'Perera', 'Sri Lanka');
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT IGNORE INTO `company`.`customers`(id, first_name, last_name,country)
  prefs: []
  type: TYPE_NORMAL
- en: VALUES
  prefs: []
  type: TYPE_NORMAL
- en: (1, 'Mike', 'Christensen', 'USA'),
  prefs: []
  type: TYPE_NORMAL
- en: (2, 'Andy', 'Hollands', 'Australia'),
  prefs: []
  type: TYPE_NORMAL
- en: (3, 'Ravi', 'Vedantam', 'India'),
  prefs: []
  type: TYPE_NORMAL
- en: (4, 'Rajiv', 'Perera', 'Sri Lanka');
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 4 warnings (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 4 Duplicates: 4 Warnings: 4'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW WARNINGS;
  prefs: []
  type: TYPE_NORMAL
- en: +---------+------+---------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Level   | Code | Message                               |'
  prefs: []
  type: TYPE_TB
- en: +---------+------+---------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Warning | 1062 | Duplicate entry ''1'' for key ''PRIMARY'' |'
  prefs: []
  type: TYPE_TB
- en: '| Warning | 1062 | Duplicate entry ''2'' for key ''PRIMARY'' |'
  prefs: []
  type: TYPE_TB
- en: '| Warning | 1062 | Duplicate entry ''3'' for key ''PRIMARY'' |'
  prefs: []
  type: TYPE_TB
- en: '| Warning | 1062 | Duplicate entry ''4'' for key ''PRIMARY'' |'
  prefs: []
  type: TYPE_TB
- en: +---------+------+---------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 4 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: mysql> UPDATE customers SET first_name='Rajiv', country='UK' WHERE id=4;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Rows matched: 1  Changed: 1  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs: []
  type: TYPE_PRE
- en: mysql> DELETE FROM customers WHERE id=4 AND first_name='Rajiv';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: mysql> REPLACE INTO customers VALUES (1,'Mike','Christensen','America');
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 2 rows affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO payments VALUES('Mike Christensen', 200) ON DUPLICATE KEY
    UPDATE payment=payment+VALUES(payment);
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO payments VALUES('Ravi Vedantam',500) ON DUPLICATE KEY UPDATE
    payment=payment+VALUES(payment);
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO payments VALUES('Mike Christensen', 300) ON DUPLICATE KEY
    UPDATE payment=payment+VALUES(payment);
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 2 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: mysql> TRUNCATE TABLE customers;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs: []
  type: TYPE_PRE
- en: shell> wget 'https://codeload.github.com/datacharmer/test_db/zip/master' -O
    master.zip
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  prefs: []
  type: TYPE_PRE
- en: shell> unzip master.zip
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE39]'
  prefs: []
  type: TYPE_PRE
- en: shell> cd test_db-master
  prefs: []
  type: TYPE_NORMAL
- en: shell> mysql -u root -p < employees.sql
  prefs: []
  type: TYPE_NORMAL
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: CREATING DATABASE STRUCTURE
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: 'storage engine: InnoDB'
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING departments
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING employees
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING dept_emp
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING dept_manager
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING titles
  prefs: []
  type: TYPE_NORMAL
- en: INFO
  prefs: []
  type: TYPE_NORMAL
- en: LOADING salaries
  prefs: []
  type: TYPE_NORMAL
- en: data_load_time_diff
  prefs: []
  type: TYPE_NORMAL
- en: 'NULL'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE40]'
  prefs: []
  type: TYPE_PRE
- en: shell> mysql -u root -p  employees -A
  prefs: []
  type: TYPE_NORMAL
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  prefs: []
  type: TYPE_NORMAL
- en: Welcome to the MySQL monitor.  Commands end with ; or \g.
  prefs: []
  type: TYPE_NORMAL
- en: Your MySQL connection id is 35
  prefs: []
  type: TYPE_NORMAL
- en: 'Server version: 8.0.3-rc-log MySQL Community Server (GPL)'
  prefs: []
  type: TYPE_NORMAL
- en: Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
  prefs: []
  type: TYPE_NORMAL
- en: Oracle is a registered trademark of Oracle Corporation and/or its
  prefs: []
  type: TYPE_NORMAL
- en: affiliates. Other names may be trademarks of their respective
  prefs: []
  type: TYPE_NORMAL
- en: owners.
  prefs: []
  type: TYPE_NORMAL
- en: Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE41]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW TABLES;
  prefs: []
  type: TYPE_NORMAL
- en: +-------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Tables_in_employees     |'
  prefs: []
  type: TYPE_TB
- en: +-------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| current_dept_emp        |'
  prefs: []
  type: TYPE_TB
- en: '| departments             |'
  prefs: []
  type: TYPE_TB
- en: '| dept_emp                |'
  prefs: []
  type: TYPE_TB
- en: '| dept_emp_latest_date    |'
  prefs: []
  type: TYPE_TB
- en: '| dept_manager            |'
  prefs: []
  type: TYPE_TB
- en: '| employees               |'
  prefs: []
  type: TYPE_TB
- en: '| salaries                |'
  prefs: []
  type: TYPE_TB
- en: '| titles                  |'
  prefs: []
  type: TYPE_TB
- en: +-------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 8 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  prefs: []
  type: TYPE_PRE
- en: mysql> DESC employees\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: emp_no'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: int(11)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key: PRI'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 2\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: birth_date'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: date'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 3\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: first_name'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: varchar(14)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 4\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: last_name'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: varchar(16)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 5\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: gender'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: enum(''M'',''F'')'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 6\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Field: hire_date'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: date'
  prefs: []
  type: TYPE_NORMAL
- en: 'Null: NO'
  prefs: []
  type: TYPE_NORMAL
- en: 'Key:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Default: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Extra:'
  prefs: []
  type: TYPE_NORMAL
- en: 6 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM departments;
  prefs: []
  type: TYPE_NORMAL
- en: +---------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| dept_no | dept_name          |'
  prefs: []
  type: TYPE_TB
- en: +---------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| d009    | Customer Service   |'
  prefs: []
  type: TYPE_TB
- en: '| d005    | Development        |'
  prefs: []
  type: TYPE_TB
- en: '| d002    | Finance            |'
  prefs: []
  type: TYPE_TB
- en: '| d003    | Human Resources    |'
  prefs: []
  type: TYPE_TB
- en: '| d001    | Marketing          |'
  prefs: []
  type: TYPE_TB
- en: '| d004    | Production         |'
  prefs: []
  type: TYPE_TB
- en: '| d006    | Quality Management |'
  prefs: []
  type: TYPE_TB
- en: '| d008    | Research           |'
  prefs: []
  type: TYPE_TB
- en: '| d007    | Sales              |'
  prefs: []
  type: TYPE_TB
- en: +---------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 9 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no, dept_no FROM dept_manager;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+---------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | dept_no |'
  prefs: []
  type: TYPE_TB
- en: +--------+---------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 110022 | d001    |'
  prefs: []
  type: TYPE_TB
- en: '| 110039 | d001    |'
  prefs: []
  type: TYPE_TB
- en: '| 110085 | d002    |'
  prefs: []
  type: TYPE_TB
- en: '| 110114 | d002    |'
  prefs: []
  type: TYPE_TB
- en: '| 110183 | d003    |'
  prefs: []
  type: TYPE_TB
- en: '| 110228 | d003    |'
  prefs: []
  type: TYPE_TB
- en: '| 110303 | d004    |'
  prefs: []
  type: TYPE_TB
- en: '| 110344 | d004    |'
  prefs: []
  type: TYPE_TB
- en: '| 110386 | d004    |'
  prefs: []
  type: TYPE_TB
- en: '| 110420 | d004    |'
  prefs: []
  type: TYPE_TB
- en: '| 110511 | d005    |'
  prefs: []
  type: TYPE_TB
- en: '| 110567 | d005    |'
  prefs: []
  type: TYPE_TB
- en: '| 110725 | d006    |'
  prefs: []
  type: TYPE_TB
- en: '| 110765 | d006    |'
  prefs: []
  type: TYPE_TB
- en: '| 110800 | d006    |'
  prefs: []
  type: TYPE_TB
- en: '| 110854 | d006    |'
  prefs: []
  type: TYPE_TB
- en: '| 111035 | d007    |'
  prefs: []
  type: TYPE_TB
- en: '| 111133 | d007    |'
  prefs: []
  type: TYPE_TB
- en: '| 111400 | d008    |'
  prefs: []
  type: TYPE_TB
- en: '| 111534 | d008    |'
  prefs: []
  type: TYPE_TB
- en: '| 111692 | d009    |'
  prefs: []
  type: TYPE_TB
- en: '| 111784 | d009    |'
  prefs: []
  type: TYPE_TB
- en: '| 111877 | d009    |'
  prefs: []
  type: TYPE_TB
- en: '| 111939 | d009    |'
  prefs: []
  type: TYPE_TB
- en: +--------+---------+
  prefs: []
  type: TYPE_NORMAL
- en: 24 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees;
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|   300024 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no FROM employees WHERE first_name='Georgi' AND last_name='Facello';
  prefs: []
  type: TYPE_NORMAL
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  10001 |'
  prefs: []
  type: TYPE_TB
- en: '|  55649 |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.08 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name IN ('Christ', 'Lamba',
    'Baba');
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|      626 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.08 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE hire_date BETWEEN '1986-12-01' AND
    '1986-12-31';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     3081 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE49]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE hire_date NOT BETWEEN '1986-12-01'
    AND '1986-12-31';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|   296943 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.08 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE 'christ%';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     1157 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE51]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE 'christ%ed';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|      228 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE52]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '%sri%';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|      253 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.08 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE53]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '%er';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     5388 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.08 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE54]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name LIKE '__ka%';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     1918 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE55]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE first_name RLIKE '^christ';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     1157 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.18 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE56]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name REGEXP 'ba$';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|     1008 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.15 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE57]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) FROM employees WHERE last_name NOT REGEXP '[aeiou]';
  prefs: []
  type: TYPE_NORMAL
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| COUNT(*) |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: '|      148 |'
  prefs: []
  type: TYPE_TB
- en: +----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.11 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE58]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT first_name, last_name FROM employees WHERE hire_date < '1986-01-01'
    LIMIT 10;
  prefs: []
  type: TYPE_NORMAL
- en: +------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| first_name | last_name  |'
  prefs: []
  type: TYPE_TB
- en: +------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Bezalel    | Simmel     |'
  prefs: []
  type: TYPE_TB
- en: '| Sumant     | Peac       |'
  prefs: []
  type: TYPE_TB
- en: '| Eberhardt  | Terkki     |'
  prefs: []
  type: TYPE_TB
- en: '| Otmar      | Herbst     |'
  prefs: []
  type: TYPE_TB
- en: '| Florian    | Syrotiuk   |'
  prefs: []
  type: TYPE_TB
- en: '| Tse        | Herber     |'
  prefs: []
  type: TYPE_TB
- en: '| Udi        | Jansch     |'
  prefs: []
  type: TYPE_TB
- en: '| Reuven     | Garigliano |'
  prefs: []
  type: TYPE_TB
- en: '| Erez       | Ritzmann   |'
  prefs: []
  type: TYPE_TB
- en: '| Premal     | Baek       |'
  prefs: []
  type: TYPE_TB
- en: +------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 10 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE59]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT COUNT(*) AS count FROM employees WHERE hire_date BETWEEN '1986-12-01'
    AND '1986-12-31';
  prefs: []
  type: TYPE_NORMAL
- en: +-------+
  prefs: []
  type: TYPE_NORMAL
- en: '| count |'
  prefs: []
  type: TYPE_TB
- en: +-------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  3081 |'
  prefs: []
  type: TYPE_TB
- en: +-------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no,salary FROM salaries ORDER BY salary DESC LIMIT 5;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | salary |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  43624 | 158220 |'
  prefs: []
  type: TYPE_TB
- en: '|  43624 | 157821 |'
  prefs: []
  type: TYPE_TB
- en: '| 254466 | 156286 |'
  prefs: []
  type: TYPE_TB
- en: '|  47978 | 155709 |'
  prefs: []
  type: TYPE_TB
- en: '| 253939 | 155513 |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: 5 rows in set (0.74 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE61]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no,salary FROM salaries ORDER BY 2 DESC LIMIT 5;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | salary |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  43624 | 158220 |'
  prefs: []
  type: TYPE_TB
- en: '|  43624 | 157821 |'
  prefs: []
  type: TYPE_TB
- en: '| 254466 | 156286 |'
  prefs: []
  type: TYPE_TB
- en: '|  47978 | 155709 |'
  prefs: []
  type: TYPE_TB
- en: '| 253939 | 155513 |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: 5 rows in set (0.78 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE62]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT gender, COUNT(*) AS count FROM employees GROUP BY gender;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| gender | count  |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| M      | 179973 |'
  prefs: []
  type: TYPE_TB
- en: '| F      | 120051 |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.14 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE63]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT first_name, COUNT(first_name) AS count FROM employees GROUP BY
    first_name ORDER BY count DESC LIMIT 10;
  prefs: []
  type: TYPE_NORMAL
- en: +-------------+-------+
  prefs: []
  type: TYPE_NORMAL
- en: '| first_name  | count |'
  prefs: []
  type: TYPE_TB
- en: +-------------+-------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Shahab      |   295 |'
  prefs: []
  type: TYPE_TB
- en: '| Tetsushi    |   291 |'
  prefs: []
  type: TYPE_TB
- en: '| Elgin       |   279 |'
  prefs: []
  type: TYPE_TB
- en: '| Anyuan      |   278 |'
  prefs: []
  type: TYPE_TB
- en: '| Huican      |   276 |'
  prefs: []
  type: TYPE_TB
- en: '| Make        |   275 |'
  prefs: []
  type: TYPE_TB
- en: '| Panayotis   |   272 |'
  prefs: []
  type: TYPE_TB
- en: '| Sreekrishna |   272 |'
  prefs: []
  type: TYPE_TB
- en: '| Hatem       |   271 |'
  prefs: []
  type: TYPE_TB
- en: '| Giri        |   270 |'
  prefs: []
  type: TYPE_TB
- en: +-------------+-------+
  prefs: []
  type: TYPE_NORMAL
- en: 10 rows in set (0.21 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE64]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT '2017-06-12', YEAR('2017-06-12');
  prefs: []
  type: TYPE_NORMAL
- en: +------------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 2017-06-12 | YEAR(''2017-06-12'') |'
  prefs: []
  type: TYPE_TB
- en: +------------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 2017-06-12 |               2017 |'
  prefs: []
  type: TYPE_TB
- en: +------------+--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE65]'
  prefs: []
  type: TYPE_PRE
- en: mysql>  SELECT YEAR(from_date), SUM(salary) AS sum FROM salaries GROUP BY YEAR(from_date)
    ORDER BY sum DESC;
  prefs: []
  type: TYPE_NORMAL
- en: +-----------------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| YEAR(from_date) | sum         |'
  prefs: []
  type: TYPE_TB
- en: +-----------------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|            2000 | 17535667603 |'
  prefs: []
  type: TYPE_TB
- en: '|            2001 | 17507737308 |'
  prefs: []
  type: TYPE_TB
- en: '|            1999 | 17360258862 |'
  prefs: []
  type: TYPE_TB
- en: '|            1998 | 16220495471 |'
  prefs: []
  type: TYPE_TB
- en: '|            1997 | 15056011781 |'
  prefs: []
  type: TYPE_TB
- en: '|            1996 | 13888587737 |'
  prefs: []
  type: TYPE_TB
- en: '|            1995 | 12638817464 |'
  prefs: []
  type: TYPE_TB
- en: '|            1994 | 11429450113 |'
  prefs: []
  type: TYPE_TB
- en: '|            2002 | 10243347616 |'
  prefs: []
  type: TYPE_TB
- en: '|            1993 | 10215059054 |'
  prefs: []
  type: TYPE_TB
- en: '|            1992 |  9027872610 |'
  prefs: []
  type: TYPE_TB
- en: '|            1991 |  7798804412 |'
  prefs: []
  type: TYPE_TB
- en: '|            1990 |  6626146391 |'
  prefs: []
  type: TYPE_TB
- en: '|            1989 |  5454260439 |'
  prefs: []
  type: TYPE_TB
- en: '|            1988 |  4295598688 |'
  prefs: []
  type: TYPE_TB
- en: '|            1987 |  3156881054 |'
  prefs: []
  type: TYPE_TB
- en: '|            1986 |  2052895941 |'
  prefs: []
  type: TYPE_TB
- en: '|            1985 |   972864875 |'
  prefs: []
  type: TYPE_TB
- en: +-----------------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: 18 rows in set (1.47 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE66]'
  prefs: []
  type: TYPE_PRE
- en: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no ORDER
    BY avg DESC LIMIT 10;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | avg         |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 109334 | 141835.3333 |'
  prefs: []
  type: TYPE_TB
- en: '| 205000 | 141064.6364 |'
  prefs: []
  type: TYPE_TB
- en: '|  43624 | 138492.9444 |'
  prefs: []
  type: TYPE_TB
- en: '| 493158 | 138312.8750 |'
  prefs: []
  type: TYPE_TB
- en: '|  37558 | 138215.8571 |'
  prefs: []
  type: TYPE_TB
- en: '| 276633 | 136711.7333 |'
  prefs: []
  type: TYPE_TB
- en: '| 238117 | 136026.2000 |'
  prefs: []
  type: TYPE_TB
- en: '|  46439 | 135747.7333 |'
  prefs: []
  type: TYPE_TB
- en: '| 254466 | 135541.0625 |'
  prefs: []
  type: TYPE_TB
- en: '| 253939 | 135042.2500 |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: 10 rows in set (0.91 sec
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE67]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT DISTINCT title FROM titles;
  prefs: []
  type: TYPE_NORMAL
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| title              |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Senior Engineer    |'
  prefs: []
  type: TYPE_TB
- en: '| Staff              |'
  prefs: []
  type: TYPE_TB
- en: '| Engineer           |'
  prefs: []
  type: TYPE_TB
- en: '| Senior Staff       |'
  prefs: []
  type: TYPE_TB
- en: '| Assistant Engineer |'
  prefs: []
  type: TYPE_TB
- en: '| Technique Leader   |'
  prefs: []
  type: TYPE_TB
- en: '| Manager            |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 7 rows in set (0.30 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE68]'
  prefs: []
  type: TYPE_PRE
- en: mysql>  SELECT emp_no, AVG(salary) AS avg FROM salaries GROUP BY emp_no HAVING
    avg > 140000 ORDER BY avg DESC;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | avg         |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 109334 | 141835.3333 |'
  prefs: []
  type: TYPE_TB
- en: '| 205000 | 141064.6364 |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------------+
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.80 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE69]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
  prefs: []
  type: TYPE_NORMAL
- en: IDENTIFIED WITH mysql_native_password
  prefs: []
  type: TYPE_NORMAL
- en: BY 'company_pass'
  prefs: []
  type: TYPE_NORMAL
- en: WITH MAX_QUERIES_PER_HOUR 500
  prefs: []
  type: TYPE_NORMAL
- en: MAX_UPDATES_PER_HOUR 100;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE70]'
  prefs: []
  type: TYPE_PRE
- en: 'ERROR 1819 (HY000): Your password does not satisfy the current policy requirements'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE71]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT PASSWORD('company_pass');
  prefs: []
  type: TYPE_NORMAL
- en: +-------------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|PASSWORD(''company_pass'')                   |'
  prefs: []
  type: TYPE_NORMAL
- en: +-------------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| *EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18 |'
  prefs: []
  type: TYPE_TB
- en: +-------------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set, 1 warning (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE72]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE USER IF NOT EXISTS 'company_read_only'@'localhost'
  prefs: []
  type: TYPE_NORMAL
- en: IDENTIFIED WITH mysql_native_password
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE73]'
  prefs: []
  type: TYPE_PRE
- en: AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18'
  prefs: []
  type: TYPE_NORMAL
- en: WITH MAX_QUERIES_PER_HOUR 500
  prefs: []
  type: TYPE_NORMAL
- en: MAX_UPDATES_PER_HOUR 100;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE74]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT ON company.* TO 'company_read_only'@'localhost';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE75]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT INSERT ON company.* TO 'company_insert_only'@'localhost' IDENTIFIED
    BY 'xxxx';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.05 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE76]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW WARNINGS\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Level: Warning'
  prefs: []
  type: TYPE_NORMAL
- en: 'Code: 1287'
  prefs: []
  type: TYPE_NORMAL
- en: 'Message: Using GRANT for creating new user is deprecated and will be removed
    in future release. Create new user with CREATE USER statement.'
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE77]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT INSERT, DELETE, UPDATE ON company.* TO 'company_write'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE78]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT ON employees.employees TO 'employees_read_only'@'%' IDENTIFIED
    WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE79]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT(first_name,last_name)  ON employees.employees TO 'employees_ro'@'%'
    IDENTIFIED WITH mysql_native_password AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE80]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT(salary) ON employees.salaries TO 'employees_ro'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE81]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE USER 'dbadmin'@'%' IDENTIFIED WITH mysql_native_password BY 'DB@dm1n';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE82]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT ALL ON *.* TO 'dbadmin'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE83]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT GRANT OPTION ON *.* TO 'dbadmin'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE84]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW GRANTS FOR 'employees_ro'@'%'\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grants for employees_ro@%: GRANT USAGE ON *.* TO `employees_ro`@`%`'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 2\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grants for employees_ro@%: GRANT SELECT (`first_name`, `last_name`) ON `employees`.`employees`
    TO `employees_ro`@`%`'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 3\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grants for employees_ro@%: GRANT SELECT (`salary`) ON `employees`.`salaries`
    TO `employees_ro`@`%`'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE85]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW GRANTS FOR 'dbadmin'@'%'\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grants for dbadmin@%: GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD,
    SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE
    TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT,
    CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER, EVENT, TRIGGER,
    CREATE TABLESPACE, CREATE ROLE, DROP ROLE ON *.* TO `dbadmin`@`%` WITH GRANT OPTION'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 2\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grants for dbadmin@%: GRANT BINLOG_ADMIN,CONNECTION_ADMIN,ENCRYPTION_KEY_ADMIN,GROUP_REPLICATION_ADMIN,REPLICATION_SLAVE_ADMIN,ROLE_ADMIN,SET_USER_ID,SYSTEM_VARIABLES_ADMIN
    ON *.* TO `dbadmin`@`%`'
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE86]'
  prefs: []
  type: TYPE_PRE
- en: mysql> REVOKE DELETE ON company.* FROM 'company_write'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE87]'
  prefs: []
  type: TYPE_PRE
- en: mysql> REVOKE SELECT(salary) ON employees.salaries FROM 'employees_ro'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE88]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM mysql.user WHERE user='dbadmin'\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Host: %'
  prefs: []
  type: TYPE_NORMAL
- en: 'User: dbadmin'
  prefs: []
  type: TYPE_NORMAL
- en: 'Select_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Insert_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Update_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Delete_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Drop_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Reload_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Shutdown_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Process_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'File_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Grant_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'References_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Index_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Alter_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Show_db_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Super_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_tmp_table_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Lock_tables_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Execute_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Repl_slave_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Repl_client_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_view_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Show_view_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_routine_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Alter_routine_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_user_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Event_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Trigger_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_tablespace_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'ssl_type:'
  prefs: []
  type: TYPE_NORMAL
- en: 'ssl_cipher:'
  prefs: []
  type: TYPE_NORMAL
- en: 'x509_issuer:'
  prefs: []
  type: TYPE_NORMAL
- en: 'x509_subject:'
  prefs: []
  type: TYPE_NORMAL
- en: 'max_questions: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'max_updates: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'max_connections: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'max_user_connections: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'plugin: mysql_native_password'
  prefs: []
  type: TYPE_NORMAL
- en: 'authentication_string: *AB7018ADD9CB4EDBEB680BB3F820479E4CE815D2'
  prefs: []
  type: TYPE_NORMAL
- en: 'password_expired: N'
  prefs: []
  type: TYPE_NORMAL
- en: 'password_last_changed: 2017-06-10 16:24:03'
  prefs: []
  type: TYPE_NORMAL
- en: 'password_lifetime: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'account_locked: N'
  prefs: []
  type: TYPE_NORMAL
- en: 'Create_role_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 'Drop_role_priv: Y'
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE89]'
  prefs: []
  type: TYPE_PRE
- en: mysql> UPDATE mysql.user SET host='localhost' WHERE user='dbadmin';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.02 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Rows matched: 1  Changed: 1  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE90]'
  prefs: []
  type: TYPE_PRE
- en: mysql> FLUSH PRIVILEGES;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE91]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE USER 'developer'@'%' IDENTIFIED WITH mysql_native_password AS
    '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18' PASSWORD EXPIRE;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE92]'
  prefs: []
  type: TYPE_PRE
- en: shell> mysql -u developer -pcompany_pass
  prefs: []
  type: TYPE_NORMAL
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  prefs: []
  type: TYPE_NORMAL
- en: Welcome to the MySQL monitor.  Commands end with ; or \g.
  prefs: []
  type: TYPE_NORMAL
- en: Your MySQL connection id is 31
  prefs: []
  type: TYPE_NORMAL
- en: 'Server version: 8.0.3-rc-log'
  prefs: []
  type: TYPE_NORMAL
- en: Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
  prefs: []
  type: TYPE_NORMAL
- en: Oracle is a registered trademark of Oracle Corporation and/or its
  prefs: []
  type: TYPE_NORMAL
- en: affiliates. Other names may be trademarks of their respective
  prefs: []
  type: TYPE_NORMAL
- en: owners.
  prefs: []
  type: TYPE_NORMAL
- en: Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SHOW DATABASES;
  prefs: []
  type: TYPE_NORMAL
- en: 'ERROR 1820 (HY000): You must reset your password using ALTER USER statement
    before executing this statement.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE93]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER USER 'developer'@'%' IDENTIFIED WITH mysql_native_password BY 'new_company_pass';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.03 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE94]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER USER 'developer'@'%' PASSWORD EXPIRE;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE95]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER USER 'developer'@'%' PASSWORD EXPIRE INTERVAL 90 DAY;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE96]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER USER 'developer'@'%' ACCOUNT LOCK;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.05 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE97]'
  prefs: []
  type: TYPE_PRE
- en: shell> mysql -u developer -pnew_company_pass
  prefs: []
  type: TYPE_NORMAL
- en: 'mysql: [Warning] Using a password on the command line interface can be insecure.'
  prefs: []
  type: TYPE_NORMAL
- en: 'ERROR 3118 (HY000): Access denied for user ''developer''@''localhost''. Account
    is locked.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE98]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER USER 'developer'@'%' ACCOUNT UNLOCK;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE99]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE ROLE 'app_read_only', 'app_writes', 'app_developer';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE100]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT ON employees.* TO 'app_read_only';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE101]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT INSERT, UPDATE, DELETE ON employees.* TO 'app_writes';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE102]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT ALL ON employees.* TO 'app_developer';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE103]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE user emp_read_only IDENTIFIED BY 'emp_pass';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE104]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE user emp_writes IDENTIFIED BY 'emp_pass';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE105]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE user emp_developer IDENTIFIED BY 'emp_pass';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE106]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE user emp_read_write IDENTIFIED BY 'emp_pass';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE107]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT 'app_read_only' TO 'emp_read_only'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE108]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT 'app_writes' TO 'emp_writes'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE109]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT 'app_developer' TO 'emp_developer'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE110]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT 'app_read_only', 'app_writes' TO 'emp_read_write'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.05 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE111]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT SELECT ON employees.* TO 'user_ro_file'@'%' IDENTIFIED  WITH mysql_native_password
    AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> GRANT FILE ON *.* TO 'user_ro_file'@'%' IDENTIFIED  WITH mysql_native_password
    AS '*EBD9E3BFD1489CA1EB0D2B4F29F6665F321E8C18';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected, 1 warning (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE112]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE113]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo systemctl restart mysql
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE114]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT first_name, last_name INTO OUTFILE 'result.csv'
  prefs: []
  type: TYPE_NORMAL
- en: FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
  prefs: []
  type: TYPE_NORMAL
- en: LINES TERMINATED BY '\n'
  prefs: []
  type: TYPE_NORMAL
- en: FROM employees WHERE hire_date<'1986-01-01' LIMIT 10;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 10 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE115]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo cat /var/lib/mysql/employees/result.csv
  prefs: []
  type: TYPE_NORMAL
- en: '"Bezalel","Simmel"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Sumant","Peac"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Eberhardt","Terkki"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Otmar","Herbst"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Florian","Syrotiuk"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Tse","Herber"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Udi","Jansch"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Reuven","Garigliano"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Erez","Ritzmann"'
  prefs: []
  type: TYPE_NORMAL
- en: '"Premal","Baek"'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE116]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE titles_only AS SELECT DISTINCT title FROM titles;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 7 rows affected (0.50 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 7  Duplicates: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE117]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO titles_only SELECT DISTINCT title FROM titles;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 7 rows affected (0.46 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 7  Duplicates: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE118]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE employee_names (
  prefs: []
  type: TYPE_NORMAL
- en: '`first_name` varchar(14) NOT NULL,'
  prefs: []
  type: TYPE_NORMAL
- en: '`last_name` varchar(16) NOT NULL'
  prefs: []
  type: TYPE_NORMAL
- en: ) ENGINE=InnoDB;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.07 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE119]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo ls -lhtr /var/lib/mysql/employees/result.csv
  prefs: []
  type: TYPE_NORMAL
- en: -rw-rw-rw- 1 mysql mysql 180 Jun 10 14:53 /var/lib/mysql/employees/result.csv
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE120]'
  prefs: []
  type: TYPE_PRE
- en: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
  prefs: []
  type: TYPE_NORMAL
- en: FIELDS TERMINATED BY ','
  prefs: []
  type: TYPE_NORMAL
- en: OPTIONALLY ENCLOSED BY '"'
  prefs: []
  type: TYPE_NORMAL
- en: LINES TERMINATED BY '\n';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 10 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE121]'
  prefs: []
  type: TYPE_PRE
- en: mysql> LOAD DATA INFILE 'result.csv' INTO TABLE employee_names
  prefs: []
  type: TYPE_NORMAL
- en: FIELDS TERMINATED BY ','
  prefs: []
  type: TYPE_NORMAL
- en: OPTIONALLY ENCLOSED BY '"'
  prefs: []
  type: TYPE_NORMAL
- en: LINES TERMINATED BY '\n'
  prefs: []
  type: TYPE_NORMAL
- en: IGNORE 1 LINES;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE122]'
  prefs: []
  type: TYPE_PRE
- en: mysql> LOAD DATA INFILE 'result.csv' REPLACE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 10 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: mysql> LOAD DATA INFILE 'result.csv' IGNORE INTO TABLE employee_names FIELDS
    TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 10 rows affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 10  Deleted: 0  Skipped: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE123]'
  prefs: []
  type: TYPE_PRE
- en: mysql> LOAD DATA LOCAL INFILE 'result.csv' IGNORE INTO TABLE employee_names
    FIELDS TERMINATED BY ','OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n';
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE124]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp.emp_no, emp.first_name, emp.last_name
  prefs: []
  type: TYPE_NORMAL
- en: FROM employees AS emp
  prefs: []
  type: TYPE_NORMAL
- en: WHERE  emp.emp_no=110022;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | first_name | last_name  |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 110022 | Margareta  | Markovitch |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE125]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT dept_no FROM dept_manager AS dept_mgr WHERE dept_mgr.emp_no=110022;
  prefs: []
  type: TYPE_NORMAL
- en: +---------+
  prefs: []
  type: TYPE_NORMAL
- en: '| dept_no |'
  prefs: []
  type: TYPE_TB
- en: +---------+
  prefs: []
  type: TYPE_NORMAL
- en: '| d001    |'
  prefs: []
  type: TYPE_TB
- en: +---------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE126]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT dept_name FROM departments dept WHERE dept.dept_no='d001';
  prefs: []
  type: TYPE_NORMAL
- en: +-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| dept_name |'
  prefs: []
  type: TYPE_TB
- en: +-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Marketing |'
  prefs: []
  type: TYPE_TB
- en: +-----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE127]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT
  prefs: []
  type: TYPE_NORMAL
- en: emp.emp_no,
  prefs: []
  type: TYPE_NORMAL
- en: emp.first_name,
  prefs: []
  type: TYPE_NORMAL
- en: emp.last_name,
  prefs: []
  type: TYPE_NORMAL
- en: dept.dept_name
  prefs: []
  type: TYPE_NORMAL
- en: FROM
  prefs: []
  type: TYPE_NORMAL
- en: employees AS emp
  prefs: []
  type: TYPE_NORMAL
- en: JOIN dept_manager AS dept_mgr
  prefs: []
  type: TYPE_NORMAL
- en: ON emp.emp_no=dept_mgr.emp_no AND emp.emp_no=110022
  prefs: []
  type: TYPE_NORMAL
- en: JOIN departments AS dept
  prefs: []
  type: TYPE_NORMAL
- en: ON dept_mgr.dept_no=dept.dept_no;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+------------+------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | first_name | last_name  | dept_name |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 110022 | Margareta  | Markovitch | Marketing |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE128]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT
  prefs: []
  type: TYPE_NORMAL
- en: dept_name,
  prefs: []
  type: TYPE_NORMAL
- en: AVG(salary) AS avg_salary
  prefs: []
  type: TYPE_NORMAL
- en: FROM
  prefs: []
  type: TYPE_NORMAL
- en: salaries
  prefs: []
  type: TYPE_NORMAL
- en: JOIN dept_emp
  prefs: []
  type: TYPE_NORMAL
- en: ON salaries.emp_no=dept_emp.emp_no
  prefs: []
  type: TYPE_NORMAL
- en: JOIN departments
  prefs: []
  type: TYPE_NORMAL
- en: ON dept_emp.dept_no=departments.dept_no
  prefs: []
  type: TYPE_NORMAL
- en: GROUP BY
  prefs: []
  type: TYPE_NORMAL
- en: dept_emp.dept_no
  prefs: []
  type: TYPE_NORMAL
- en: ORDER BY
  prefs: []
  type: TYPE_NORMAL
- en: avg_salary
  prefs: []
  type: TYPE_NORMAL
- en: DESC;
  prefs: []
  type: TYPE_NORMAL
- en: +--------------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| dept_name          | avg_salary |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Sales              | 80667.6058 |'
  prefs: []
  type: TYPE_TB
- en: '| Marketing          | 71913.2000 |'
  prefs: []
  type: TYPE_TB
- en: '| Finance            | 70489.3649 |'
  prefs: []
  type: TYPE_TB
- en: '| Research           | 59665.1817 |'
  prefs: []
  type: TYPE_TB
- en: '| Production         | 59605.4825 |'
  prefs: []
  type: TYPE_TB
- en: '| Development        | 59478.9012 |'
  prefs: []
  type: TYPE_TB
- en: '| Customer Service   | 58770.3665 |'
  prefs: []
  type: TYPE_TB
- en: '| Quality Management | 57251.2719 |'
  prefs: []
  type: TYPE_TB
- en: '| Human Resources    | 55574.8794 |'
  prefs: []
  type: TYPE_TB
- en: +--------------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 9 rows in set (8.29 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE129]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER TABLE employees ADD INDEX name(first_name, last_name);
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (1.95 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 0  Duplicates: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE130]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT
  prefs: []
  type: TYPE_NORMAL
- en: emp1.*
  prefs: []
  type: TYPE_NORMAL
- en: FROM
  prefs: []
  type: TYPE_NORMAL
- en: employees emp1
  prefs: []
  type: TYPE_NORMAL
- en: JOIN employees emp2
  prefs: []
  type: TYPE_NORMAL
- en: ON emp1.first_name=emp2.first_name
  prefs: []
  type: TYPE_NORMAL
- en: AND emp1.last_name=emp2.last_name
  prefs: []
  type: TYPE_NORMAL
- en: AND emp1.gender=emp2.gender
  prefs: []
  type: TYPE_NORMAL
- en: AND emp1.hire_date=emp2.hire_date
  prefs: []
  type: TYPE_NORMAL
- en: AND emp1.emp_no!=emp2.emp_no
  prefs: []
  type: TYPE_NORMAL
- en: ORDER BY
  prefs: []
  type: TYPE_NORMAL
- en: first_name, last_name;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | birth_date | first_name | last_name | gender | hire_date  |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 232772 | 1962-05-14 | Keung      | Heusch    | M      | 1986-06-01 |'
  prefs: []
  type: TYPE_TB
- en: '| 493600 | 1964-01-26 | Keung      | Heusch    | M      | 1986-06-01 |'
  prefs: []
  type: TYPE_TB
- en: '|  64089 | 1958-01-19 | Marit      | Kolvik    | F      | 1993-12-08 |'
  prefs: []
  type: TYPE_TB
- en: '| 424486 | 1952-07-06 | Marit      | Kolvik    | F      | 1993-12-08 |'
  prefs: []
  type: TYPE_TB
- en: '|  40965 | 1952-05-11 | Marsha     | Farrow    | M      | 1989-02-18 |'
  prefs: []
  type: TYPE_TB
- en: '|  14641 | 1953-05-08 | Marsha     | Farrow    | M      | 1989-02-18 |'
  prefs: []
  type: TYPE_TB
- en: '| 422332 | 1954-08-17 | Naftali    | Mawatari  | M      | 1985-09-14 |'
  prefs: []
  type: TYPE_TB
- en: '| 427429 | 1962-11-06 | Naftali    | Mawatari  | M      | 1985-09-14 |'
  prefs: []
  type: TYPE_TB
- en: '|  19454 | 1955-05-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
  prefs: []
  type: TYPE_TB
- en: '| 243627 | 1957-02-14 | Taisook    | Hutter    | F      | 1985-02-26 |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 10 rows in set (34.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE131]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no FROM titles WHERE title="Senior Engineer" AND from_date="1986-06-26";
  prefs: []
  type: TYPE_NORMAL
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  10001 |'
  prefs: []
  type: TYPE_TB
- en: '|  84305 |'
  prefs: []
  type: TYPE_TB
- en: '| 228917 |'
  prefs: []
  type: TYPE_TB
- en: '| 426700 |'
  prefs: []
  type: TYPE_TB
- en: '| 458304 |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: 5 rows in set (0.14 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE132]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT first_name, last_name FROM employees WHERE emp_no IN (< output
    from preceding query>)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT first_name, last_name FROM employees WHERE emp_no IN (10001,84305,228917,426700,458304);
  prefs: []
  type: TYPE_NORMAL
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| first_name | last_name |'
  prefs: []
  type: TYPE_TB
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Georgi     | Facello   |'
  prefs: []
  type: TYPE_TB
- en: '| Minghong   | Kalloufi  |'
  prefs: []
  type: TYPE_TB
- en: '| Nechama    | Bennet    |'
  prefs: []
  type: TYPE_TB
- en: '| Nagui      | Restivo   |'
  prefs: []
  type: TYPE_TB
- en: '| Shuzo      | Kirkerud  |'
  prefs: []
  type: TYPE_TB
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: 5 rows in set (0.00 sec
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE133]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT
  prefs: []
  type: TYPE_NORMAL
- en: first_name,
  prefs: []
  type: TYPE_NORMAL
- en: last_name
  prefs: []
  type: TYPE_NORMAL
- en: FROM
  prefs: []
  type: TYPE_NORMAL
- en: employees
  prefs: []
  type: TYPE_NORMAL
- en: WHERE
  prefs: []
  type: TYPE_NORMAL
- en: emp_no
  prefs: []
  type: TYPE_NORMAL
- en: IN (SELECT emp_no FROM titles WHERE title="Senior Engineer" AND from_date="1986-06-26");
  prefs: []
  type: TYPE_NORMAL
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| first_name | last_name |'
  prefs: []
  type: TYPE_TB
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Georgi     | Facello   |'
  prefs: []
  type: TYPE_TB
- en: '| Minghong   | Kalloufi  |'
  prefs: []
  type: TYPE_TB
- en: '| Nagui      | Restivo   |'
  prefs: []
  type: TYPE_TB
- en: '| Nechama    | Bennet    |'
  prefs: []
  type: TYPE_TB
- en: '| Shuzo      | Kirkerud  |'
  prefs: []
  type: TYPE_TB
- en: +------------+-----------+
  prefs: []
  type: TYPE_NORMAL
- en: 5 rows in set (0.91 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE134]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no FROM salaries WHERE salary=(SELECT MAX(salary) FROM salaries);
  prefs: []
  type: TYPE_NORMAL
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  43624 |'
  prefs: []
  type: TYPE_TB
- en: +--------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (1.54 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE135]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE employees_list1 AS SELECT * FROM employees WHERE first_name
    LIKE 'aa%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 444 rows affected (0.22 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 444  Duplicates: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: mysql> CREATE TABLE employees_list2 AS SELECT * FROM employees WHERE emp_no
    BETWEEN 400000 AND 500000 AND gender='F';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 39892 rows affected (0.59 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Records: 39892  Duplicates: 0  Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE136]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM employees_list1 WHERE emp_no IN (SELECT emp_no FROM  employees_list2);
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE137]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT l1.* FROM employees_list1 l1 JOIN employees_list2 l2 ON l1.emp_no=l2.emp_no;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE138]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM employees_list1 WHERE emp_no NOT IN (SELECT emp_no FROM  employees_list2);
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE139]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NULL;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE140]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT l1.* FROM employees_list1 l1 LEFT OUTER JOIN employees_list2 l2
    ON l1.emp_no=l2.emp_no WHERE l2.emp_no IS NOT NULL;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE141]'
  prefs: []
  type: TYPE_PRE
- en: /* DROP the existing procedure if any with the same name before creating */
  prefs: []
  type: TYPE_NORMAL
- en: DROP PROCEDURE IF EXISTS create_employee;
  prefs: []
  type: TYPE_NORMAL
- en: /* Change the delimiter to $$ */
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER $$
  prefs: []
  type: TYPE_NORMAL
- en: /* IN specifies the variables taken as arguments, INOUT specifies the output
    variable*/
  prefs: []
  type: TYPE_NORMAL
- en: CREATE PROCEDURE create_employee (OUT new_emp_no INT, IN first_name varchar(20),
    IN last_name varchar(20), IN gender enum('M','F'), IN birth_date date, IN emp_dept_name
    varchar(40), IN title varchar(50))
  prefs: []
  type: TYPE_NORMAL
- en: BEGIN
  prefs: []
  type: TYPE_NORMAL
- en: /* Declare variables for emp_dept_no and salary */
  prefs: []
  type: TYPE_NORMAL
- en: DECLARE emp_dept_no char(4);
  prefs: []
  type: TYPE_NORMAL
- en: DECLARE salary int DEFAULT 60000;
  prefs: []
  type: TYPE_NORMAL
- en: /* Select the maximum employee number into the variable new_emp_no */
  prefs: []
  type: TYPE_NORMAL
- en: SELECT max(emp_no) INTO new_emp_no FROM employees;
  prefs: []
  type: TYPE_NORMAL
- en: /* Increment the new_emp_no */
  prefs: []
  type: TYPE_NORMAL
- en: SET new_emp_no = new_emp_no + 1;
  prefs: []
  type: TYPE_NORMAL
- en: /* INSERT the data into employees table */
  prefs: []
  type: TYPE_NORMAL
- en: /* The function CURDATE() gives the current date) */
  prefs: []
  type: TYPE_NORMAL
- en: INSERT INTO employees VALUES(new_emp_no, birth_date, first_name, last_name,
    gender, CURDATE());
  prefs: []
  type: TYPE_NORMAL
- en: /* Find out the dept_no for dept_name */
  prefs: []
  type: TYPE_NORMAL
- en: SELECT emp_dept_name;
  prefs: []
  type: TYPE_NORMAL
- en: SELECT dept_no INTO emp_dept_no FROM departments WHERE dept_name=emp_dept_name;
  prefs: []
  type: TYPE_NORMAL
- en: SELECT emp_dept_no;
  prefs: []
  type: TYPE_NORMAL
- en: /* Insert into dept_emp */
  prefs: []
  type: TYPE_NORMAL
- en: INSERT INTO dept_emp VALUES(new_emp_no, emp_dept_no, CURDATE(), '9999-01-01');
  prefs: []
  type: TYPE_NORMAL
- en: /* Insert into titles */
  prefs: []
  type: TYPE_NORMAL
- en: INSERT INTO titles VALUES(new_emp_no, title, CURDATE(), '9999-01-01');
  prefs: []
  type: TYPE_NORMAL
- en: /* Find salary based on title */
  prefs: []
  type: TYPE_NORMAL
- en: IF title = 'Staff'
  prefs: []
  type: TYPE_NORMAL
- en: THEN SET salary = 100000;
  prefs: []
  type: TYPE_NORMAL
- en: ELSEIF title = 'Senior Staff'
  prefs: []
  type: TYPE_NORMAL
- en: THEN SET salary = 120000;
  prefs: []
  type: TYPE_NORMAL
- en: END IF;
  prefs: []
  type: TYPE_NORMAL
- en: /* Insert into salaries */
  prefs: []
  type: TYPE_NORMAL
- en: INSERT INTO salaries VALUES(new_emp_no, salary, CURDATE(), '9999-01-01');
  prefs: []
  type: TYPE_NORMAL
- en: END
  prefs: []
  type: TYPE_NORMAL
- en: $$
  prefs: []
  type: TYPE_NORMAL
- en: /* Change the delimiter back to ; */
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER ;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE142]'
  prefs: []
  type: TYPE_PRE
- en: mysql> GRANT EXECUTE ON employees.* TO 'emp_read_only'@'%';
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.05 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE143]'
  prefs: []
  type: TYPE_PRE
- en: shell> mysql -u emp_read_only -pemp_pass employees -A
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE144]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CALL create_employee(@new_emp_no, 'John', 'Smith', 'M', '1984-06-19',
    'Research', 'Staff');
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE145]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT @new_emp_no;
  prefs: []
  type: TYPE_NORMAL
- en: +-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| @new_emp_no |'
  prefs: []
  type: TYPE_TB
- en: +-------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|      500000 |'
  prefs: []
  type: TYPE_TB
- en: +-------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE146]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM employees WHERE emp_no=500000;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | birth_date | first_name | last_name | gender | hire_date  |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 500000 | 1984-06-19 | John       | Smith     | M      | 2017-06-17 |'
  prefs: []
  type: TYPE_TB
- en: +--------+------------+------------+-----------+--------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT * FROM salaries WHERE emp_no=500000;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | salary | from_date  | to_date    |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 500000 | 100000 | 2017-06-17 | 9999-01-01 |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT * FROM titles WHERE emp_no=500000;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+-------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | title | from_date  | to_date    |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| 500000 | Staff | 2017-06-17 | 9999-01-01 |'
  prefs: []
  type: TYPE_TB
- en: +--------+-------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE147]'
  prefs: []
  type: TYPE_PRE
- en: shell> vi function.sql;
  prefs: []
  type: TYPE_NORMAL
- en: DROP FUNCTION IF EXISTS get_sal_level;
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER $$
  prefs: []
  type: TYPE_NORMAL
- en: CREATE FUNCTION get_sal_level(emp int) RETURNS VARCHAR(10)
  prefs: []
  type: TYPE_NORMAL
- en: DETERMINISTIC
  prefs: []
  type: TYPE_NORMAL
- en: BEGIN
  prefs: []
  type: TYPE_NORMAL
- en: DECLARE sal_level varchar(10);
  prefs: []
  type: TYPE_NORMAL
- en: DECLARE avg_sal FLOAT;
  prefs: []
  type: TYPE_NORMAL
- en: SELECT AVG(salary) INTO avg_sal FROM salaries WHERE emp_no=emp;
  prefs: []
  type: TYPE_NORMAL
- en: IF avg_sal < 50000 THEN
  prefs: []
  type: TYPE_NORMAL
- en: SET sal_level = 'BRONZE';
  prefs: []
  type: TYPE_NORMAL
- en: ELSEIF (avg_sal >= 50000 AND avg_sal < 70000) THEN
  prefs: []
  type: TYPE_NORMAL
- en: SET sal_level = 'SILVER';
  prefs: []
  type: TYPE_NORMAL
- en: ELSEIF (avg_sal >= 70000 AND avg_sal < 90000) THEN
  prefs: []
  type: TYPE_NORMAL
- en: SET sal_level = 'GOLD';
  prefs: []
  type: TYPE_NORMAL
- en: ELSEIF (avg_sal >= 90000) THEN
  prefs: []
  type: TYPE_NORMAL
- en: SET sal_level = 'PLATINUM';
  prefs: []
  type: TYPE_NORMAL
- en: ELSE
  prefs: []
  type: TYPE_NORMAL
- en: SET sal_level = 'NOT FOUND';
  prefs: []
  type: TYPE_NORMAL
- en: END IF;
  prefs: []
  type: TYPE_NORMAL
- en: RETURN (sal_level);
  prefs: []
  type: TYPE_NORMAL
- en: END
  prefs: []
  type: TYPE_NORMAL
- en: $$
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER ;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE148]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SOURCE function.sql;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE149]'
  prefs: []
  type: TYPE_PRE
- en: You have to pass the employee number and the function returns the income level.
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT get_sal_level(10002);
  prefs: []
  type: TYPE_NORMAL
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| get_sal_level(10002) |'
  prefs: []
  type: TYPE_TB
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| SILVER               |'
  prefs: []
  type: TYPE_TB
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT get_sal_level(10001);
  prefs: []
  type: TYPE_NORMAL
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| get_sal_level(10001) |'
  prefs: []
  type: TYPE_TB
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| GOLD                 |'
  prefs: []
  type: TYPE_TB
- en: +----------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SELECT get_sal_level(1);
  prefs: []
  type: TYPE_NORMAL
- en: +------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| get_sal_level(1) |'
  prefs: []
  type: TYPE_TB
- en: +------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| NOT FOUND        |'
  prefs: []
  type: TYPE_TB
- en: +------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE150]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM employees WHERE hire_date = CURDATE();
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE151]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT DATE_ADD(CURDATE(), INTERVAL -7 DAY) AS '7 Days Ago';
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE152]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT CONCAT(first_name, ' ', last_name) FROM employees LIMIT 1;
  prefs: []
  type: TYPE_NORMAL
- en: +------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| CONCAT(first_name, '' '', last_name) |'
  prefs: []
  type: TYPE_TB
- en: +------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Aamer Anger                        |'
  prefs: []
  type: TYPE_TB
- en: +------------------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE153]'
  prefs: []
  type: TYPE_PRE
- en: shell> vi before_insert_trigger.sql
  prefs: []
  type: TYPE_NORMAL
- en: DROP TRIGGER IF EXISTS salary_round;
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER $$
  prefs: []
  type: TYPE_NORMAL
- en: CREATE TRIGGER salary_round BEFORE INSERT ON salaries
  prefs: []
  type: TYPE_NORMAL
- en: FOR EACH ROW
  prefs: []
  type: TYPE_NORMAL
- en: BEGIN
  prefs: []
  type: TYPE_NORMAL
- en: SET NEW.salary=ROUND(NEW.salary);
  prefs: []
  type: TYPE_NORMAL
- en: END
  prefs: []
  type: TYPE_NORMAL
- en: $$
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER ;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE154]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SOURCE before_insert_trigger.sql;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 0 rows affected (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE155]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO salaries VALUES(10002, 100000.79, CURDATE(), '9999-01-01');
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.04 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE156]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM salaries WHERE emp_no=10002 AND from_date=CURDATE();
  prefs: []
  type: TYPE_NORMAL
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | salary | from_date  | to_date    |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  10002 | 100001 | 2017-06-18 | 9999-01-01 |'
  prefs: []
  type: TYPE_TB
- en: +--------+--------+------------+------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE157]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE TABLE salary_audit (emp_no int, user varchar(50), date_modified
    date);
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE158]'
  prefs: []
  type: TYPE_PRE
- en: shell> vi before_insert_trigger.sql
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER $$
  prefs: []
  type: TYPE_NORMAL
- en: CREATE TRIGGER salary_audit
  prefs: []
  type: TYPE_NORMAL
- en: BEFORE INSERT
  prefs: []
  type: TYPE_NORMAL
- en: ON salaries FOR EACH ROW PRECEDES salary_round
  prefs: []
  type: TYPE_NORMAL
- en: BEGIN
  prefs: []
  type: TYPE_NORMAL
- en: INSERT INTO salary_audit VALUES(NEW.emp_no, USER(), CURDATE());
  prefs: []
  type: TYPE_NORMAL
- en: END; $$
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER ;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE159]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO salaries VALUES(10003, 100000.79, CURDATE(), '9999-01-01');
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.06 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE160]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM salary_audit WHERE emp_no=10003;
  prefs: []
  type: TYPE_NORMAL
- en: +--------+----------------+---------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| emp_no | user           | date_modified |'
  prefs: []
  type: TYPE_TB
- en: +--------+----------------+---------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  10003 | root@localhost | 2017-06-18    |'
  prefs: []
  type: TYPE_TB
- en: +--------+----------------+---------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE161]'
  prefs: []
  type: TYPE_PRE
- en: mysql> CREATE ALGORITHM=UNDEFINED
  prefs: []
  type: TYPE_NORMAL
- en: DEFINER=`root`@`localhost`
  prefs: []
  type: TYPE_NORMAL
- en: SQL SECURITY DEFINER VIEW salary_view
  prefs: []
  type: TYPE_NORMAL
- en: AS
  prefs: []
  type: TYPE_NORMAL
- en: SELECT emp_no, salary FROM salaries WHERE from_date > '2002-01-01';
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE162]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT emp_no, AVG(salary) as avg FROM salary_view GROUP BY emp_no ORDER
    BY avg DESC LIMIT 5;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE163]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW FULL TABLES WHERE TABLE_TYPE LIKE 'VIEW';
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE164]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW CREATE VIEW salary_view\G
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE165]'
  prefs: []
  type: TYPE_PRE
- en: mysql> UPDATE salary_view SET salary=100000 WHERE emp_no=10001;
  prefs: []
  type: TYPE_NORMAL
- en: Query OK, 1 row affected (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: 'Rows matched: 2 Changed: 1 Warnings: 0'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE166]'
  prefs: []
  type: TYPE_PRE
- en: mysql> INSERT INTO salary_view VALUES(10001,100001);
  prefs: []
  type: TYPE_NORMAL
- en: 'ERROR 1423 (HY000): Field of view ''employees.salary_view'' underlying table
    doesn''t have a default value'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE167]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SET GLOBAL event_scheduler = ON;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE168]'
  prefs: []
  type: TYPE_PRE
- en: mysql> DROP EVENT IF EXISTS purge_salary_audit;
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER $$
  prefs: []
  type: TYPE_NORMAL
- en: CREATE EVENT IF NOT EXISTS purge_salary_audit
  prefs: []
  type: TYPE_NORMAL
- en: ON SCHEDULE
  prefs: []
  type: TYPE_NORMAL
- en: EVERY 1 WEEK
  prefs: []
  type: TYPE_NORMAL
- en: STARTS CURRENT_DATE
  prefs: []
  type: TYPE_NORMAL
- en: DO BEGIN
  prefs: []
  type: TYPE_NORMAL
- en: DELETE FROM salary_audit WHERE date_modified < DATE_ADD(CURDATE(), INTERVAL
    -7 day);
  prefs: []
  type: TYPE_NORMAL
- en: END $$
  prefs: []
  type: TYPE_NORMAL
- en: DELIMITER ;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE169]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW EVENTS\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'Db: employees'
  prefs: []
  type: TYPE_NORMAL
- en: 'Name: purge_salary_audit'
  prefs: []
  type: TYPE_NORMAL
- en: 'Definer: root@localhost'
  prefs: []
  type: TYPE_NORMAL
- en: 'Time zone: SYSTEM'
  prefs: []
  type: TYPE_NORMAL
- en: 'Type: RECURRING'
  prefs: []
  type: TYPE_NORMAL
- en: 'Execute at: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Interval value: 1'
  prefs: []
  type: TYPE_NORMAL
- en: 'Interval field: MINUTE'
  prefs: []
  type: TYPE_NORMAL
- en: 'Starts: 2017-06-18 00:00:00'
  prefs: []
  type: TYPE_NORMAL
- en: 'Ends: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'Status: ENABLED'
  prefs: []
  type: TYPE_NORMAL
- en: 'Originator: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'character_set_client: utf8'
  prefs: []
  type: TYPE_NORMAL
- en: 'collation_connection: utf8_general_ci'
  prefs: []
  type: TYPE_NORMAL
- en: 'Database Collation: utf8mb4_0900_ai_ci'
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE170]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SHOW CREATE EVENT purge_salary_audit\G
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE171]'
  prefs: []
  type: TYPE_PRE
- en: mysql> ALTER EVENT purge_salary_audit DISABLE;
  prefs: []
  type: TYPE_NORMAL
- en: mysql> ALTER EVENT purge_salary_audit ENABLE;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE172]'
  prefs: []
  type: TYPE_PRE
- en: mysql> USE INFORMATION_SCHEMA;
  prefs: []
  type: TYPE_NORMAL
- en: mysql> SHOW TABLES;
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE173]'
  prefs: []
  type: TYPE_PRE
- en: mysql> DESC INFORMATION_SCHEMA.TABLES;
  prefs: []
  type: TYPE_NORMAL
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| Field           | Type                                                               |
    Null | Key | Default           | Extra                       |'
  prefs: []
  type: TYPE_TB
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| TABLE_CATALOG   | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_SCHEMA    | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_NAME      | varchar(64)                                                        |
    NO   |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_TYPE      | enum(''BASE TABLE'',''VIEW'',''SYSTEM VIEW'')                            |
    NO   |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| ENGINE          | varchar(64)                                                        |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| VERSION         | int(2)                                                             |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| ROW_FORMAT      | enum(''Fixed'',''Dynamic'',''Compressed'',''Redundant'',''Compact'',''Paged'')
    | YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_ROWS      | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| AVG_ROW_LENGTH  | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| DATA_LENGTH     | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| MAX_DATA_LENGTH | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| INDEX_LENGTH    | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| DATA_FREE       | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| AUTO_INCREMENT  | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| CREATE_TIME     | timestamp                                                          |
    NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |'
  prefs: []
  type: TYPE_TB
- en: '| UPDATE_TIME     | timestamp                                                          |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| CHECK_TIME      | timestamp                                                          |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_COLLATION | varchar(64)                                                        |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| CHECKSUM        | bigint(20) unsigned                                                |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| CREATE_OPTIONS  | varchar(256)                                                       |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: '| TABLE_COMMENT   | varchar(256)                                                       |
    YES  |     | NULL              |                             |'
  prefs: []
  type: TYPE_TB
- en: +-----------------+--------------------------------------------------------------------+------+-----+-------------------+-----------------------------+
  prefs: []
  type: TYPE_NORMAL
- en: 21 rows in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE174]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT SUM(DATA_LENGTH)/1024/1024 AS DATA_SIZE_MB, SUM(INDEX_LENGTH)/1024/1024
    AS INDEX_SIZE_MB, SUM(DATA_FREE)/1024/1024 AS DATA_FREE_MB FROM INFORMATION_SCHEMA.TABLES
    WHERE TABLE_SCHEMA='employees';
  prefs: []
  type: TYPE_NORMAL
- en: +--------------+---------------+--------------+
  prefs: []
  type: TYPE_NORMAL
- en: '| DATA_SIZE_MB | INDEX_SIZE_MB | DATA_FREE_MB |'
  prefs: []
  type: TYPE_TB
- en: +--------------+---------------+--------------+
  prefs: []
  type: TYPE_NORMAL
- en: '|  17.39062500 |   14.62500000 |  11.00000000 |'
  prefs: []
  type: TYPE_TB
- en: +--------------+---------------+--------------+
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.01 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE175]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM COLUMNS WHERE TABLE_NAME='employees'\G
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE176]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM FILES WHERE FILE_NAME LIKE './employees/employees.ibd'\G
  prefs: []
  type: TYPE_NORMAL
- en: ~~~
  prefs: []
  type: TYPE_NORMAL
- en: 'EXTENT_SIZE: 1048576'
  prefs: []
  type: TYPE_NORMAL
- en: 'AUTOEXTEND_SIZE: 4194304'
  prefs: []
  type: TYPE_NORMAL
- en: 'DATA_FREE: 13631488'
  prefs: []
  type: TYPE_NORMAL
- en: ~~~
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE177]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM INNODB_TABLESPACES WHERE NAME='employees/employees'\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'SPACE: 118'
  prefs: []
  type: TYPE_NORMAL
- en: 'NAME: employees/employees'
  prefs: []
  type: TYPE_NORMAL
- en: 'FLAG: 16417'
  prefs: []
  type: TYPE_NORMAL
- en: 'ROW_FORMAT: Dynamic'
  prefs: []
  type: TYPE_NORMAL
- en: 'PAGE_SIZE: 16384'
  prefs: []
  type: TYPE_NORMAL
- en: 'ZIP_PAGE_SIZE: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'SPACE_TYPE: Single'
  prefs: []
  type: TYPE_NORMAL
- en: 'FS_BLOCK_SIZE: 4096'
  prefs: []
  type: TYPE_NORMAL
- en: 'FILE_SIZE: 32505856'
  prefs: []
  type: TYPE_NORMAL
- en: 'ALLOCATED_SIZE: 32509952'
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE178]'
  prefs: []
  type: TYPE_PRE
- en: shell> sudo ls -ltr /var/lib/mysql/employees/employees.ibd
  prefs: []
  type: TYPE_NORMAL
- en: -rw-r----- 1 mysql mysql 32505856 Jun 20 16:50 /var/lib/mysql/employees/employees.ibd
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE179]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM INNODB_TABLESTATS WHERE NAME='employees/employees'\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'TABLE_ID: 128'
  prefs: []
  type: TYPE_NORMAL
- en: 'NAME: employees/employees'
  prefs: []
  type: TYPE_NORMAL
- en: 'STATS_INITIALIZED: Initialized'
  prefs: []
  type: TYPE_NORMAL
- en: 'NUM_ROWS: 299468'
  prefs: []
  type: TYPE_NORMAL
- en: 'CLUST_INDEX_SIZE: 1057'
  prefs: []
  type: TYPE_NORMAL
- en: 'OTHER_INDEX_SIZE: 545'
  prefs: []
  type: TYPE_NORMAL
- en: 'MODIFIED_COUNTER: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'AUTOINC: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'REF_COUNT: 1'
  prefs: []
  type: TYPE_NORMAL
- en: 1 row in set (0.00 sec)
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE180]'
  prefs: []
  type: TYPE_PRE
- en: mysql> SELECT * FROM PROCESSLIST\G
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 1\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'ID: 85'
  prefs: []
  type: TYPE_NORMAL
- en: 'USER: event_scheduler'
  prefs: []
  type: TYPE_NORMAL
- en: 'HOST: localhost'
  prefs: []
  type: TYPE_NORMAL
- en: 'DB: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: 'COMMAND: Daemon'
  prefs: []
  type: TYPE_NORMAL
- en: 'TIME: 44'
  prefs: []
  type: TYPE_NORMAL
- en: 'STATE: Waiting for next activation'
  prefs: []
  type: TYPE_NORMAL
- en: 'INFO: NULL'
  prefs: []
  type: TYPE_NORMAL
- en: '*************************** 2\. row ***************************'
  prefs: []
  type: TYPE_NORMAL
- en: 'ID: 26231'
  prefs: []
  type: TYPE_NORMAL
- en: 'USER: root'
  prefs: []
  type: TYPE_NORMAL
- en: 'HOST: localhost'
  prefs: []
  type: TYPE_NORMAL
- en: 'DB: information_schema'
  prefs: []
  type: TYPE_NORMAL
- en: 'COMMAND: Query'
  prefs: []
  type: TYPE_NORMAL
- en: 'TIME: 0'
  prefs: []
  type: TYPE_NORMAL
- en: 'STATE: executing'
  prefs: []
  type: TYPE_NORMAL
- en: 'INFO: SELECT * FROM PROCESSLIST'
  prefs: []
  type: TYPE_NORMAL
- en: 2 rows in set (0.00 sec
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  prefs: []
  type: TYPE_NORMAL
- en: Or you can execute `SHOW PROCESSLIST;` to get the same output.
  prefs: []
  type: TYPE_NORMAL
- en: '**Other tables**: `ROUTINES` contains the definition of functions and stored
    routines. `TRIGGERS` contains the definition of triggers. `VIEWS` contains the
    definition of views.'
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To learn about the improvements in `INFORMATION_SCHEMA`, refer to [http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/](http://mysqlserverteam.com/mysql-8-0-improvements-to-information_schema/).
  prefs: []
  type: TYPE_NORMAL
